<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="keywords" content="open-source, embedded systems, machine learning, tinyML">

<title>Embedded AI: Principles, Algorithms, and Applications - 2&nbsp; Embedded Systems</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./embedded_ml.html" rel="next">
<link href="./introduction.html" rel="prev">
<link href="./cover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./embedded_sys.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Embedded Systems</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Embedded AI: Principles, Algorithms, and Applications</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/harvard-edge/cs249r_book.git" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Embedded-AI--Principles,-Algorithms,-and-Applications.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Embedded-AI--Principles,-Algorithms,-and-Applications.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./copyright.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Copyright</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dedication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dedication</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./embedded_sys.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Embedded Systems</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./embedded_ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Embedded ML</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mlworkflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">ML Workflow</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Engineering</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preprocessing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Pre-processing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./frameworks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">ML Frameworks</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Model Training</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./efficient_ai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Efficient AI</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./optimizations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Optimizations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Deployment</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ondevice_learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">On-Device Learning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hw_acceleration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Hardware Acceleration</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mlops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">MLOps</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./privacy_security.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Privacy and Security</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sustainable_ai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">AI Sustainability</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./responsible_ai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Responsible AI</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./generative_ai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Generative AI</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction-to-embedded-systems" id="toc-introduction-to-embedded-systems" class="nav-link active" data-scroll-target="#introduction-to-embedded-systems"><span class="header-section-number">2.1</span> Introduction to Embedded Systems</a>
  <ul class="collapse">
  <li><a href="#definition-and-characteristics" id="toc-definition-and-characteristics" class="nav-link" data-scroll-target="#definition-and-characteristics"><span class="header-section-number">2.1.1</span> Definition and Characteristics</a></li>
  <li><a href="#historical-background" id="toc-historical-background" class="nav-link" data-scroll-target="#historical-background"><span class="header-section-number">2.1.2</span> Historical Background</a></li>
  <li><a href="#importance-in-tinyml" id="toc-importance-in-tinyml" class="nav-link" data-scroll-target="#importance-in-tinyml"><span class="header-section-number">2.1.3</span> Importance in tinyML</a></li>
  </ul></li>
  <li><a href="#architecture-of-embedded-systems" id="toc-architecture-of-embedded-systems" class="nav-link" data-scroll-target="#architecture-of-embedded-systems"><span class="header-section-number">2.2</span> Architecture of Embedded Systems</a>
  <ul class="collapse">
  <li><a href="#microcontrollers-vs-microprocessors" id="toc-microcontrollers-vs-microprocessors" class="nav-link" data-scroll-target="#microcontrollers-vs-microprocessors"><span class="header-section-number">2.2.1</span> Microcontrollers vs Microprocessors</a></li>
  <li><a href="#memory-types-and-management" id="toc-memory-types-and-management" class="nav-link" data-scroll-target="#memory-types-and-management"><span class="header-section-number">2.2.2</span> Memory Types and Management</a></li>
  <li><a href="#system-on-chip-soc" id="toc-system-on-chip-soc" class="nav-link" data-scroll-target="#system-on-chip-soc"><span class="header-section-number">2.2.3</span> System on Chip (SoC)</a></li>
  </ul></li>
  <li><a href="#embedded-systems-programming" id="toc-embedded-systems-programming" class="nav-link" data-scroll-target="#embedded-systems-programming"><span class="header-section-number">2.3</span> Embedded Systems Programming</a>
  <ul class="collapse">
  <li><a href="#programming-languages-c-c-python-etc." id="toc-programming-languages-c-c-python-etc." class="nav-link" data-scroll-target="#programming-languages-c-c-python-etc."><span class="header-section-number">2.3.1</span> Programming Languages: C, C++, Python, etc.</a></li>
  <li><a href="#firmware-development" id="toc-firmware-development" class="nav-link" data-scroll-target="#firmware-development"><span class="header-section-number">2.3.2</span> Firmware Development</a></li>
  <li><a href="#real-time-operating-systems-rtos" id="toc-real-time-operating-systems-rtos" class="nav-link" data-scroll-target="#real-time-operating-systems-rtos"><span class="header-section-number">2.3.3</span> Real-time Operating Systems (RTOS)</a></li>
  </ul></li>
  <li><a href="#interfaces-and-peripherals" id="toc-interfaces-and-peripherals" class="nav-link" data-scroll-target="#interfaces-and-peripherals"><span class="header-section-number">2.4</span> Interfaces and Peripherals</a>
  <ul class="collapse">
  <li><a href="#digital-io" id="toc-digital-io" class="nav-link" data-scroll-target="#digital-io"><span class="header-section-number">2.4.1</span> Digital I/O</a></li>
  <li><a href="#analog-interfaces" id="toc-analog-interfaces" class="nav-link" data-scroll-target="#analog-interfaces"><span class="header-section-number">2.4.2</span> Analog Interfaces</a></li>
  <li><a href="#communication-protocols-spi-i2c-uart-etc." id="toc-communication-protocols-spi-i2c-uart-etc." class="nav-link" data-scroll-target="#communication-protocols-spi-i2c-uart-etc."><span class="header-section-number">2.4.3</span> Communication Protocols (SPI, I2C, UART, etc.)</a></li>
  </ul></li>
  <li><a href="#power-management-in-embedded-systems" id="toc-power-management-in-embedded-systems" class="nav-link" data-scroll-target="#power-management-in-embedded-systems"><span class="header-section-number">2.5</span> Power Management in Embedded Systems</a>
  <ul class="collapse">
  <li><a href="#power-consumption-considerations" id="toc-power-consumption-considerations" class="nav-link" data-scroll-target="#power-consumption-considerations"><span class="header-section-number">2.5.1</span> Power Consumption Considerations</a></li>
  <li><a href="#energy-efficient-design" id="toc-energy-efficient-design" class="nav-link" data-scroll-target="#energy-efficient-design"><span class="header-section-number">2.5.2</span> Energy-Efficient Design</a></li>
  <li><a href="#battery-management" id="toc-battery-management" class="nav-link" data-scroll-target="#battery-management"><span class="header-section-number">2.5.3</span> Battery Management</a></li>
  </ul></li>
  <li><a href="#real-time-characteristics" id="toc-real-time-characteristics" class="nav-link" data-scroll-target="#real-time-characteristics"><span class="header-section-number">2.6</span> Real-Time Characteristics</a>
  <ul class="collapse">
  <li><a href="#real-time-clocks" id="toc-real-time-clocks" class="nav-link" data-scroll-target="#real-time-clocks"><span class="header-section-number">2.6.1</span> Real-time Clocks</a></li>
  <li><a href="#timing-and-synchronization" id="toc-timing-and-synchronization" class="nav-link" data-scroll-target="#timing-and-synchronization"><span class="header-section-number">2.6.2</span> Timing and Synchronization</a></li>
  <li><a href="#task-management-and-scheduling" id="toc-task-management-and-scheduling" class="nav-link" data-scroll-target="#task-management-and-scheduling"><span class="header-section-number">2.6.3</span> Task Management and Scheduling</a></li>
  <li><a href="#error-handling-and-fault-tolerance" id="toc-error-handling-and-fault-tolerance" class="nav-link" data-scroll-target="#error-handling-and-fault-tolerance"><span class="header-section-number">2.6.4</span> Error Handling and Fault Tolerance</a></li>
  </ul></li>
  <li><a href="#security-and-reliability" id="toc-security-and-reliability" class="nav-link" data-scroll-target="#security-and-reliability"><span class="header-section-number">2.7</span> Security and Reliability</a>
  <ul class="collapse">
  <li><a href="#secure-boot-and-root-of-trust" id="toc-secure-boot-and-root-of-trust" class="nav-link" data-scroll-target="#secure-boot-and-root-of-trust"><span class="header-section-number">2.7.1</span> Secure Boot and Root of Trust</a></li>
  <li><a href="#fault-tolerance" id="toc-fault-tolerance" class="nav-link" data-scroll-target="#fault-tolerance"><span class="header-section-number">2.7.2</span> Fault Tolerance</a></li>
  <li><a href="#safety-critical-systems" id="toc-safety-critical-systems" class="nav-link" data-scroll-target="#safety-critical-systems"><span class="header-section-number">2.7.3</span> Safety-Critical Systems</a></li>
  </ul></li>
  <li><a href="#future-trends-and-challenges" id="toc-future-trends-and-challenges" class="nav-link" data-scroll-target="#future-trends-and-challenges"><span class="header-section-number">2.8</span> Future Trends and Challenges</a>
  <ul class="collapse">
  <li><a href="#edge-computing-and-iot" id="toc-edge-computing-and-iot" class="nav-link" data-scroll-target="#edge-computing-and-iot"><span class="header-section-number">2.8.1</span> Edge Computing and IoT</a></li>
  <li><a href="#scalability-and-upgradation" id="toc-scalability-and-upgradation" class="nav-link" data-scroll-target="#scalability-and-upgradation"><span class="header-section-number">2.8.2</span> Scalability and Upgradation</a></li>
  <li><a href="#market-opportunities" id="toc-market-opportunities" class="nav-link" data-scroll-target="#market-opportunities"><span class="header-section-number">2.8.3</span> Market Opportunities</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">2.8.4</span> Conclusion</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/harvard-edge/cs249r_book.git/edit/main/embedded_sys.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/harvard-edge/cs249r_book.git/issues/new" class="toc-action">Report an issue</a></p><p><a href="https://github.com/harvard-edge/cs249r_book.git/blob/main/embedded_sys.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Embedded Systems</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In the realm of tinyML, the role of embedded systems is akin to that of the foundation stone in a building, offering a sturdy base where intelligent algorithms can operate efficiently and effectively. Embedded systems, characterized by their dedicated functions and real-time computational abilities, become the nexus where data meets computation at a micro-level. These systems are finely-tuned to cater to specific tasks, offering optimized performance, power consumption, and space utilization, which are critical aspects in the deployment of tinyML solutions.</p>
<p>As we delve deeper into this chapter, we will unravel the complex, yet fascinating world of embedded systems, understanding their architecture, functionalities, and the pivotal role they play in facilitating tinyML applications. From exploring the basics of microcontroller units to understanding the interfaces and peripherals that enhance their functionalities, this chapter promises to be a rich resource for grasping the intricacies of embedded systems in the context of tinyML.</p>
<section id="introduction-to-embedded-systems" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="introduction-to-embedded-systems"><span class="header-section-number">2.1</span> Introduction to Embedded Systems</h2>
<section id="definition-and-characteristics" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="definition-and-characteristics"><span class="header-section-number">2.1.1</span> Definition and Characteristics</h3>
<p>Embedded systems are specialized computing systems that do not look like computers. They are dedicated to specific tasks and “embed” as part of a larger device. Unlike general-purpose computers that can run a wide variety of applications, embedded systems perform pre-defined tasks, often with very specific requirements. Since they are task-specific, their design ensures optimized performance and reliability. The characteristics that define these systems are as follows:</p>
<ol type="1">
<li><p><strong>Dedicated Functionality</strong>: They are designed to execute a specific function or a set of closely related functions. This focus on specific tasks allows them to be optimized, offering faster performance and reliability.</p></li>
<li><p><strong>Real-Time Operation</strong>: Many embedded systems operate in real-time, which means they are required to respond to inputs or changes in the environment immediately or within a predetermined time frame.</p></li>
<li><p><strong>Integration with Physical Hardware</strong>: Embedded systems are closely integrated with physical hardware, making them more mechanically inclined compared to general-purpose computing systems.</p></li>
<li><p><strong>Long Lifecycle</strong>: These systems typically have a long lifecycle and can continue to function for many years after their initial deployment.</p></li>
<li><p><strong>Resource Constraints</strong>: Embedded systems are often resource-constrained, operating with limited computational power and memory. This necessitates the development of efficient algorithms and software.</p></li>
</ol>
</section>
<section id="historical-background" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="historical-background"><span class="header-section-number">2.1.2</span> Historical Background</h3>
<p>Embedded systems have a rich history, with their roots tracing back to the 1960s when the first microprocessor, the <a href="#fig-Intel4004">Figure&nbsp;<span>2.1</span></a>, made its debut. This paved the way for the creation of the first embedded system which was used in the Apollo Guidance Computer, the primary navigation system of the Apollo spacecraft. Over the years, the field has evolved dramatically, finding applications in various domains including automotive electronics, consumer electronics, telecommunications, and healthcare, among others.</p>
<div id="fig-Intel4004" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://spectrum.ieee.org/media-library/photo-intel.jpg?id=25586036&amp;width=500" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;2.1: Intel 4004</figcaption>
</figure>
</div>
</section>
<section id="importance-in-tinyml" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="importance-in-tinyml"><span class="header-section-number">2.1.3</span> Importance in tinyML</h3>
<p>In the context of tinyML, embedded systems represent a significant frontier. The incorporation of machine learning models directly onto these systems facilitates intelligent decision-making at the edge, reducing latency and enhancing security. Here are several reasons why embedded systems are critical in the tinyML landscape:</p>
<ol type="1">
<li><p><strong>Edge Computing</strong>: By bringing computation closer to the data source, embedded systems enhance efficiency and reduce the necessity for constant communication with centralized data centers.</p></li>
<li><p><strong>Low Power Consumption</strong>: Embedded systems in tinyML are designed to consume minimal power, a critical requirement for battery-operated devices and IoT applications.</p></li>
<li><p><strong>Real-Time Analysis and Decision Making</strong>: Embedded systems can facilitate real-time data analysis, allowing for immediate decision-making based on the insights generated.</p></li>
<li><p><strong>Security and Privacy</strong>: Processing data locally on embedded systems ensures better security and privacy, as it reduces the chances of data interception during transmission.</p></li>
<li><p><strong>Cost-Effective</strong>: Implementing ML models on embedded systems can be cost-effective, especially in scenarios where data transmission and storage in cloud servers might incur significant costs.</p></li>
</ol>
<p>As we venture deeper into this chapter, we will unveil the intricacies that govern the functioning of embedded systems and explore how they form the bedrock upon which tinyML stands, promising a future of integrated, intelligent, and efficient devices and systems.</p>
</section>
</section>
<section id="architecture-of-embedded-systems" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="architecture-of-embedded-systems"><span class="header-section-number">2.2</span> Architecture of Embedded Systems</h2>
<p>The architecture of embedded systems forms the blueprint that delineates the structure and functioning of these specialized systems. It provides insights into how different components within an embedded system interact and collaborate to achieve specific functionalities. This section dissects the integral components of the architecture - microcontrollers, microprocessors, different memory types and their management, and the intricacies of System on Chip (SoC).</p>
<section id="microcontrollers-vs-microprocessors" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="microcontrollers-vs-microprocessors"><span class="header-section-number">2.2.1</span> Microcontrollers vs Microprocessors</h3>
<p>Understanding the difference between microcontrollers and microprocessors is pivotal to grasping the fundamentals of embedded system architecture. Here, we delve into the characteristics of both:</p>
<ul>
<li><p><strong>Microcontrollers</strong></p>
<p>Microcontrollers are compact, integrated circuits designed to govern specific operations in an embedded system. They house a processor, memory, and input/output peripherals in a single unit as shown in <a href="#fig-microcontroller">Figure&nbsp;<span>2.2</span></a>, facilitating simplicity and ease of operation. Microcontrollers are typically used in products where the computational requirements are not highly demanding, and cost-effectiveness is a priority.</p>
<p><strong>Characteristics</strong>:</p>
<ul>
<li>Single-chip solution</li>
<li>On-chip memory and peripherals</li>
<li>Low power consumption</li>
<li>Ideal for control-oriented applications</li>
</ul></li>
</ul>
<div id="fig-microcontroller" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://electronicsforu.com/wp-contents/uploads/2016/05/8c2acbb3d9c4ab2807cec1275225fec7.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;2.2: Microcontrollers</figcaption>
</figure>
</div>
<ul>
<li><p><strong>Microprocessors</strong></p>
<p>On the other hand, microprocessors are more complex, forming the central processing unit within a system, lacking the integrated memory and I/O peripherals found in microcontrollers. They are usually found in systems that demand higher computational power and flexibility. These are used in devices where substantial processing power is required, and the tasks are more data-intensive.</p>
<p><strong>Characteristics</strong>:</p>
<ul>
<li>Requires external components such as memory and I/O peripherals</li>
<li>Higher processing power compared to microcontrollers</li>
<li>More flexible in terms of connectivity with various components</li>
<li>Ideal for data-intensive applications</li>
</ul></li>
</ul>
</section>
<section id="memory-types-and-management" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="memory-types-and-management"><span class="header-section-number">2.2.2</span> Memory Types and Management</h3>
<p>Embedded systems leverage various types of memory, each serving distinct purposes. Effective memory management is crucial to optimize performance and resource utilization. Below we discuss different memory types and how they are managed in an embedded system environment:</p>
<ul>
<li><p><strong>ROM (Read-Only Memory)</strong>: This is non-volatile memory where data is written during manufacturing and remains unchanged throughout the device’s life. It stores the firmware and boot-up instructions.</p></li>
<li><p><strong>RAM (Random Access Memory)</strong>: A volatile memory used to store temporary data generated during the system’s operation. It is faster and allows read-write operations, but data is lost once power is turned off.</p></li>
<li><p><strong>Flash Memory</strong>: A non-volatile memory type that can be electrically erased and reprogrammed. It finds applications in storing firmware or data that needs to persist between reboots.</p></li>
</ul>
<p><strong>Memory Management</strong>:</p>
<ul>
<li><p><strong>Static Memory Allocation</strong>: Memory is allocated before runtime, and the allocation does not change during the system’s operation.</p></li>
<li><p><strong>Dynamic Memory Allocation</strong>: Memory is allocated at runtime, allowing flexibility but at the cost of increased complexity and potential memory leaks.</p></li>
</ul>
</section>
<section id="system-on-chip-soc" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="system-on-chip-soc"><span class="header-section-number">2.2.3</span> System on Chip (SoC)</h3>
<p>Most embedded systems are SoCs. A System on Chip (SoC) represents an advanced integration technology where most of the components required to build a complete system are integrated onto a single chip. It usually contains a microprocessor or microcontroller, memory blocks, peripheral interfaces, and other components required for a fully functioning system. Here’s a deeper look at its characteristics and applications:</p>
<ul>
<li><p><strong>Integration of Multiple Components</strong>: SoCs house multiple components, including CPUs, memory, and peripherals, in a single chip, promoting higher integration levels and minimizing the need for external components.</p></li>
<li><p><strong>Power Efficiency</strong>: Due to the high level of integration, SoCs are often more power-efficient compared to systems built using separate chips.</p></li>
<li><p><strong>Cost-Effectiveness</strong>: The integration leads to reduced manufacturing costs, as fewer separate components are required.</p></li>
<li><p><strong>Applications</strong>: SoCs find applications in a variety of domains, including mobile computing, automotive electronics, and IoT devices, where compact size and power efficiency are prized.</p></li>
</ul>
<p>Here are some examples of widely used SoCs that you may recognize given that they have found substantial applications across various domains:</p>
<ol type="1">
<li><p><strong>Qualcomm Snapdragon</strong>: Predominantly found in smartphones and tablets, they offer a combination of processing power, graphics, and connectivity solutions.</p></li>
<li><p><strong>Apple A-series</strong>: Custom SoCs developed by Apple, utilized in their range of iPhones, iPads, and even in some versions of Apple TV and HomePod. Notable examples include the A14 Bionic and A15 Bionic chips.</p></li>
<li><p><strong>Samsung Exynos</strong>: Developed by Samsung, these are utilized extensively in their range of smartphones, tablets, and other electronic devices.</p></li>
<li><p><strong>NVIDIA Tegra</strong>: Initially designed for mobile devices, they have found substantial applications in automotive and gaming consoles, like the Nintendo Switch. You can see a picture of it below in <a href="#fig-soc">Figure&nbsp;<span>2.3</span></a>.</p></li>
<li><p><strong>Intel Atom</strong>: These are used in a wide variety of systems including netbooks, smartphones, and even embedded systems owing to their power efficiency.</p></li>
<li><p><strong>MediaTek Helio</strong>: Popular in budget to mid-range smartphones, these chips offer a good balance of power efficiency and performance.</p></li>
<li><p><strong>Broadcom SoCs</strong>: Used extensively in networking equipment, Broadcom offers a range of SoCs with different functionalities including those optimized for wireless communications and data processing.</p></li>
<li><p><strong>Texas Instruments (TI) OMAP</strong>: These were popular in smartphones and tablets, offering a range of functionalities including multimedia processing and connectivity.</p></li>
<li><p><strong>Xilinx Zynq</strong>: Predominantly used in embedded systems for industrial automation and for applications demanding high levels of data processing, such as advanced driver-assistance systems (ADAS).</p></li>
<li><p><strong>Altera SoC FPGA</strong>: Now under Intel, these SoCs integrate FPGA technology with ARM cores, offering flexibility and performance for various applications including automotive and industrial systems.</p></li>
</ol>
<div id="fig-soc" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://www.bdti.com/sites/default/files/insidedsp/articlepix/201110/Tegra2.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;2.3: NVIDIA’s Tegra 2 combines two ARM Cortex-A9 cores with an ARM7 for SoC management tasks.</figcaption>
</figure>
</div>
<p>Each of these SoCs presents a unique set of features and capabilities, catering to the diverse needs of the rapidly evolving technology landscape. They integrate multiple components into a single chip, offering power efficiency, cost-effectiveness, and compact solutions for modern electronic devices.</p>
</section>
</section>
<section id="embedded-systems-programming" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="embedded-systems-programming"><span class="header-section-number">2.3</span> Embedded Systems Programming</h2>
<p>Embedded systems programming diverges considerably from traditional software development, specifically honed to navigate the limited resources and the real-time requirements frequently associated with embedded hardware. This section will illuminate the nuances of the different programming languages utilized, delve into the intricacies of firmware development, and explore the critical role of Real-time Operating Systems (RTOS) in this specialized field.</p>
<section id="programming-languages-c-c-python-etc." class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="programming-languages-c-c-python-etc."><span class="header-section-number">2.3.1</span> Programming Languages: C, C++, Python, etc.</h3>
<p>The selection of appropriate programming languages is crucial in embedded systems, often prioritizing direct hardware interaction and optimization of memory usage. Let us explore the specifics of these languages and how they stand apart from those typically utilized in more conventional systems:</p>
<ul>
<li><p><strong>C</strong>: Traditionally the cornerstone of embedded systems programming, the C language facilitates direct interaction with hardware components, offering capabilities for bit-wise operations and manipulating memory addresses. Its procedural approach and low-level capabilities make it the favored choice for constrained environments, focusing on firmware development.</p></li>
<li><p><strong>C++</strong>: Building on the foundation laid by C, C++ integrates object-oriented principles, fostering organized and modular code development. Despite its inherent complexity, it is embraced in scenarios where higher-level abstractions do not compromise the granular control provided by C.</p></li>
<li><p><strong>Python</strong>: While not a classic choice for embedded systems due to its relative memory consumption and runtime delays, Python is finding its place in the embedded domain, especially in systems where resource constraints are less stringent. In recent times, a variant known as MicroPython has emerged, specifically tailored for microcontrollers. <a href="https://micropython.org/">MicroPython</a> retains the simplicity and ease of use of Python while being optimized for embedded environments, offering a flexible programming paradigm that facilitates rapid prototyping and development. For instance, the code snipped below shows how we can use MicroPython to interface with the pins on a <a href="https://store.micropython.org/">PyBoard</a>.</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pyb <span class="co"># Package from PyBoard</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># turn on an LED</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>pyb.LED(<span class="dv">1</span>).on()</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># print some text to the serial console</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Hello MicroPython!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Comparison with Traditional Systems</strong>: In stark contrast to conventional systems, where languages like Java, Python, or JavaScript are celebrated for their development ease and comprehensive libraries, embedded systems are geared towards languages that offer refined control over hardware components and potential optimization opportunities, carefully navigating the limited resources at their disposal.</p>
</section>
<section id="firmware-development" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="firmware-development"><span class="header-section-number">2.3.2</span> Firmware Development</h3>
<p>The realm of firmware development within embedded systems encompasses crafting programs permanently stored in the non-volatile memory of hardware, thus ensuring persistent operation. Here, we delineate how it distinguishes itself from software development for traditional systems:</p>
<ol type="1">
<li><p><strong>Resource Optimization</strong>: The necessity for constant optimization is paramount, enabling the code to function within the confines of restricted memory and processing capacities.</p></li>
<li><p><strong>Hardware Interaction</strong>: Firmware typically exhibits a close-knit relationship with hardware, necessitating a profound comprehension of the hardware components and their functionalities.</p></li>
<li><p><strong>Lifecycle Management</strong>: Firmware updates are less frequent compared to software updates in traditional systems, mandating rigorous testing procedures to avert failures that could culminate in hardware malfunctions.</p></li>
<li><p><strong>Security Concerns</strong>: Given its integral role, firmware is a potential target for security breaches, warranting meticulous scrutiny towards security elements, including secure coding practices and encryption protocols.</p></li>
</ol>
</section>
<section id="real-time-operating-systems-rtos" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="real-time-operating-systems-rtos"><span class="header-section-number">2.3.3</span> Real-time Operating Systems (RTOS)</h3>
<p>RTOS serve as the backbone for real-time systems, orchestrating task execution in a predictable, deterministic manner. This is a sharp deviation from the operating systems in mainstream computing environments, as delineated below:</p>
<ol type="1">
<li><p><strong>Deterministic Timing</strong>: RTOS are structured to respond to inputs or events within a well-defined timeframe, meeting the critical time-sensitive requisites of many embedded systems.</p></li>
<li><p><strong>Task Prioritization</strong>: They facilitate task prioritization, where critical tasks are accorded precedence in processing time allocation over less vital tasks.</p></li>
<li><p><strong>Microkernel Architecture</strong>: A substantial number of RTOS leverage a microkernel architecture, epitomizing minimalism and efficiency by focusing only on the necessary functionalities to facilitate their operations.</p></li>
<li><p><strong>Memory Management</strong>: Memory management in RTOS is often more streamlined compared to their counterparts in traditional operating systems, aiding in swift response times and operational efficacy.</p></li>
</ol>
<p><strong>Examples of RTOS</strong>: Notable examples in this category include <a href="https://www.freertos.org/index.html">FreeRTOS</a>, <a href="https://www.rtems.org/">RTEMS</a>, and <a href="https://en.wikipedia.org/wiki/VxWorks">VxWorks</a>, each offering unique features tailored to meet the diverse requirements of various embedded systems applications.</p>
</section>
</section>
<section id="interfaces-and-peripherals" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="interfaces-and-peripherals"><span class="header-section-number">2.4</span> Interfaces and Peripherals</h2>
<p>Embedded systems interact with the external world through various interfaces and peripherals, which are distinctly streamlined and specialized compared to general-purpose systems. Let’s delve into the specifics:</p>
<section id="digital-io" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="digital-io"><span class="header-section-number">2.4.1</span> Digital I/O</h3>
<p>Digital Input/Output (I/O) interfaces are foundational in embedded systems, allowing them to interact with other devices and components. For example, a digital I/O pin can be used to read a binary signal (0 or 1) from sensors or to control actuators.</p>
<p>In embedded systems, these I/O ports often need to function under strict timing constraints, something which is less prevalent in general-purpose computing systems. Furthermore, these systems are usually programmed to perform specific, optimized operations on digital signals, sometimes needing to work in real time or near-real-time environments.</p>
</section>
<section id="analog-interfaces" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="analog-interfaces"><span class="header-section-number">2.4.2</span> Analog Interfaces</h3>
<p>Analog interfaces in embedded systems are crucial for interacting with a world that largely communicates in analog signals. These interfaces can include components like Analog-to-Digital Converters (ADCs) and Digital-to-Analog Converters (DACs). ADCs, for instance, can be used to read sensor data from environmental sensors like temperature or humidity sensors, translating real-world analog data into a digital format that can be processed by the microcontroller.</p>
<p>Compared to general-purpose systems, embedded systems might employ analog interfaces in a more direct and frequent manner, especially in applications involving sensor integrations, which necessitate the conversion of a wide variety of analog signals to digital data for processing and analysis.</p>
<p>If you look closely enough in <a href="#fig-nicla-io">Figure&nbsp;<span>2.4</span></a>, you will see there are indications of I/O pinouts for analog, digital, as well as communication layouts.</p>
<div id="fig-nicla-io" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://content.arduino.cc/assets/ABX00051-pinout.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;2.4: Nicla Vision pinout</figcaption>
</figure>
</div>
</section>
<section id="communication-protocols-spi-i2c-uart-etc." class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="communication-protocols-spi-i2c-uart-etc."><span class="header-section-number">2.4.3</span> Communication Protocols (SPI, I2C, UART, etc.)</h3>
<p>Communication protocols serve as the conduits for facilitating communication between various components within or connected to an embedded system. Let’s explore a few widely adopted ones:</p>
<ul>
<li><p><strong>SPI (Serial Peripheral Interface)</strong>: This is a synchronous serial communication protocol, which is used for short-distance communication primarily in embedded systems. For example, it is often utilized in SD card and TFT display communications.</p></li>
<li><p><strong>I2C (Inter-Integrated Circuit)</strong>: This is a multi-master, multi-slave, packet switched, single-ended, serial communication bus, which is used widely in embedded systems to connect low-speed peripherals to a motherboard, embedded system, or cellphone. It’s known for its simplicity and low pin count.</p></li>
<li><p><strong>UART (Universal Asynchronous Receiver-Transmitter)</strong>: This communication protocol allows for asynchronous serial communication between devices. It’s widely used in embedded systems to transmit data between devices over a serial port, facilitating the transmission of data logs from a sensor node to a computer, for instance.</p></li>
</ul>
<p>Compared to general-purpose systems, communication protocols in embedded systems are often more optimized for speed and reliability, as they may be used in critical applications where data transmission integrity is paramount. Moreover, they might be directly integrated into the microcontroller, emphasizing a more harmonized and seamless interaction between components, which is typically not observed in general-purpose systems.</p>
</section>
</section>
<section id="power-management-in-embedded-systems" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="power-management-in-embedded-systems"><span class="header-section-number">2.5</span> Power Management in Embedded Systems</h2>
<p>When engineering embedded systems, power management emerges as a pivotal focus area, shaping not only the system’s efficiency but also its viability in real-world applications. The sheer diversity in the deployment of embedded systems, ranging from handheld devices to industrial machinery, underscores the imperative to optimize power management meticulously. Let’s delve into this critical facet of embedded systems:</p>
<section id="power-consumption-considerations" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="power-consumption-considerations"><span class="header-section-number">2.5.1</span> Power Consumption Considerations</h3>
<p>In embedded systems, power consumption is a vital parameter that governs the system’s performance and lifespan. Typically, microcontrollers in these systems operate in the range of 1.8V to 5V, with current consumption being in the microampere (μA) to milliampere (mA) range during active modes. In sleep or standby modes, the current consumption can plummet to nanoamperes (nA), ensuring battery longevity.</p>
<p>Comparatively, general-purpose computing systems, like personal computers, consume power in the order of tens to hundreds of watts, which is several orders of magnitude higher. This stark contrast delineates the necessity for meticulous power management in embedded systems, where the available power budget is often significantly restrained.</p>
<p>The intricacies of managing power consumption hinge on a variety of factors including the operating voltage, clock frequency, and the specific tasks being performed by the system. Often, engineers find themselves navigating a complex trade-off landscape, balancing power consumption against system performance and responsiveness.</p>
</section>
<section id="energy-efficient-design" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="energy-efficient-design"><span class="header-section-number">2.5.2</span> Energy-Efficient Design</h3>
<p>Embedding energy efficiency into the design phase is integral to the successful deployment of embedded systems. Engineers often employ techniques such as dynamic voltage and frequency scaling (DVFS), which allows the system to adjust the voltage and frequency dynamically based on the processing requirements, thereby optimizing power consumption.</p>
<p>Additionally, leveraging low-power modes where non-essential peripherals are turned off or clock frequencies are reduced can significantly conserve power. For instance, utilizing deep sleep modes where the system consumes as little as 100 nA can dramatically enhance battery life, especially in battery-powered embedded systems.</p>
<p>In embedded systems, energy-efficient design isn’t confined to just power-saving modes and techniques like Dynamic Voltage and Frequency Scaling (DVFS); it extends fundamentally to the architecture of the microcontroller itself, particularly in its instruction set architecture (ISA).</p>
<p>The microcontroller instruction set architecture (ISA) in embedded systems is often highly specialized, stripped of any unnecessary complexities that might add to power consumption. This specialization facilitates executing operations using a smaller number of cycles compared to general-purpose processors, which, in turn, reduces the power consumption per operation. Moreover, these specialized ISAs are crafted to efficiently execute the specific types of tasks that the embedded system is designed to perform, optimizing the execution path and thereby conserving energy.</p>
<p>Furthermore, it’s not uncommon to find RISC (Reduced Instruction Set Computer) architectures in embedded systems. These architectures utilize a smaller set of simple instructions compared to Complex Instruction Set Computer (CISC) architectures found in traditional general-purpose systems. This design choice significantly reduces the power consumed per instruction, making these microcontrollers inherently more energy-efficient.</p>
<p>Apart from ISAs, embedded microcontrollers are often integrated with peripherals and components that are tailored to exhibit minimal energy expenditure, further reinforcing the emphasis on energy efficiency. Through careful design, engineers can craft systems that harmoniously integrate performance requirements with power management strategies, crafting solutions that stand as testimony to innovation and sustainability in the field of embedded systems. This meticulous approach to design, focusing on both macro and micro-level optimizations, forms the bedrock of energy efficiency in embedded systems, differentiating them from their general-purpose counterparts which are often characterized by higher power consumption and a broader range of functionalities.</p>
<p>By focusing on these elements, engineers can forge pathways to create systems that not only fulfill their functional roles but do so with an acumen that reflects a deep understanding of the broader impacts of technology on society and the environment.</p>
</section>
<section id="battery-management" class="level3" data-number="2.5.3">
<h3 data-number="2.5.3" class="anchored" data-anchor-id="battery-management"><span class="header-section-number">2.5.3</span> Battery Management</h3>
<p>Battery management constitutes a vital part of power management strategies in embedded systems. The objective here is to maximize battery life without compromising system performance. Battery-powered embedded systems often employ lithium-ion or lithium-polymer batteries due to their high energy density and rechargeable nature. These batteries usually have a voltage range of 3.7V to 4.2V per cell. For instance, the <a href="https://store.arduino.cc/products/nicla-vision">Nicla Vision</a> uses 3.7V battery as shown in <a href="#fig-battery">Figure&nbsp;<span>2.5</span></a>.</p>
<div id="fig-battery" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://content.arduino.cc/assets/nicla_vision_battery.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;2.5: Nicla Vision battery.</figcaption>
</figure>
</div>
<p>Engineers need to incorporate strategies like efficient charge management, overvoltage protection, and temperature monitoring to safeguard the battery’s health and prolong its lifespan. Moreover, developing systems that can harvest energy from the environment, like solar or vibrational energy, can supplement battery power and create sustainable, long-lasting solutions.</p>
<p>The focus on power management stems from the necessity to optimize resource utilization, extend battery life, and reduce operational costs. In deployments where systems are remote or inaccessible, efficient power management can significantly reduce the need for maintenance interventions, thereby ensuring sustained, uninterrupted operation.</p>
<p>One could say that power management in embedded systems is not just a technical requirement but a critical enabler that can dictate the success or failure of a deployment. Engineers invest significantly in optimizing power management strategies to craft systems that are not only efficient but also sustainable, showcasing a deep-seated commitment to innovation and excellence in the embedded systems domain.</p>
</section>
</section>
<section id="real-time-characteristics" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="real-time-characteristics"><span class="header-section-number">2.6</span> Real-Time Characteristics</h2>
<p>In the intricate fabric of embedded systems, the real-time characteristics stand as defining threads, weaving together components and tasks into a coherent, responsive entity. This facet, which is often unique to embedded systems, holds a critical place in the architecture and operation of these systems, providing them with the agility and precision to interact with their environment in a timely manner. Let’s explore the intricacies that underline the real-time characteristics of embedded systems:</p>
<section id="real-time-clocks" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="real-time-clocks"><span class="header-section-number">2.6.1</span> Real-time Clocks</h3>
<p>Real-time clocks (RTCs) play a pivotal role in embedded systems, providing a precise time reference that governs the operations of the system. These clocks often have battery backups to ensure consistent timekeeping even when the main power source is unavailable. The utilization of RTCs is far more prevalent and critical in embedded systems compared to general-purpose computing systems, where timekeeping, although necessary, often doesn’t dictate the system’s core functionality.</p>
<p>For instance, in industrial automation systems, RTCs help in coordinating tasks with high precision, ensuring that processes occur in sync and without delay. They find significant applications in systems where time-stamped data logging is necessary, such as in environmental monitoring systems where data accuracy and time correlation are vital.</p>
</section>
<section id="timing-and-synchronization" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="timing-and-synchronization"><span class="header-section-number">2.6.2</span> Timing and Synchronization</h3>
<p>Timing and synchronization are hallmarks of embedded systems, where multiple components and processes need to work in harmony. The very essence of a real-time embedded system is dictated by its ability to perform tasks within a defined time frame. These systems usually have stringent timing requirements, demanding synchronization mechanisms that are both robust and precise.</p>
<p>For example, in automotive control systems, the timely and synchronized functioning of various sensors and actuators is non-negotiable to ensure safety and optimal performance. This is a stark contrast to general-purpose systems, where timing, although managed, doesn’t often have immediate and critical repercussions.</p>
</section>
<section id="task-management-and-scheduling" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="task-management-and-scheduling"><span class="header-section-number">2.6.3</span> Task Management and Scheduling</h3>
<p>In embedded systems, task management and scheduling are critical to ensuring that the system can respond to real-time events effectively. Task schedulers in these systems might employ strategies such as priority scheduling, where tasks are assigned priority levels, and higher-priority tasks are allowed to pre-empt lower-priority tasks. This is particularly vital in systems where certain operations have a higher criticality.</p>
<p>For instance, in medical devices like pacemakers, the timely delivery of electrical pulses is a critical task, and the scheduling mechanism must prioritize this above all other tasks to ensure the patient’s safety. This finely tuned scheduling and task management is quite unique to embedded systems, distinguishing them markedly from the more flexible and less deterministic scheduling observed in general-purpose systems.</p>
</section>
<section id="error-handling-and-fault-tolerance" class="level3" data-number="2.6.4">
<h3 data-number="2.6.4" class="anchored" data-anchor-id="error-handling-and-fault-tolerance"><span class="header-section-number">2.6.4</span> Error Handling and Fault Tolerance</h3>
<p>To further bolster their real-time characteristics, embedded systems often feature mechanisms for error handling and fault tolerance. These are designed to quickly identify and correct errors, or to maintain system operation even in the face of faults. In aviation control systems, for example, real-time fault tolerance is crucial to maintain flight stability and safety in drones. This level of meticulous error handling is somewhat distinctive to embedded systems compared to general-purpose systems, highlighting the critical nature of many embedded system applications.</p>
<p>The real-time characteristics of embedded systems set them apart, crafting a landscape where precision, synchrony, and timely responses are not just desired but mandatory. These characteristics find resonance in myriad applications, from automotive control systems to industrial automation and healthcare devices, underscoring the embedded systems’ role as silent, yet powerful, orchestrators of a technologically harmonized world. Through their real-time attributes, embedded systems are able to deliver solutions that not only meet the functional requirements but do so with a level of precision and reliability that is both remarkable and indispensable in the contemporary world. ## Security and Reliability</p>
<p>In a world that is ever-increasingly connected and reliant on technology, the topics of security and reliability have vaulted to the forefront of concerns in system design. Particularly in the realm of embedded systems, where these units are often integral parts in critical infrastructures and applications, the stakes are exponentially higher. Let’s delve into the vital aspects that uphold the fortress of security and reliability in embedded systems:</p>
</section>
</section>
<section id="security-and-reliability" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="security-and-reliability"><span class="header-section-number">2.7</span> Security and Reliability</h2>
<section id="secure-boot-and-root-of-trust" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="secure-boot-and-root-of-trust"><span class="header-section-number">2.7.1</span> Secure Boot and Root of Trust</h3>
<p>As embedded systems find themselves at the heart of numerous critical applications, ensuring the authenticity and integrity of the system right from the moment of booting is paramount. The secure boot process is a cornerstone in this security paradigm, allowing the system to only execute code that is verified and trusted. This mechanism is often complemented by a “Root of Trust,” an immutable and trusted environment, usually hardware-based, that validates the initial firmware and subsequent software layers during the boot process.</p>
<p>For instance, in financial transactions using Point-of-Sale (POS) terminals, a secure boot process ensures that the firmware is unaltered and secure, thwarting attempts of malicious firmware alterations which can potentially lead to significant data breaches. Similarly, in home automation systems, a robust secure boot process prevents unauthorized access, safeguarding user privacy and data.</p>
</section>
<section id="fault-tolerance" class="level3" data-number="2.7.2">
<h3 data-number="2.7.2" class="anchored" data-anchor-id="fault-tolerance"><span class="header-section-number">2.7.2</span> Fault Tolerance</h3>
<p>Fault tolerance is an indispensable attribute in embedded systems, bestowing the system with the resilience to continue operations even in the presence of faults or failures. This is achieved through various mechanisms like redundancy, where critical components are duplicated to take over in case of a failure, or through advanced error detection and correction techniques.</p>
<p>In applications such as aerospace and aviation, fault tolerance is not just a desirable feature but a mandatory requirement. Aircraft control systems, for instance, employ multiple redundant systems operating in parallel, ensuring continuous operation even in the case of a component failure. This level of fault tolerance ensures a high degree of reliability, making sure that the system can withstand failures without catastrophic consequences, a characteristic quite unique and elevated compared to traditional computing systems.</p>
</section>
<section id="safety-critical-systems" class="level3" data-number="2.7.3">
<h3 data-number="2.7.3" class="anchored" data-anchor-id="safety-critical-systems"><span class="header-section-number">2.7.3</span> Safety-Critical Systems</h3>
<p>Safety-critical systems are those where a failure could result in loss of life, significant property damage, or environmental harm. These systems require meticulous design to ensure the utmost reliability and safety. Embedded systems in this category often adhere to strict development standards and undergo rigorous testing to validate their reliability and safety characteristics.</p>
<p>For example, in automotive safety systems like Anti-lock Braking Systems (ABS) and Electronic Stability Control (ESC), embedded controllers play a pivotal role. These controllers are developed following stringent standards such as <a href="https://www.iso.org/standard/43464.html">ISO 26262</a>, ensuring that they meet the high reliability and safety requirements necessary to protect lives. In healthcare, devices like pacemakers and infusion pumps fall under this category, where the reliability of embedded systems can literally be a matter of life and death.</p>
<p>The emphasis on security and reliability in embedded systems cannot be overstated and I would state that these are often overlooked topics by most. As these systems intertwine deeper into the fabric of our daily lives and critical infrastructures, the doctrines of security and reliability stand as the beacon guiding the development and deployment of embedded systems. Through mechanisms like secure boot processes and fault tolerance techniques, these systems promise not only functional efficacy but also a shield of trust and safety, offering a robust and secure harbor in a sea of technological advancements and innovations. It’s these foundational principles that shape the embedded systems of today, sculpting them into reliable guardians and efficient executors in various critical spheres of modern society.</p>
</section>
</section>
<section id="future-trends-and-challenges" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="future-trends-and-challenges"><span class="header-section-number">2.8</span> Future Trends and Challenges</h2>
<p>Arm, the largest manufacturer of microcontrollers, has shipped (either directly or indirectly through partners) a record 8.0 billion chips, taking total shipped to date to more than a quarter of a trillion or 250 billion <span class="citation" data-cites="Thefutur92:online">(<a href="references.html#ref-Thefutur92:online" role="doc-biblioref">ARM.com</a>)</span>!</p>
<p>We stand on the cusp of an era of unprecedented growth in the field of embedded systems, it is both exciting and crucial to cast a discerning eye on the possible future trends and challenges that await us. From the burgeoning realms of edge computing to the demands of scalability, the landscape is set to evolve, bringing forth new vistas of opportunities and trials. Let’s venture into the dynamic frontier that the future holds for embedded systems:</p>
<section id="edge-computing-and-iot" class="level3" data-number="2.8.1">
<h3 data-number="2.8.1" class="anchored" data-anchor-id="edge-computing-and-iot"><span class="header-section-number">2.8.1</span> Edge Computing and IoT</h3>
<p>With the proliferation of the Internet of Things (IoT), the role of edge computing is becoming increasingly vital. Edge computing essentially allows data processing at the source, reducing latency and the load on central data centers. This paradigm shift is expected to redefine embedded systems, imbuing them with greater processing capabilities and intelligence to execute complex tasks locally.</p>
<p>Moreover, with the IoT expected to encompass billions of devices globally, embedded systems will play a central role in facilitating seamless connectivity and interoperability among a diverse array of devices. This ecosystem would foster real-time analytics and decision-making, paving the way for smarter cities, industries, and homes. The challenge here lies in developing systems that are secure, energy-efficient, and capable of handling the surge in data volumes efficiently.</p>
</section>
<section id="scalability-and-upgradation" class="level3" data-number="2.8.2">
<h3 data-number="2.8.2" class="anchored" data-anchor-id="scalability-and-upgradation"><span class="header-section-number">2.8.2</span> Scalability and Upgradation</h3>
<p>As embedded systems continue to evolve, the need for scalability and easy upgradation will become a focal point. Systems will be expected to adapt to changing technologies and user requirements without substantial overhauls. This calls for modular designs and open standards that allow for seamless integration of new features and functionalities.</p>
<p>Furthermore, with the rapid advancements in technology, embedded systems will need to be equipped with mechanisms for remote upgrades and maintenance, ensuring their longevity and relevance in a fast-paced technological landscape. The onus will be on developers and manufacturers to create systems that not only meet the current demands but are also primed for future expansions, thereby ensuring a sustainable and progressive development trajectory.</p>
</section>
<section id="market-opportunities" class="level3" data-number="2.8.3">
<h3 data-number="2.8.3" class="anchored" data-anchor-id="market-opportunities"><span class="header-section-number">2.8.3</span> Market Opportunities</h3>
<p>The market dynamics surrounding embedded systems are poised for exciting shifts. As industries increasingly adopt automation and digital transformation, the demand for sophisticated embedded systems is expected to soar. AI and ML are set to integrate deeper into embedded systems, offering unprecedented levels of intelligence and automation.</p>
<p>Simultaneously, there is a burgeoning market for embedded systems in consumer electronics, automotive, healthcare, and industrial applications, presenting vast opportunities for innovation and growth. However, this expansion also brings forth challenges, including increased competition and the need for compliance with evolving regulatory standards. Companies venturing into this space will need to be agile, innovative, and responsive to the changing market dynamics to carve a niche for themselves.</p>
</section>
<section id="conclusion" class="level3" data-number="2.8.4">
<h3 data-number="2.8.4" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">2.8.4</span> Conclusion</h3>
<p>As we look into the horizon, it’s evident that the world of embedded systems is on the brink of a transformative phase, marked by innovations, opportunities, and challenges. The future beckons with promises of greater connectivity, intelligence, and efficiency, forging a path where embedded systems will be at the helm, steering the technological advancements of society. The journey ahead is one of exploration and adaptation, where the marriage of technology and ingenuity will craft a future that is not only technologically enriched but also responsive to the complex and ever-evolving demands of a dynamic world. It is a landscape ripe with potential, beckoning pioneers to venture forth and shape the contours of a promising and vibrant future.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-Thefutur92:online" class="csl-entry" role="listitem">
ARM.com. <span>“The Future Is Being Built on Arm: Market Diversification Continues to Drive Strong Royalty and Licensing Growth as Ecosystem Reaches Quarter of a Trillion Chips Milestone – Arm®.”</span> <a href="https://www.arm.com/company/news/2023/02/arm-announces-q3-fy22-results" class="uri">https://www.arm.com/company/news/2023/02/arm-announces-q3-fy22-results</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./introduction.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./embedded_ml.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Embedded ML</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Embedded AI edited by Prof.&nbsp;Vijay Janapa Reddi (Harvard University) and Prof.&nbsp;Song Han (MIT).</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This book was built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>