'use strict';const a3_0x26494f=a3_0x4cbd;(function(_0x562be8,_0x3063a7){const _0x3bfdd8=a3_0x4cbd,_0x4d9179=_0x562be8();while(!![]){try{const _0x2f4c36=parseInt(_0x3bfdd8(0xa4))/0x1*(parseInt(_0x3bfdd8(0x89))/0x2)+-parseInt(_0x3bfdd8(0xa6))/0x3+parseInt(_0x3bfdd8(0xb1))/0x4+parseInt(_0x3bfdd8(0xa7))/0x5+-parseInt(_0x3bfdd8(0x95))/0x6*(parseInt(_0x3bfdd8(0xb5))/0x7)+parseInt(_0x3bfdd8(0x83))/0x8+parseInt(_0x3bfdd8(0x91))/0x9;if(_0x2f4c36===_0x3063a7)break;else _0x4d9179['push'](_0x4d9179['shift']());}catch(_0x5c3989){_0x4d9179['push'](_0x4d9179['shift']());}}}(a3_0x4901,0xa2d07));function a3_0x4cbd(_0x52c0ee,_0x17dee1){const _0x490141=a3_0x4901();return a3_0x4cbd=function(_0x4cbdf5,_0x16b92e){_0x4cbdf5=_0x4cbdf5-0x79;let _0x431ae8=_0x490141[_0x4cbdf5];return _0x431ae8;},a3_0x4cbd(_0x52c0ee,_0x17dee1);}function a3_0x4901(){const _0x532b40=['sort','catch','isArray','length','5231961pJoTlG','contains','similarity','insert','16674wercpO','delete','objectStoreNames','vectors','put','match','objectStore','Object\x20not\x20found\x20with\x20the\x20provided\x20key','readonly','get','removeFromBucket','POST','status','embedding','_hashIndex','66yYASnq','onsuccess','2820132hNNgvk','2636035VYvoli','interval','reduce','hashVector','Bearer\x20','\x20on\x20\x27object\x27\x20is\x20expected\x20to\x20be\x20an\x20Array\x20or\x20Int8Array','Unable\x20to\x20delete\x20object\x20without\x20a\x20key','text','query','join','1511052QqApIA','slice','all','target','581mOFsAT','updateHashIndex','indexOf','application/json','push','tables','error','charToSplit','numTables','split','forEach','then','has','overlap','splice','createObjectStore','readwrite','vectorDB_new','result','map','add','from','2547896iRvkDV','random','stringify','update','json','webpackChunkinjectchat','994kLDHjj','onerror','transaction','Unable\x20to\x20update\x20object\x20without\x20a\x20key'];a3_0x4901=function(){return _0x532b40;};return a3_0x4901();}(self['webpackChunkinjectchat']=self[a3_0x26494f(0x88)]||[])[a3_0x26494f(0xb9)]([[0x180],{0x20c0:(_0x15b4ee,_0x1b4d00,_0x3e22e8)=>{const _0x15eb38=a3_0x26494f;_0x3e22e8['r'](_0x1b4d00),_0x3e22e8['d'](_0x1b4d00,{'delete_row':()=>_0x57406a,'initiate':()=>_0x4cc854,'quickStart':()=>_0x30847f,'quickStart_single':()=>_0x399571,'search':()=>_0x3d709f,'update':()=>_0x1f9e07});let _0x389e31={'dbName':_0x15eb38(0x7e),'objectStore':_0x15eb38(0x98),'hyperplanes':0xa,'dimensions':0x180,'numPlanes':0x5};class _0x2bc4b8{constructor(_0x4a8b7b,_0x1ad5c3,_0x41869f=0x5){const _0x2a5e75=_0x15eb38;this[_0x2a5e75(0xbd)]=_0x41869f,this[_0x2a5e75(0xba)]=Array[_0x2a5e75(0x82)]({'length':_0x41869f},()=>Array[_0x2a5e75(0x82)]({'length':_0x1ad5c3},()=>function(_0x4f2c3d){const _0x492373=_0x2a5e75;return Array[_0x492373(0x82)]({'length':_0x4f2c3d},()=>Math[_0x492373(0x84)]()-0.5);}(_0x4a8b7b)));}['hashVector'](_0x486e4f){const _0x1482ee=_0x15eb38;return this[_0x1482ee(0xba)][_0x1482ee(0x80)](_0x340727=>_0x340727[_0x1482ee(0x80)](_0x10415c=>_0x486e4f[_0x1482ee(0xa9)]((_0x541abc,_0x336a8c,_0x3f4c55)=>_0x541abc+_0x336a8c*_0x10415c[_0x3f4c55],0x0)>=0x0?'1':'0')[_0x1482ee(0xb0)](''));}}function _0x4540c9(_0x44abd8,_0x1162c6){const _0x555966=_0x15eb38;return 0x1===_0x44abd8['length']&&(_0x44abd8=_0x44abd8[0x0]),_0x44abd8[_0x555966(0xa9)]((_0x164600,_0x2fac2f,_0x5132eb)=>_0x164600+_0x2fac2f*_0x1162c6[_0x5132eb],0x0)/(Math['sqrt'](_0x44abd8['reduce']((_0xa24e2,_0x5d76fe)=>_0xa24e2+_0x5d76fe*_0x5d76fe,0x0))*Math['sqrt'](_0x1162c6[_0x555966(0xa9)]((_0x17c1a4,_0x3e2f47)=>_0x17c1a4+_0x3e2f47*_0x3e2f47,0x0)));}class _0x253c8b{#t;#e;#r;#o;constructor(_0x52440d={}){const {dbName:_0x4920f8,objectStore:_0x144abf,vectorPath:_0x4e1d09,dimensions:_0x21fb8c,numPlanes:_0xfb4173}={..._0x389e31,..._0x52440d};this.#t=_0x144abf,this.#e=_0x4e1d09,this.#o=new _0x2bc4b8(_0x21fb8c,_0xfb4173),this.#r=function(_0x16bf4a){const {dbName:_0x21c7e6,objectStore:_0x3185d3,vectorPath:_0x1f657a}={..._0x389e31,..._0x16bf4a};return new Promise((_0x5710a1,_0x1fdbae)=>{const _0x3cce2d=a3_0x4cbd,_0x515e12=indexedDB['open'](_0x21c7e6,0x2);_0x515e12['onupgradeneeded']=_0x23cf2c=>{const _0x391733=a3_0x4cbd,_0x56df22=_0x23cf2c[_0x391733(0xb4)][_0x391733(0x7f)];_0x56df22[_0x391733(0x97)][_0x391733(0x92)](_0x3185d3)||_0x56df22[_0x391733(0x7c)](_0x3185d3,{'autoIncrement':!0x0});const _0x4c7349=_0x3185d3+_0x391733(0xa3);_0x56df22[_0x391733(0x97)]['contains'](_0x4c7349)||_0x56df22[_0x391733(0x7c)](_0x4c7349,{'autoIncrement':!0x0});},_0x515e12[_0x3cce2d(0xa5)]=_0x5d9c59=>{const _0x2d7937=_0x3cce2d;_0x5710a1(_0x5d9c59['target'][_0x2d7937(0x7f)]);},_0x515e12[_0x3cce2d(0x8a)]=_0x4fcbbe=>{const _0x399156=_0x3cce2d;_0x1fdbae(_0x4fcbbe['target'][_0x399156(0xbb)]);};});}({'dbName':_0x4920f8,'objectStore':_0x144abf,'vectorPath':_0x4e1d09});}async[_0x15eb38(0x94)](_0x4eb9cc){const _0x2cc17a=_0x15eb38,_0x4a10b7=_0x4eb9cc[this.#e];if(!(Array[_0x2cc17a(0x8f)](_0x4a10b7)||_0x4a10b7 instanceof Int8Array))throw new Error(this.#e+_0x2cc17a(0xac));const _0x278020=(await this.#r)[_0x2cc17a(0x8b)]([this.#t,this.#t+'_hashIndex'],'readwrite'),_0x2f0f68=_0x278020['objectStore'](this.#t),_0x559be8=_0x278020[_0x2cc17a(0x9b)](this.#t+_0x2cc17a(0xa3));try{const _0x46c176=_0x2f0f68[_0x2cc17a(0x81)](_0x4eb9cc),_0x1f6702=await new Promise((_0xe09898,_0x5caa9c)=>{const _0x201812=_0x2cc17a;_0x46c176['onsuccess']=()=>_0xe09898(_0x46c176[_0x201812(0x7f)]),_0x46c176[_0x201812(0x8a)]=()=>_0x5caa9c(_0x46c176[_0x201812(0xbb)]);}),_0x3aabd5=this.#o['hashVector'](_0x4a10b7);for(let _0x13f9b7 of _0x3aabd5){const _0x4d33df=await new Promise((_0x2ac574,_0x145845)=>{const _0x422f29=_0x2cc17a,_0x3c08c5=_0x559be8['get'](_0x13f9b7);_0x3c08c5[_0x422f29(0xa5)]=()=>_0x2ac574(_0x3c08c5['result']||[]),_0x3c08c5[_0x422f29(0x8a)]=()=>_0x145845(_0x3c08c5['error']);});_0x4d33df[_0x2cc17a(0xb9)](_0x1f6702),await new Promise((_0x4ba20d,_0x36930f)=>{const _0x20c5cc=_0x2cc17a,_0x55133a=_0x559be8[_0x20c5cc(0x99)](_0x4d33df,_0x13f9b7);_0x55133a[_0x20c5cc(0xa5)]=()=>_0x4ba20d(),_0x55133a['onerror']=()=>_0x36930f(_0x55133a[_0x20c5cc(0xbb)]);});}return _0x1f6702;}catch(_0x5266bf){throw _0x5266bf;}}async[_0x15eb38(0x96)](_0x5c9493){const _0x293af2=_0x15eb38;if(null==_0x5c9493)throw new Error(_0x293af2(0xad));const _0x153a43=(await this.#r)[_0x293af2(0x8b)]([this.#t,this.#t+'_hashIndex'],_0x293af2(0x7d)),_0x4158e1=_0x153a43[_0x293af2(0x9b)](this.#t),_0x3f6446=_0x153a43[_0x293af2(0x9b)](this.#t+_0x293af2(0xa3)),_0x59109e=await new Promise((_0x377544,_0x59c611)=>{const _0x5ef036=_0x293af2,_0x344587=_0x4158e1[_0x5ef036(0x9e)](_0x5c9493);_0x344587[_0x5ef036(0xa5)]=()=>_0x377544(_0x344587[_0x5ef036(0x7f)]),_0x344587[_0x5ef036(0x8a)]=()=>_0x59c611(_0x344587[_0x5ef036(0xbb)]);});if(!_0x59109e)throw new Error(_0x293af2(0x9c));const _0x15e396=_0x59109e[this.#e],_0x476d42=this.#o['hashVector'](_0x15e396);return await Promise[_0x293af2(0xb3)](_0x476d42['map'](_0x25e4c4=>this[_0x293af2(0x9f)](_0x3f6446,_0x5c9493,_0x25e4c4))),new Promise((_0x2010b7,_0x5b2b7a)=>{const _0x28b724=_0x293af2,_0x2af367=_0x4158e1[_0x28b724(0x96)](_0x5c9493);_0x2af367['onsuccess']=()=>_0x2010b7(),_0x2af367[_0x28b724(0x8a)]=()=>_0x5b2b7a(_0x2af367[_0x28b724(0xbb)]);});}async['removeFromBucket'](_0x2dd734,_0x170ba2,_0x2f5a8c){const _0x342cd7=_0x15eb38,_0x44f53b=await new Promise((_0x151588,_0x438bb3)=>{const _0x1ab605=a3_0x4cbd,_0x279bae=_0x2dd734['get'](_0x2f5a8c);_0x279bae[_0x1ab605(0xa5)]=()=>_0x151588(_0x279bae[_0x1ab605(0x7f)]||[]),_0x279bae[_0x1ab605(0x8a)]=()=>_0x438bb3(_0x279bae[_0x1ab605(0xbb)]);}),_0xae8dc4=_0x44f53b[_0x342cd7(0xb7)](_0x170ba2);-0x1!==_0xae8dc4&&(_0x44f53b[_0x342cd7(0x7b)](_0xae8dc4,0x1),await new Promise((_0x5ac547,_0x49dd70)=>{const _0x552b09=_0x342cd7,_0x154de7=_0x2dd734[_0x552b09(0x99)](_0x44f53b,_0x2f5a8c);_0x154de7[_0x552b09(0xa5)]=()=>_0x5ac547(),_0x154de7['onerror']=()=>_0x49dd70(_0x154de7[_0x552b09(0xbb)]);}));}async[_0x15eb38(0x86)](_0x3d75a7,_0x3835be){const _0xcd31cc=_0x15eb38;if(null==_0x3d75a7)throw new Error(_0xcd31cc(0x8c));if(!(this.#e in _0x3835be))throw new Error(this.#e+'\x20expected\x20to\x20be\x20present\x20in\x20the\x20object\x20being\x20updated');if(!(Array[_0xcd31cc(0x8f)](_0x3835be[this.#e])||_0x3835be[this.#e]instanceof Int8Array))throw new Error(this.#e+_0xcd31cc(0xac));const _0x3069d1=(await this.#r)[_0xcd31cc(0x8b)]([this.#t,this.#t+_0xcd31cc(0xa3)],_0xcd31cc(0x7d)),_0x3bc471=_0x3069d1['objectStore'](this.#t),_0x32ea96=_0x3069d1[_0xcd31cc(0x9b)](this.#t+_0xcd31cc(0xa3)),_0x2f2d93=_0x3bc471[_0xcd31cc(0x9e)](_0x3d75a7);return new Promise((_0x988ec3,_0x3ef92d)=>{const _0x9a421b=_0xcd31cc;_0x2f2d93[_0x9a421b(0xa5)]=async()=>{const _0x3ea883=_0x9a421b,_0x294b4b=_0x2f2d93[_0x3ea883(0x7f)];if(!_0x294b4b)return void _0x3ef92d(new Error(_0x3ea883(0x9c)));const _0x54f7b6=this.#o[_0x3ea883(0xaa)](_0x294b4b[this.#e]),_0x4bc761=this.#o[_0x3ea883(0xaa)](_0x3835be[this.#e]),_0x41a68b=_0x3bc471[_0x3ea883(0x99)](_0x3835be,_0x3d75a7);_0x41a68b[_0x3ea883(0xa5)]=async()=>{const _0x3a9161=_0x3ea883;try{for(let _0x37fb9a=0x0;_0x37fb9a<this.#o[_0x3a9161(0xbd)];_0x37fb9a++)_0x54f7b6[_0x37fb9a]!==_0x4bc761[_0x37fb9a]&&await this[_0x3a9161(0xb6)](_0x32ea96,_0x3d75a7,_0x54f7b6[_0x37fb9a],_0x4bc761[_0x37fb9a]);_0x988ec3(_0x41a68b[_0x3a9161(0x7f)]);}catch(_0x509001){_0x3ef92d(_0x509001);}},_0x41a68b[_0x3ea883(0x8a)]=()=>_0x3ef92d(_0x41a68b[_0x3ea883(0xbb)]);},_0x2f2d93[_0x9a421b(0x8a)]=()=>_0x3ef92d(_0x2f2d93[_0x9a421b(0xbb)]);});}async[_0x15eb38(0xb6)](_0x5108bb,_0x2f05a3,_0x40047a,_0x1e06a8){const _0x2c84dd=_0x15eb38,_0x943680=_0x5108bb[_0x2c84dd(0x9e)](_0x40047a),_0x27cf04=await new Promise((_0x1ad936,_0x4cbfc9)=>{const _0x29b713=_0x2c84dd;_0x943680['onsuccess']=()=>_0x1ad936(_0x943680['result']||[]),_0x943680[_0x29b713(0x8a)]=()=>_0x4cbfc9(_0x943680[_0x29b713(0xbb)]);}),_0xa49d49=_0x27cf04[_0x2c84dd(0xb7)](_0x2f05a3);-0x1!==_0xa49d49&&(_0x27cf04['splice'](_0xa49d49,0x1),await _0x5108bb[_0x2c84dd(0x99)](_0x27cf04,_0x40047a));const _0x37ff4b=_0x5108bb[_0x2c84dd(0x9e)](_0x1e06a8),_0x15676f=await new Promise((_0xbe6653,_0x3b4f73)=>{const _0x1f4fe6=_0x2c84dd;_0x37ff4b['onsuccess']=()=>_0xbe6653(_0x37ff4b[_0x1f4fe6(0x7f)]||[]),_0x37ff4b['onerror']=()=>_0x3b4f73(_0x37ff4b[_0x1f4fe6(0xbb)]);});_0x15676f[_0x2c84dd(0xb9)](_0x2f05a3),await _0x5108bb['put'](_0x15676f,_0x1e06a8);}async[_0x15eb38(0xaf)](_0x10a112,_0x50c746={'limit':0xa}){const _0x496cc6=_0x15eb38,{limit:_0x365923}=_0x50c746;let _0x46467a=new Set(),_0x2ce968=[];try{const _0x436241=(await this.#r)[_0x496cc6(0x8b)]([this.#t,this.#t+'_hashIndex'],_0x496cc6(0x9d)),_0x66a9ad=_0x436241[_0x496cc6(0x9b)](this.#t),_0x3c5aee=_0x436241['objectStore'](this.#t+_0x496cc6(0xa3)),_0x589abc=this.#o['hashVector'](_0x10a112);for(let _0x226aaa of _0x589abc){const _0x1d8a87=await new Promise((_0x1319d0,_0x2491a1)=>{const _0x20953e=_0x496cc6,_0x13ddc0=_0x3c5aee[_0x20953e(0x9e)](_0x226aaa);_0x13ddc0['onsuccess']=()=>_0x1319d0(_0x13ddc0[_0x20953e(0x7f)]||[]),_0x13ddc0[_0x20953e(0x8a)]=()=>_0x2491a1(_0x13ddc0[_0x20953e(0xbb)]);});for(let _0x4fca43 of _0x1d8a87)if(!_0x46467a[_0x496cc6(0x79)](_0x4fca43)){_0x46467a[_0x496cc6(0x81)](_0x4fca43);const _0x59f015=await new Promise((_0xf1b79d,_0x5125ff)=>{const _0x56d634=_0x496cc6,_0x104b5a=_0x66a9ad[_0x56d634(0x9e)](_0x4fca43);_0x104b5a[_0x56d634(0xa5)]=()=>_0xf1b79d(_0x104b5a[_0x56d634(0x7f)]),_0x104b5a['onerror']=()=>_0x5125ff(_0x104b5a[_0x56d634(0xbb)]);}),_0x4bf963=_0x4540c9(_0x10a112,_0x59f015[this.#e]);_0x2ce968[_0x496cc6(0xb9)]({'object':_0x59f015,'key':_0x4fca43,'similarity':_0x4bf963});}}return _0x2ce968[_0x496cc6(0x8d)]((_0x47f677,_0xcaa86f)=>_0xcaa86f['similarity']-_0x47f677[_0x496cc6(0x93)]),_0x2ce968[_0x496cc6(0xb2)](0x0,_0x365923);}catch(_0x1e48d7){throw _0x1e48d7;}}get[_0x15eb38(0x9b)](){return this.#t;}}const _0x555d38='https://tinymlbackend3.azurewebsites.net/api/embeddings-binary';function _0x191081(_0xf15c1a,_0x363c88){const _0x1599f0=_0x15eb38;return fetch(_0x555d38,{'method':_0x1599f0(0xa0),'headers':{'Authorization':_0x1599f0(0xab)+_0x363c88,'Content-Type':_0x1599f0(0xb8)},'body':JSON[_0x1599f0(0x85)]({'text':_0xf15c1a})})[_0x1599f0(0xc0)](_0x395566=>{const _0x19ed60=_0x1599f0;if(!_0x395566['ok'])throw new Error('HTTP\x20error!\x20status:\x20'+_0x395566[_0x19ed60(0xa1)]);return _0x395566[_0x19ed60(0x87)]();})[_0x1599f0(0x8e)](_0x45ef87=>{});}const _0x35a823=new class{constructor(_0x208c08,_0x5ec944,_0x2f0ab7='\x0a\x0a'){const _0xd81e32=_0x15eb38;this[_0xd81e32(0xa8)]=_0x208c08,this[_0xd81e32(0x7a)]=_0x5ec944,this[_0xd81e32(0xbc)]=_0x2f0ab7;}['split'](_0x39d454){const _0x577462=_0x15eb38,_0x92b8a9=[],_0x440962=_0x39d454[_0x577462(0xbe)](this['charToSplit']);let _0x1f02de=[],_0x52b233=0x0;return _0x440962[_0x577462(0xbf)](_0x2ded3c=>{const _0x4290d7=_0x577462;(_0x2ded3c[_0x4290d7(0x9a)](/\w+|[^\w\s]+/g)||[])[_0x4290d7(0xbf)](_0x5c24b2=>{const _0x2e03e3=_0x4290d7;_0x52b233+_0x5c24b2['length']+0x1>this[_0x2e03e3(0xa8)]&&(_0x92b8a9[_0x2e03e3(0xb9)](_0x1f02de[_0x2e03e3(0xb0)]('\x20')),_0x1f02de=_0x1f02de[_0x2e03e3(0xb2)](-this[_0x2e03e3(0x7a)]),_0x52b233=_0x1f02de[_0x2e03e3(0xb0)]('\x20')[_0x2e03e3(0x90)]+0x1),_0x1f02de[_0x2e03e3(0xb9)](_0x5c24b2),_0x52b233+=_0x5c24b2[_0x2e03e3(0x90)]+0x1;});}),_0x1f02de[_0x577462(0x90)]>0x0&&_0x92b8a9['push'](_0x1f02de[_0x577462(0xb0)]('\x20')),_0x92b8a9;}}(0xc8,0x14,'\x0a\x0a');let _0x399b28;const _0x519bcd=[];async function _0x4cc854(_0x1d3104){const _0x520431=_0x15eb38;var _0x3c544c;return _0x3c544c={'dbName':_0x1d3104},_0x389e31={..._0x389e31,..._0x3c544c},_0x399b28=new _0x253c8b({'vectorPath':_0x520431(0xa2)}),_0x389e31;}async function _0x30847f(_0x3417f3,_0x109009,_0x59a1a1=!0x0){const _0x421050=_0x15eb38,{text:_0x4d4a86,..._0x2f7639}=_0x3417f3,_0xbfae0b=_0x35a823[_0x421050(0xbe)](_0x4d4a86);let _0x4cde4b;_0x4cde4b=await _0x191081(_0xbfae0b,_0x109009);for(let _0x511df6=0x0;_0x511df6<_0xbfae0b[_0x421050(0x90)];_0x511df6++){const {text:_0x18bba7,..._0x3537a3}=_0x3417f3;_0x3537a3[_0x421050(0xae)]=_0xbfae0b[_0x511df6];const _0x5f51bb=await _0x399b28[_0x421050(0x94)]({'embedding':_0x4cde4b[_0x511df6],..._0x3537a3});_0x519bcd[_0x421050(0xb9)]({'key':_0x5f51bb,..._0x3537a3});}return _0x519bcd;}async function _0x3d709f(_0x575a89,_0xf22ec={'limit':0x5},_0x49e286,_0x466866=!0x0){const _0x1adafe=_0x15eb38;let _0x5b8e23;return _0x5b8e23=await _0x191081(_0x575a89,_0x49e286),await _0x399b28[_0x1adafe(0xaf)](_0x5b8e23,_0xf22ec);}async function _0x399571(_0x4c9197,_0x1c4bdc,_0x2b480c=!0x0){const _0x99c361=_0x15eb38,{text:_0x5f052e,..._0xa8ff7e}=_0x4c9197,_0x1c8b45=_0x191081([_0x5f052e],_0x1c4bdc),_0x4ab964=await _0x399b28[_0x99c361(0x94)]({'embedding':_0x1c8b45,'text':_0x5f052e,..._0xa8ff7e});return _0x519bcd['push']({'key':_0x4ab964,..._0xa8ff7e}),_0x519bcd;}async function _0x57406a(_0x13c333){const _0x2831cd=_0x15eb38;return await _0x399b28[_0x2831cd(0x96)](_0x13c333);}async function _0x1f9e07(_0x4989b2,_0x1a09f9,_0x31ebec){const _0x5507f3=_0x15eb38,_0x285993=_0x1a09f9[_0x5507f3(0xae)];if(!_0x1a09f9[_0x5507f3(0xa2)]){const _0x492ae2=await _0x191081([_0x285993],_0x31ebec);_0x1a09f9[_0x5507f3(0xa2)]=_0x492ae2;}return await _0x399b28[_0x5507f3(0x86)](_0x4989b2,{'embedding':text_embeddings,'metaData':_0x1a09f9});}}}]);