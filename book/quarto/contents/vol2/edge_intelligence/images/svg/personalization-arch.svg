<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arr" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#333"/>
    </marker>
    <marker id="arr-red" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#c44"/>
    </marker>
    <marker id="arr-blue" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#4a90c4"/>
    </marker>
    <marker id="arr-orange" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#c87b2a"/>
    </marker>
  </defs>

  <rect width="680" height="460" fill="#fff"/>

  <!-- Panel A: Full Fine-tuning -->
  <g transform="translate(12, 14)">
    <rect x="0" y="0" width="204" height="428" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <rect x="0" y="0" width="204" height="30" rx="6" fill="#f9d6d5" stroke="#c44" stroke-width="1.2"/>
    <rect x="0" y="18" width="204" height="12" fill="#f9d6d5"/>
    <text x="102" y="20" font-size="11" font-weight="700" fill="#333" text-anchor="middle">A — Full Fine-tuning</text>

    <!-- 5 fully trainable layers + gradient arrow -->
    <rect x="30" y="46" width="126" height="24" rx="3" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
    <text x="93" y="62" font-size="8.5" fill="#1a5a8a" text-anchor="middle">Layer 1 (trainable)</text>

    <rect x="30" y="84" width="126" height="24" rx="3" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
    <text x="93" y="100" font-size="8.5" fill="#1a5a8a" text-anchor="middle">Layer 2 (trainable)</text>

    <rect x="30" y="122" width="126" height="24" rx="3" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
    <text x="93" y="138" font-size="8.5" fill="#1a5a8a" text-anchor="middle">Layer 3 (trainable)</text>

    <rect x="30" y="160" width="126" height="24" rx="3" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
    <text x="93" y="176" font-size="8.5" fill="#1a5a8a" text-anchor="middle">Layer 4 (trainable)</text>

    <rect x="30" y="198" width="126" height="24" rx="3" fill="#4a90c4" stroke="#1a5a8a" stroke-width="1.5"/>
    <text x="93" y="214" font-size="8.5" fill="#fff" text-anchor="middle" font-weight="600">Head (trainable)</text>

    <!-- Gradient backprop arrow -->
    <path d="M 162,212 Q 176,212 176,190 Q 176,60 162,58" fill="none" stroke="#c44" stroke-width="1.3" stroke-dasharray="4,2" marker-end="url(#arr-red)"/>
    <text x="182" y="136" font-size="7.5" fill="#c44" text-anchor="start" transform="rotate(90,182,136)">gradient all layers</text>

    <!-- Connecting lines -->
    <line x1="93" y1="70" x2="93" y2="84" stroke="#4a90c4" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="93" y1="108" x2="93" y2="122" stroke="#4a90c4" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="93" y1="146" x2="93" y2="160" stroke="#4a90c4" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="93" y1="184" x2="93" y2="198" stroke="#4a90c4" stroke-width="1" stroke-dasharray="2,2"/>

    <!-- Property box -->
    <rect x="14" y="240" width="176" height="52" rx="3" fill="#f9d6d5" stroke="#c44" stroke-width="0.8"/>
    <text x="102" y="256" font-size="8.5" font-weight="700" fill="#a31f34" text-anchor="middle">High memory, high accuracy</text>
    <text x="102" y="270" font-size="8" fill="#c44" text-anchor="middle">Stores all intermediate activations</text>
    <text x="102" y="282" font-size="8" fill="#c44" text-anchor="middle">3–5× inference memory footprint</text>

    <!-- Memory bar -->
    <rect x="14" y="304" width="22" height="90" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.8"/>
    <rect x="14" y="304" width="22" height="88" rx="2" fill="#f9d6d5" stroke="#c44" stroke-width="0.8"/>
    <text x="25" y="300" font-size="7.5" fill="#c44" text-anchor="middle">Mem</text>
    <text x="44" y="330" font-size="7.5" fill="#c44">high</text>

    <!-- Param count bar -->
    <rect x="90" y="304" width="22" height="90" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.8"/>
    <rect x="90" y="304" width="22" height="88" rx="2" fill="#cfe2f3" stroke="#4a90c4" stroke-width="0.8"/>
    <text x="101" y="300" font-size="7.5" fill="#4a90c4" text-anchor="middle">Params</text>
    <text x="116" y="330" font-size="7.5" fill="#4a90c4">all</text>

    <text x="102" y="410" font-size="8" fill="#777" text-anchor="middle">Suitable when:</text>
    <text x="102" y="424" font-size="8" fill="#777" text-anchor="middle">large memory + data available</text>
  </g>

  <!-- Panel B: Head-Only Adaptation -->
  <g transform="translate(238, 14)">
    <rect x="0" y="0" width="204" height="428" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <rect x="0" y="0" width="204" height="30" rx="6" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
    <rect x="0" y="18" width="204" height="12" fill="#d4edda"/>
    <text x="102" y="20" font-size="11" font-weight="700" fill="#333" text-anchor="middle">B — Head-Only Adaptation</text>

    <!-- Frozen backbone layers (gray) -->
    <rect x="30" y="46" width="126" height="24" rx="3" fill="#e0e0e0" stroke="#999" stroke-width="1.2"/>
    <text x="93" y="62" font-size="8.5" fill="#777" text-anchor="middle">Layer 1 (frozen)</text>

    <rect x="30" y="84" width="126" height="24" rx="3" fill="#e0e0e0" stroke="#999" stroke-width="1.2"/>
    <text x="93" y="100" font-size="8.5" fill="#777" text-anchor="middle">Layer 2 (frozen)</text>

    <rect x="30" y="122" width="126" height="24" rx="3" fill="#e0e0e0" stroke="#999" stroke-width="1.2"/>
    <text x="93" y="138" font-size="8.5" fill="#777" text-anchor="middle">Layer 3 (frozen)</text>

    <rect x="30" y="160" width="126" height="24" rx="3" fill="#e0e0e0" stroke="#999" stroke-width="1.2"/>
    <text x="93" y="176" font-size="8.5" fill="#777" text-anchor="middle">Layer 4 (frozen)</text>

    <!-- Trainable head only -->
    <rect x="30" y="198" width="126" height="24" rx="3" fill="#3d9e5a" stroke="#1a6a3a" stroke-width="1.5"/>
    <text x="93" y="214" font-size="8.5" fill="#fff" text-anchor="middle" font-weight="600">Head (trainable)</text>

    <!-- Only head gradient -->
    <path d="M 162,212 Q 174,212 174,198" fill="none" stroke="#3d9e5a" stroke-width="1.3" marker-end="url(#arr)"/>
    <text x="178" y="208" font-size="7" fill="#3d9e5a">grad</text>

    <!-- Freeze symbol on backbone -->
    <text x="172" y="130" font-size="14" fill="#aaa" text-anchor="middle">❄</text>

    <!-- Connecting lines -->
    <line x1="93" y1="70" x2="93" y2="84" stroke="#999" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="93" y1="108" x2="93" y2="122" stroke="#999" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="93" y1="146" x2="93" y2="160" stroke="#999" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="93" y1="184" x2="93" y2="198" stroke="#3d9e5a" stroke-width="1"/>

    <!-- Property box -->
    <rect x="14" y="240" width="176" height="52" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
    <text x="102" y="256" font-size="8.5" font-weight="700" fill="#1a6a3a" text-anchor="middle">Low memory, fast adaptation</text>
    <text x="102" y="270" font-size="8" fill="#3d9e5a" text-anchor="middle">No activations stored for backbone</text>
    <text x="102" y="282" font-size="8" fill="#3d9e5a" text-anchor="middle">Head params only trained</text>

    <!-- Memory bar -->
    <rect x="14" y="304" width="22" height="90" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.8"/>
    <rect x="14" y="364" width="22" height="30" rx="2" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
    <text x="25" y="300" font-size="7.5" fill="#3d9e5a" text-anchor="middle">Mem</text>
    <text x="44" y="368" font-size="7.5" fill="#3d9e5a">low</text>

    <!-- Param bar -->
    <rect x="90" y="304" width="22" height="90" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.8"/>
    <rect x="90" y="376" width="22" height="18" rx="2" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
    <text x="101" y="300" font-size="7.5" fill="#3d9e5a" text-anchor="middle">Params</text>
    <text x="116" y="376" font-size="7.5" fill="#3d9e5a">few</text>

    <text x="102" y="410" font-size="8" fill="#777" text-anchor="middle">Suitable when:</text>
    <text x="102" y="424" font-size="8" fill="#777" text-anchor="middle">limited memory, same domain</text>
  </g>

  <!-- Panel C: Adapter / LoRA -->
  <g transform="translate(464, 14)">
    <rect x="0" y="0" width="204" height="428" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <rect x="0" y="0" width="204" height="30" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
    <rect x="0" y="18" width="204" height="12" fill="#fdebd0"/>
    <text x="102" y="20" font-size="11" font-weight="700" fill="#333" text-anchor="middle">C — Adapter / LoRA</text>

    <!-- Frozen backbone with adapter modules -->
    <!-- Layer 1 + adapter -->
    <rect x="30" y="46" width="100" height="24" rx="3" fill="#e0e0e0" stroke="#999" stroke-width="1.2"/>
    <text x="80" y="62" font-size="8" fill="#777" text-anchor="middle">Layer 1 (frozen)</text>
    <rect x="138" y="48" width="40" height="20" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.5"/>
    <text x="158" y="61" font-size="7.5" fill="#7a4a10" text-anchor="middle" font-weight="600">Adapter</text>
    <line x1="130" y1="58" x2="138" y2="58" stroke="#c87b2a" stroke-width="1"/>

    <!-- Layer 2 + adapter -->
    <rect x="30" y="84" width="100" height="24" rx="3" fill="#e0e0e0" stroke="#999" stroke-width="1.2"/>
    <text x="80" y="100" font-size="8" fill="#777" text-anchor="middle">Layer 2 (frozen)</text>
    <rect x="138" y="86" width="40" height="20" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.5"/>
    <text x="158" y="99" font-size="7.5" fill="#7a4a10" text-anchor="middle" font-weight="600">Adapter</text>
    <line x1="130" y1="96" x2="138" y2="96" stroke="#c87b2a" stroke-width="1"/>

    <!-- Layer 3 + adapter -->
    <rect x="30" y="122" width="100" height="24" rx="3" fill="#e0e0e0" stroke="#999" stroke-width="1.2"/>
    <text x="80" y="138" font-size="8" fill="#777" text-anchor="middle">Layer 3 (frozen)</text>
    <rect x="138" y="124" width="40" height="20" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.5"/>
    <text x="158" y="137" font-size="7.5" fill="#7a4a10" text-anchor="middle" font-weight="600">LoRA</text>
    <line x1="130" y1="134" x2="138" y2="134" stroke="#c87b2a" stroke-width="1"/>

    <!-- Layer 4 + adapter -->
    <rect x="30" y="160" width="100" height="24" rx="3" fill="#e0e0e0" stroke="#999" stroke-width="1.2"/>
    <text x="80" y="176" font-size="8" fill="#777" text-anchor="middle">Layer 4 (frozen)</text>
    <rect x="138" y="162" width="40" height="20" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.5"/>
    <text x="158" y="175" font-size="7.5" fill="#7a4a10" text-anchor="middle" font-weight="600">LoRA</text>
    <line x1="130" y1="172" x2="138" y2="172" stroke="#c87b2a" stroke-width="1"/>

    <!-- Head -->
    <rect x="30" y="198" width="100" height="24" rx="3" fill="#c87b2a" stroke="#7a4a10" stroke-width="1.5"/>
    <text x="80" y="214" font-size="8.5" fill="#fff" text-anchor="middle" font-weight="600">Head (trainable)</text>

    <!-- Freeze icon -->
    <text x="18" y="138" font-size="14" fill="#aaa" text-anchor="middle">❄</text>

    <!-- Connecting lines backbone -->
    <line x1="80" y1="70" x2="80" y2="84" stroke="#999" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="80" y1="108" x2="80" y2="122" stroke="#999" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="80" y1="146" x2="80" y2="160" stroke="#999" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="80" y1="184" x2="80" y2="198" stroke="#c87b2a" stroke-width="1"/>

    <!-- Adapter residual connections -->
    <path d="M 158,68 Q 190,68 190,80 Q 190,92 158,96" fill="none" stroke="#c87b2a" stroke-width="0.8" stroke-dasharray="2,1"/>
    <path d="M 158,106 Q 190,106 190,118 Q 190,130 158,134" fill="none" stroke="#c87b2a" stroke-width="0.8" stroke-dasharray="2,1"/>
    <path d="M 158,144 Q 190,144 190,156 Q 190,168 158,172" fill="none" stroke="#c87b2a" stroke-width="0.8" stroke-dasharray="2,1"/>

    <!-- Property box -->
    <rect x="14" y="240" width="176" height="52" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="0.8"/>
    <text x="102" y="256" font-size="8.5" font-weight="700" fill="#7a4a10" text-anchor="middle">Minimal params, composable</text>
    <text x="102" y="270" font-size="8" fill="#c87b2a" text-anchor="middle">r ≪ d: low-rank decomposition</text>
    <text x="102" y="282" font-size="8" fill="#c87b2a" text-anchor="middle">&lt;1% of backbone params trained</text>

    <!-- Memory bar -->
    <rect x="14" y="304" width="22" height="90" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.8"/>
    <rect x="14" y="380" width="22" height="14" rx="2" fill="#fdebd0" stroke="#c87b2a" stroke-width="0.8"/>
    <text x="25" y="300" font-size="7.5" fill="#c87b2a" text-anchor="middle">Mem</text>
    <text x="44" y="384" font-size="7.5" fill="#c87b2a">tiny</text>

    <!-- Param bar -->
    <rect x="90" y="304" width="22" height="90" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.8"/>
    <rect x="90" y="384" width="22" height="10" rx="2" fill="#fdebd0" stroke="#c87b2a" stroke-width="0.8"/>
    <text x="101" y="300" font-size="7.5" fill="#c87b2a" text-anchor="middle">Params</text>
    <text x="116" y="384" font-size="7.5" fill="#c87b2a">1%</text>

    <text x="102" y="410" font-size="8" fill="#777" text-anchor="middle">Suitable when:</text>
    <text x="102" y="424" font-size="8" fill="#777" text-anchor="middle">extreme memory constraints</text>
  </g>

  <text x="340" y="443" font-size="9" fill="#999" text-anchor="middle" font-style="italic">Personalization strategies trade expressivity for memory efficiency;</text>
  <text x="340" y="455" font-size="9" fill="#999" text-anchor="middle" font-style="italic">adapters approach near-full accuracy at 1% parameter cost.</text>
</svg>
