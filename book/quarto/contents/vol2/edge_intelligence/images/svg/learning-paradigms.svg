<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arr" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#333"/>
    </marker>
    <marker id="arr-blue" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#4a90c4"/>
    </marker>
    <marker id="arr-green" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#3d9e5a"/>
    </marker>
    <marker id="arr-orange" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#c87b2a"/>
    </marker>
  </defs>

  <rect width="680" height="460" fill="#fff"/>

  <!-- Panel 1: Offline Learning -->
  <g transform="translate(12, 14)">
    <rect x="0" y="0" width="206" height="418" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <!-- Header -->
    <rect x="0" y="0" width="206" height="32" rx="6" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
    <rect x="0" y="18" width="206" height="14" fill="#cfe2f3"/>
    <text x="103" y="21" font-size="11" font-weight="700" fill="#333" text-anchor="middle">Offline Learning</text>

    <!-- Cloud training icon -->
    <rect x="50" y="48" width="106" height="56" rx="6" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.5"/>
    <text x="103" y="68" font-size="9" font-weight="600" fill="#1a5a8a" text-anchor="middle">Cloud Training</text>
    <!-- mini layers -->
    <rect x="64" y="76" width="78" height="6" rx="2" fill="#4a90c4" opacity="0.6"/>
    <rect x="64" y="84" width="78" height="6" rx="2" fill="#4a90c4" opacity="0.8"/>
    <rect x="64" y="92" width="78" height="6" rx="2" fill="#4a90c4"/>

    <!-- Arrow down: deploy -->
    <line x1="103" y1="108" x2="103" y2="134" stroke="#4a90c4" stroke-width="1.5" marker-end="url(#arr-blue)"/>
    <text x="114" y="125" font-size="8" fill="#4a90c4">deploy</text>

    <!-- Device with static model -->
    <rect x="60" y="136" width="86" height="68" rx="5" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
    <text x="103" y="154" font-size="8.5" font-weight="600" fill="#7a4a10" text-anchor="middle">Device</text>
    <!-- frozen model bars -->
    <rect x="72" y="160" width="62" height="6" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.5"/>
    <rect x="72" y="169" width="62" height="6" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.5"/>
    <rect x="72" y="178" width="62" height="6" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.5"/>
    <rect x="72" y="187" width="62" height="6" rx="2" fill="#e0e0e0" stroke="#bbb" stroke-width="0.5"/>
    <text x="103" y="202" font-size="7.5" fill="#999" text-anchor="middle" font-style="italic">frozen</text>

    <!-- No adaptation annotation -->
    <rect x="16" y="214" width="174" height="26" rx="3" fill="#f9d6d5" stroke="#c44" stroke-width="0.8"/>
    <text x="103" y="226" font-size="8" fill="#a31f34" text-anchor="middle" font-weight="600">No adaptation post-deploy</text>
    <text x="103" y="237" font-size="8" fill="#a31f34" text-anchor="middle">Static model drifts over time</text>

    <line x1="12" y1="252" x2="194" y2="252" stroke="#e0e0e0" stroke-width="0.8"/>

    <!-- Properties table -->
    <text x="18" y="266" font-size="8" font-weight="700" fill="#555">Latency</text>
    <text x="194" y="266" font-size="8" fill="#3d9e5a" text-anchor="end">Very low</text>
    <text x="18" y="280" font-size="8" font-weight="700" fill="#555">Privacy</text>
    <text x="194" y="280" font-size="8" fill="#3d9e5a" text-anchor="end">High (inference only)</text>
    <text x="18" y="294" font-size="8" font-weight="700" fill="#555">Comm. cost</text>
    <text x="194" y="294" font-size="8" fill="#3d9e5a" text-anchor="end">One-time deploy</text>
    <text x="18" y="308" font-size="8" font-weight="700" fill="#555">Adaptability</text>
    <text x="194" y="308" font-size="8" fill="#c44" text-anchor="end">None</text>
    <text x="18" y="322" font-size="8" font-weight="700" fill="#555">Coordination</text>
    <text x="194" y="322" font-size="8" fill="#3d9e5a" text-anchor="end">None needed</text>

    <line x1="12" y1="334" x2="194" y2="334" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="103" y="350" font-size="8" fill="#777" text-anchor="middle">Train once in cloud,</text>
    <text x="103" y="364" font-size="8" fill="#777" text-anchor="middle">ship static weights to device.</text>
    <text x="103" y="378" font-size="8" fill="#777" text-anchor="middle">Model never updates after</text>
    <text x="103" y="392" font-size="8" fill="#777" text-anchor="middle">initial deployment.</text>

    <rect x="12" y="400" width="182" height="10" rx="2" fill="#cfe2f3" opacity="0.6"/>
    <text x="103" y="409" font-size="7.5" fill="#1a5a8a" text-anchor="middle">Use: general-purpose inference</text>
  </g>

  <!-- Panel 2: On-Device Learning -->
  <g transform="translate(237, 14)">
    <rect x="0" y="0" width="206" height="418" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <!-- Header -->
    <rect x="0" y="0" width="206" height="32" rx="6" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
    <rect x="0" y="18" width="206" height="14" fill="#d4edda"/>
    <text x="103" y="21" font-size="11" font-weight="700" fill="#333" text-anchor="middle">On-Device Learning</text>

    <!-- Device with local data -->
    <rect x="46" y="48" width="114" height="100" rx="6" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="103" y="67" font-size="9" font-weight="600" fill="#1a6a3a" text-anchor="middle">Device</text>
    <!-- Local data icon -->
    <rect x="60" y="74" width="40" height="32" rx="3" fill="#fff" stroke="#3d9e5a" stroke-width="0.8"/>
    <text x="80" y="86" font-size="7.5" fill="#3d9e5a" text-anchor="middle">local</text>
    <text x="80" y="96" font-size="7.5" fill="#3d9e5a" text-anchor="middle">data</text>
    <text x="80" y="106" font-size="7" fill="#3d9e5a" text-anchor="middle">ðŸ”’ private</text>

    <!-- local training arrow -->
    <path d="M 114,72 Q 136,72 136,94 Q 136,116 114,116 Q 100,116 100,128" fill="none" stroke="#3d9e5a" stroke-width="1.3" stroke-dasharray="4,3" marker-end="url(#arr-green)"/>
    <text x="142" y="88" font-size="7.5" fill="#3d9e5a">adapts</text>
    <text x="142" y="100" font-size="7.5" fill="#3d9e5a">locally</text>

    <!-- Adapted model -->
    <rect x="60" y="112" width="40" height="32" rx="3" fill="#3d9e5a" stroke="#1a6a3a" stroke-width="0.8"/>
    <text x="80" y="124" font-size="7.5" fill="#fff" text-anchor="middle" font-weight="600">model</text>
    <text x="80" y="134" font-size="7.5" fill="#fff" text-anchor="middle">updated</text>
    <text x="103" y="160" font-size="8" fill="#777" font-style="italic" text-anchor="middle">no server needed</text>

    <!-- No upload annotation -->
    <rect x="16" y="166" width="174" height="26" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
    <text x="103" y="178" font-size="8" fill="#1a6a3a" text-anchor="middle" font-weight="600">Adapts locally â€” no server</text>
    <text x="103" y="189" font-size="8" fill="#3d9e5a" text-anchor="middle">Private data never leaves device</text>

    <line x1="12" y1="204" x2="194" y2="204" stroke="#e0e0e0" stroke-width="0.8"/>

    <!-- Properties table -->
    <text x="18" y="218" font-size="8" font-weight="700" fill="#555">Latency</text>
    <text x="194" y="218" font-size="8" fill="#3d9e5a" text-anchor="end">Very low</text>
    <text x="18" y="232" font-size="8" font-weight="700" fill="#555">Privacy</text>
    <text x="194" y="232" font-size="8" fill="#3d9e5a" text-anchor="end">Maximum</text>
    <text x="18" y="246" font-size="8" font-weight="700" fill="#555">Comm. cost</text>
    <text x="194" y="246" font-size="8" fill="#3d9e5a" text-anchor="end">Zero</text>
    <text x="18" y="260" font-size="8" font-weight="700" fill="#555">Adaptability</text>
    <text x="194" y="260" font-size="8" fill="#3d9e5a" text-anchor="end">High (local)</text>
    <text x="18" y="274" font-size="8" font-weight="700" fill="#555">Coordination</text>
    <text x="194" y="274" font-size="8" fill="#3d9e5a" text-anchor="end">None</text>

    <line x1="12" y1="286" x2="194" y2="286" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="103" y="302" font-size="8" fill="#777" text-anchor="middle">Model trains and adapts</text>
    <text x="103" y="316" font-size="8" fill="#777" text-anchor="middle">entirely on the device using</text>
    <text x="103" y="330" font-size="8" fill="#777" text-anchor="middle">locally observed data only.</text>
    <text x="103" y="344" font-size="8" fill="#777" text-anchor="middle">Memory &amp; compute constrained.</text>
    <text x="103" y="358" font-size="8" fill="#c44" text-anchor="middle">Memory: 3â€“5Ã— inference</text>
    <text x="103" y="372" font-size="8" fill="#c44" text-anchor="middle">Compute: 2â€“3Ã— inference</text>

    <rect x="12" y="400" width="182" height="10" rx="2" fill="#d4edda" opacity="0.8"/>
    <text x="103" y="409" font-size="7.5" fill="#1a6a3a" text-anchor="middle">Use: personalization, offline adaptation</text>
  </g>

  <!-- Panel 3: Federated Learning -->
  <g transform="translate(462, 14)">
    <rect x="0" y="0" width="206" height="418" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <!-- Header -->
    <rect x="0" y="0" width="206" height="32" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
    <rect x="0" y="18" width="206" height="14" fill="#fdebd0"/>
    <text x="103" y="21" font-size="11" font-weight="700" fill="#333" text-anchor="middle">Federated Learning</text>

    <!-- 3 small devices -->
    <rect x="16" y="50" width="50" height="64" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1"/>
    <text x="41" y="67" font-size="7.5" font-weight="600" fill="#7a4a10" text-anchor="middle">Device 1</text>
    <rect x="22" y="72" width="38" height="5" rx="1" fill="#c87b2a" opacity="0.6"/>
    <rect x="22" y="80" width="38" height="5" rx="1" fill="#c87b2a" opacity="0.8"/>
    <rect x="22" y="88" width="38" height="5" rx="1" fill="#c87b2a"/>
    <text x="41" y="104" font-size="7" fill="#777" text-anchor="middle">ðŸ”’ private</text>

    <rect x="80" y="50" width="50" height="64" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1"/>
    <text x="105" y="67" font-size="7.5" font-weight="600" fill="#7a4a10" text-anchor="middle">Device 2</text>
    <rect x="86" y="72" width="38" height="5" rx="1" fill="#c87b2a" opacity="0.6"/>
    <rect x="86" y="80" width="38" height="5" rx="1" fill="#c87b2a" opacity="0.8"/>
    <rect x="86" y="88" width="38" height="5" rx="1" fill="#c87b2a"/>
    <text x="105" y="104" font-size="7" fill="#777" text-anchor="middle">ðŸ”’ private</text>

    <rect x="144" y="50" width="50" height="64" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1"/>
    <text x="169" y="67" font-size="7.5" font-weight="600" fill="#7a4a10" text-anchor="middle">Device 3</text>
    <rect x="150" y="72" width="38" height="5" rx="1" fill="#c87b2a" opacity="0.6"/>
    <rect x="150" y="80" width="38" height="5" rx="1" fill="#c87b2a" opacity="0.8"/>
    <rect x="150" y="88" width="38" height="5" rx="1" fill="#c87b2a"/>
    <text x="169" y="104" font-size="7" fill="#777" text-anchor="middle">ðŸ”’ private</text>

    <!-- Dashed arrows up to aggregator -->
    <line x1="41" y1="114" x2="88" y2="142" stroke="#c87b2a" stroke-width="1.2" stroke-dasharray="4,3" marker-end="url(#arr-orange)"/>
    <line x1="105" y1="114" x2="103" y2="142" stroke="#c87b2a" stroke-width="1.2" stroke-dasharray="4,3" marker-end="url(#arr-orange)"/>
    <line x1="169" y1="114" x2="118" y2="142" stroke="#c87b2a" stroke-width="1.2" stroke-dasharray="4,3" marker-end="url(#arr-orange)"/>

    <!-- Aggregator -->
    <rect x="56" y="144" width="94" height="40" rx="5" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.5"/>
    <text x="103" y="160" font-size="9" font-weight="600" fill="#7a4a10" text-anchor="middle">Aggregator</text>
    <text x="103" y="173" font-size="7.5" fill="#c87b2a" text-anchor="middle">FedAvg (Î”w only)</text>

    <!-- Down arrow to improved model -->
    <line x1="103" y1="184" x2="103" y2="204" stroke="#c87b2a" stroke-width="1.3" marker-end="url(#arr-orange)"/>
    <text x="113" y="197" font-size="7.5" fill="#c87b2a">w improved</text>

    <!-- Shared improvement box -->
    <rect x="56" y="206" width="94" height="28" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1"/>
    <text x="103" y="220" font-size="8.5" font-weight="600" fill="#1a6a3a" text-anchor="middle">Global model</text>
    <text x="103" y="231" font-size="7.5" fill="#3d9e5a" text-anchor="middle">shared improvement</text>

    <line x1="12" y1="248" x2="194" y2="248" stroke="#e0e0e0" stroke-width="0.8"/>

    <!-- Properties table -->
    <text x="18" y="262" font-size="8" font-weight="700" fill="#555">Latency</text>
    <text x="194" y="262" font-size="8" fill="#c87b2a" text-anchor="end">Low (periodic sync)</text>
    <text x="18" y="276" font-size="8" font-weight="700" fill="#555">Privacy</text>
    <text x="194" y="276" font-size="8" fill="#3d9e5a" text-anchor="end">High (no raw data)</text>
    <text x="18" y="290" font-size="8" font-weight="700" fill="#555">Comm. cost</text>
    <text x="194" y="290" font-size="8" fill="#c87b2a" text-anchor="end">Low (Î”w only)</text>
    <text x="18" y="304" font-size="8" font-weight="700" fill="#555">Adaptability</text>
    <text x="194" y="304" font-size="8" fill="#3d9e5a" text-anchor="end">High (collaborative)</text>
    <text x="18" y="318" font-size="8" font-weight="700" fill="#555">Coordination</text>
    <text x="194" y="318" font-size="8" fill="#c87b2a" text-anchor="end">Required (rounds)</text>

    <line x1="12" y1="330" x2="194" y2="330" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="103" y="346" font-size="8" fill="#777" text-anchor="middle">Devices train locally, share</text>
    <text x="103" y="360" font-size="8" fill="#777" text-anchor="middle">only gradient updates. Server</text>
    <text x="103" y="374" font-size="8" fill="#777" text-anchor="middle">aggregates for shared benefit.</text>
    <text x="103" y="388" font-size="8" fill="#c44" text-anchor="middle">Non-IID data is challenging</text>

    <rect x="12" y="400" width="182" height="10" rx="2" fill="#fdebd0" opacity="0.8"/>
    <text x="103" y="409" font-size="7.5" fill="#7a4a10" text-anchor="middle">Use: Gboard, health, IoT fleets</text>
  </g>

  <text x="340" y="452" font-size="9" fill="#999" text-anchor="middle" font-style="italic">Three paradigms differ in where training occurs, what is communicated, and who benefits from adaptation.</text>
</svg>
