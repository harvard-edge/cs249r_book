<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arr" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#333"/>
    </marker>
    <marker id="arr-blue" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#4a90c4"/>
    </marker>
    <marker id="arr-green" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#3d9e5a"/>
    </marker>
    <marker id="arr-orange" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#c87b2a"/>
    </marker>
  </defs>

  <rect width="680" height="460" fill="#fff"/>

  <!-- Panel A: Local Only -->
  <g transform="translate(14, 20)">
    <rect x="0" y="0" width="196" height="400" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <rect x="0" y="0" width="196" height="30" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
    <rect x="0" y="18" width="196" height="12" fill="#fdebd0"/>
    <text x="98" y="20" font-size="11" font-weight="700" fill="#333" text-anchor="middle">A — Local Only</text>

    <!-- Device icon -->
    <rect x="68" y="55" width="60" height="90" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.5"/>
    <rect x="76" y="64" width="44" height="64" rx="2" fill="#fff" stroke="#c87b2a" stroke-width="0.8"/>
    <circle cx="98" cy="136" r="4" fill="#c87b2a"/>
    <rect x="82" y="58" width="32" height="3" rx="1.5" fill="#c87b2a"/>
    <text x="98" y="155" font-size="9" fill="#7a4a10" text-anchor="middle" font-weight="600">Device</text>

    <!-- Local training circular arrow -->
    <path d="M98,74 Q120,74 120,94 Q120,114 98,114" fill="none" stroke="#c87b2a" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arr-orange)"/>
    <text x="126" y="96" font-size="7.5" fill="#c87b2a" text-anchor="start">train</text>
    <text x="126" y="107" font-size="7.5" fill="#c87b2a" text-anchor="start">locally</text>

    <!-- Data stays on device annotation -->
    <rect x="12" y="175" width="172" height="30" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="0.8"/>
    <text x="98" y="188" font-size="8.5" fill="#7a4a10" text-anchor="middle" font-weight="600">Raw data stays on device</text>
    <text x="98" y="200" font-size="8" fill="#7a4a10" text-anchor="middle">No external communication</text>

    <line x1="12" y1="222" x2="184" y2="222" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="98" y="237" font-size="8.5" fill="#3d9e5a" text-anchor="middle" font-weight="600">+ Maximum privacy</text>
    <text x="98" y="252" font-size="8.5" fill="#3d9e5a" text-anchor="middle">+ Works fully offline</text>
    <text x="98" y="267" font-size="8.5" fill="#c44" text-anchor="middle">– No shared improvement</text>
    <text x="98" y="282" font-size="8.5" fill="#c44" text-anchor="middle">– Isolated learning only</text>

    <line x1="12" y1="298" x2="184" y2="298" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="98" y="312" font-size="8" fill="#777" text-anchor="middle">Latency: &lt;10 ms</text>
    <text x="98" y="326" font-size="8" fill="#777" text-anchor="middle">Privacy: maximum</text>
    <text x="98" y="340" font-size="8" fill="#777" text-anchor="middle">Comm. cost: zero</text>

    <rect x="12" y="360" width="172" height="26" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="0.8"/>
    <text x="98" y="377" font-size="8.5" font-weight="600" fill="#7a4a10" text-anchor="middle">Isolated personalization</text>
  </g>

  <!-- Panel B: Centralized Cloud -->
  <g transform="translate(242, 20)">
    <rect x="0" y="0" width="196" height="400" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <rect x="0" y="0" width="196" height="30" rx="6" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
    <rect x="0" y="18" width="196" height="12" fill="#cfe2f3"/>
    <text x="98" y="20" font-size="11" font-weight="700" fill="#333" text-anchor="middle">B — Centralized Cloud</text>

    <!-- 4 device icons at bottom -->
    <g transform="translate(10,130)">
      <!-- Device 1 -->
      <rect x="0" y="0" width="34" height="52" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
      <rect x="4" y="5" width="26" height="38" rx="1" fill="#fff" stroke="#c87b2a" stroke-width="0.6"/>
      <circle cx="17" cy="47" r="2.5" fill="#c87b2a"/>
      <!-- Device 2 -->
      <rect x="42" y="0" width="34" height="52" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
      <rect x="46" y="5" width="26" height="38" rx="1" fill="#fff" stroke="#c87b2a" stroke-width="0.6"/>
      <circle cx="59" cy="47" r="2.5" fill="#c87b2a"/>
      <!-- Device 3 -->
      <rect x="84" y="0" width="34" height="52" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
      <rect x="88" y="5" width="26" height="38" rx="1" fill="#fff" stroke="#c87b2a" stroke-width="0.6"/>
      <circle cx="101" cy="47" r="2.5" fill="#c87b2a"/>
      <!-- Device 4 -->
      <rect x="126" y="0" width="34" height="52" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
      <rect x="130" y="5" width="26" height="38" rx="1" fill="#fff" stroke="#c87b2a" stroke-width="0.6"/>
      <circle cx="143" cy="47" r="2.5" fill="#c87b2a"/>
    </g>

    <!-- Solid arrows UP (raw data) -->
    <line x1="27" y1="127" x2="80" y2="72" stroke="#4a90c4" stroke-width="1.3" marker-end="url(#arr-blue)"/>
    <line x1="69" y1="127" x2="86" y2="72" stroke="#4a90c4" stroke-width="1.3" marker-end="url(#arr-blue)"/>
    <line x1="111" y1="127" x2="110" y2="72" stroke="#4a90c4" stroke-width="1.3" marker-end="url(#arr-blue)"/>
    <line x1="153" y1="127" x2="118" y2="72" stroke="#4a90c4" stroke-width="1.3" marker-end="url(#arr-blue)"/>
    <text x="98" y="108" font-size="7.5" fill="#4a90c4" text-anchor="middle" font-weight="600">raw data</text>

    <!-- Cloud server -->
    <rect x="50" y="40" width="96" height="28" rx="5" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.5"/>
    <text x="98" y="53" font-size="9" fill="#1a5a8a" text-anchor="middle" font-weight="600">Cloud Server</text>
    <text x="98" y="64" font-size="8" fill="#4a90c4" text-anchor="middle">aggregates all data</text>

    <!-- Data stays annotation -->
    <rect x="12" y="195" width="172" height="30" rx="3" fill="#f9d6d5" stroke="#c44" stroke-width="0.8"/>
    <text x="98" y="208" font-size="8.5" fill="#a31f34" text-anchor="middle" font-weight="600">Raw data leaves devices</text>
    <text x="98" y="220" font-size="8" fill="#a31f34" text-anchor="middle">Privacy risk — all data centralized</text>

    <line x1="12" y1="242" x2="184" y2="242" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="98" y="257" font-size="8.5" fill="#3d9e5a" text-anchor="middle" font-weight="600">+ Best model quality</text>
    <text x="98" y="272" font-size="8.5" fill="#3d9e5a" text-anchor="middle">+ Simple coordination</text>
    <text x="98" y="287" font-size="8.5" fill="#c44" text-anchor="middle">– Low privacy</text>
    <text x="98" y="302" font-size="8.5" fill="#c44" text-anchor="middle">– Requires connectivity</text>

    <line x1="12" y1="318" x2="184" y2="318" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="98" y="332" font-size="8" fill="#777" text-anchor="middle">Latency: 100–500 ms</text>
    <text x="98" y="346" font-size="8" fill="#777" text-anchor="middle">Privacy: low</text>
    <text x="98" y="360" font-size="8" fill="#777" text-anchor="middle">Comm. cost: high</text>

    <rect x="12" y="373" width="172" height="26" rx="3" fill="#f9d6d5" stroke="#c44" stroke-width="0.8"/>
    <text x="98" y="390" font-size="8.5" font-weight="600" fill="#a31f34" text-anchor="middle">Not viable for PII data</text>
  </g>

  <!-- Panel C: Federated -->
  <g transform="translate(470, 20)">
    <rect x="0" y="0" width="196" height="400" rx="6" fill="#fafafa" stroke="#bbb" stroke-width="1.2"/>
    <rect x="0" y="0" width="196" height="30" rx="6" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
    <rect x="0" y="18" width="196" height="12" fill="#d4edda"/>
    <text x="98" y="20" font-size="11" font-weight="700" fill="#333" text-anchor="middle">C — Federated Learning</text>

    <!-- 4 device icons at bottom -->
    <g transform="translate(10,130)">
      <!-- Device 1 -->
      <rect x="0" y="0" width="34" height="52" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
      <rect x="4" y="5" width="26" height="38" rx="1" fill="#fff" stroke="#c87b2a" stroke-width="0.6"/>
      <circle cx="17" cy="47" r="2.5" fill="#c87b2a"/>
      <!-- Device 2 -->
      <rect x="42" y="0" width="34" height="52" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
      <rect x="46" y="5" width="26" height="38" rx="1" fill="#fff" stroke="#c87b2a" stroke-width="0.6"/>
      <circle cx="59" cy="47" r="2.5" fill="#c87b2a"/>
      <!-- Device 3 -->
      <rect x="84" y="0" width="34" height="52" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
      <rect x="88" y="5" width="26" height="38" rx="1" fill="#fff" stroke="#c87b2a" stroke-width="0.6"/>
      <circle cx="101" cy="47" r="2.5" fill="#c87b2a"/>
      <!-- Device 4 -->
      <rect x="126" y="0" width="34" height="52" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
      <rect x="130" y="5" width="26" height="38" rx="1" fill="#fff" stroke="#c87b2a" stroke-width="0.6"/>
      <circle cx="143" cy="47" r="2.5" fill="#c87b2a"/>
    </g>

    <!-- Dashed arrows UP (model updates only) -->
    <line x1="27" y1="127" x2="80" y2="72" stroke="#3d9e5a" stroke-width="1.3" stroke-dasharray="5,3" marker-end="url(#arr-green)"/>
    <line x1="69" y1="127" x2="86" y2="72" stroke="#3d9e5a" stroke-width="1.3" stroke-dasharray="5,3" marker-end="url(#arr-green)"/>
    <line x1="111" y1="127" x2="110" y2="72" stroke="#3d9e5a" stroke-width="1.3" stroke-dasharray="5,3" marker-end="url(#arr-green)"/>
    <line x1="153" y1="127" x2="118" y2="72" stroke="#3d9e5a" stroke-width="1.3" stroke-dasharray="5,3" marker-end="url(#arr-green)"/>
    <text x="98" y="108" font-size="7.5" fill="#3d9e5a" text-anchor="middle" font-weight="600">model updates Δw only</text>

    <!-- Aggregation server -->
    <rect x="50" y="40" width="96" height="28" rx="5" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="98" y="53" font-size="9" fill="#1a6a3a" text-anchor="middle" font-weight="600">Aggregation Server</text>
    <text x="98" y="64" font-size="8" fill="#3d9e5a" text-anchor="middle">FedAvg — no raw data</text>

    <!-- Raw data stays annotation -->
    <rect x="12" y="195" width="172" height="30" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
    <text x="98" y="208" font-size="8.5" fill="#1a6a3a" text-anchor="middle" font-weight="600">Raw data stays on device</text>
    <text x="98" y="220" font-size="8" fill="#3d9e5a" text-anchor="middle">Only gradient updates shared</text>

    <line x1="12" y1="242" x2="184" y2="242" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="98" y="257" font-size="8.5" fill="#3d9e5a" text-anchor="middle" font-weight="600">+ Strong privacy</text>
    <text x="98" y="272" font-size="8.5" fill="#3d9e5a" text-anchor="middle">+ Collaborative improvement</text>
    <text x="98" y="287" font-size="8.5" fill="#c44" text-anchor="middle">– Non-IID data challenge</text>
    <text x="98" y="302" font-size="8.5" fill="#c44" text-anchor="middle">– Communication overhead</text>

    <line x1="12" y1="318" x2="184" y2="318" stroke="#e0e0e0" stroke-width="0.8"/>
    <text x="98" y="332" font-size="8" fill="#777" text-anchor="middle">Latency: 10–100 ms</text>
    <text x="98" y="346" font-size="8" fill="#777" text-anchor="middle">Privacy: high</text>
    <text x="98" y="360" font-size="8" fill="#777" text-anchor="middle">Comm. cost: low (Δw only)</text>

    <rect x="12" y="373" width="172" height="26" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
    <text x="98" y="390" font-size="8.5" font-weight="600" fill="#1a6a3a" text-anchor="middle">Privacy-preserving at scale</text>
  </g>

  <!-- Bottom annotation -->
  <text x="340" y="448" font-size="9" fill="#999" text-anchor="middle" font-style="italic">Architectural evolution: from centralized data aggregation to privacy-preserving federated coordination.</text>
</svg>
