<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">

  <!-- Background -->
  <rect width="680" height="460" fill="#fafafa" rx="3"/>

  <!-- Column headers -->
  <text x="59" y="36" font-size="10" fill="#888" font-weight="600">Data bits (8 bits)</text>
  <text x="556" y="36" text-anchor="middle" font-size="10" fill="#888" font-weight="600">Parity</text>

  <!-- ══════════════════════════════ -->
  <!-- ROW 1: Valid data, even parity -->
  <!-- ══════════════════════════════ -->
  <text x="34" y="90" font-size="11" font-weight="700" fill="#1a5c35" text-anchor="end">Valid</text>

  <!-- Data cells: 1 0 1 1 0 0 1 0 — four 1s → even parity = 0 -->
  <g>
    <!-- bit 7: 1 -->
    <rect x="40" y="54" width="52" height="52" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="66" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#1a5c35">1</text>
    <!-- bit 6: 0 -->
    <rect x="97" y="54" width="52" height="52" rx="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1.2"/>
    <text x="123" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#888">0</text>
    <!-- bit 5: 1 -->
    <rect x="154" y="54" width="52" height="52" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="180" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#1a5c35">1</text>
    <!-- bit 4: 1 -->
    <rect x="211" y="54" width="52" height="52" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="237" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#1a5c35">1</text>
    <!-- bit 3: 0 -->
    <rect x="268" y="54" width="52" height="52" rx="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1.2"/>
    <text x="294" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#888">0</text>
    <!-- bit 2: 0 -->
    <rect x="325" y="54" width="52" height="52" rx="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1.2"/>
    <text x="351" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#888">0</text>
    <!-- bit 1: 1 -->
    <rect x="382" y="54" width="52" height="52" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="408" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#1a5c35">1</text>
    <!-- bit 0: 0 -->
    <rect x="439" y="54" width="52" height="52" rx="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1.2"/>
    <text x="465" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#888">0</text>
  </g>

  <!-- Parity calculation arrow -->
  <text x="503" y="78" font-size="14" fill="#555">→</text>
  <text x="510" y="70" font-size="9" fill="#555">count of 1s</text>
  <text x="510" y="82" font-size="9" fill="#3d9e5a" font-weight="600">= 4 (even)</text>

  <!-- Parity bit: 0 (even parity, all OK) -->
  <rect x="536" y="54" width="52" height="52" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="2"/>
  <text x="562" y="86" text-anchor="middle" font-size="26" font-weight="700" fill="#1a5c35">0</text>
  <text x="562" y="114" text-anchor="middle" font-size="8.5" fill="#3d9e5a">even → 0</text>

  <!-- Checkmark -->
  <text x="608" y="85" font-size="18" fill="#3d9e5a" font-weight="700">✓</text>
  <text x="630" y="75" font-size="9" fill="#3d9e5a">parity</text>
  <text x="630" y="87" font-size="9" fill="#3d9e5a">match</text>

  <!-- Bit position labels -->
  <g font-size="8.5" fill="#aaa" text-anchor="middle">
    <text x="66" y="116">b7</text>
    <text x="123" y="116">b6</text>
    <text x="180" y="116">b5</text>
    <text x="237" y="116">b4</text>
    <text x="294" y="116">b3</text>
    <text x="351" y="116">b2</text>
    <text x="408" y="116">b1</text>
    <text x="465" y="116">b0</text>
    <text x="562" y="128">parity</text>
  </g>

  <!-- Row 1 description -->
  <text x="340" y="148" text-anchor="middle" font-size="9.5" fill="#3d9e5a">Valid transmission: 4 ones → even count → parity bit = 0 → receiver computes same parity → no error</text>

  <!-- ══════════════════════════════ -->
  <!-- SEPARATOR -->
  <!-- ══════════════════════════════ -->
  <line x1="30" y1="162" x2="650" y2="162" stroke="#ddd" stroke-width="1.2" stroke-dasharray="5,4"/>

  <!-- ══════════════════════════════ -->
  <!-- ROW 2: Bit flipped, parity mismatch -->
  <!-- ══════════════════════════════ -->
  <text x="34" y="220" font-size="11" font-weight="700" fill="#900" text-anchor="end">Corrupt</text>

  <!-- Same data but bit 5 flipped: 1 0 0 1 0 0 1 0 = five 1s → odd -->
  <g>
    <!-- bit 7: 1 -->
    <rect x="40" y="183" width="52" height="52" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="66" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#1a5c35">1</text>
    <!-- bit 6: 0 -->
    <rect x="97" y="183" width="52" height="52" rx="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1.2"/>
    <text x="123" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#888">0</text>
    <!-- bit 5: FLIPPED 1→0 (red) -->
    <rect x="154" y="179" width="52" height="60" rx="4" fill="#f9d6d5" stroke="#c44" stroke-width="2.5"/>
    <text x="180" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#c44">0</text>
    <!-- bit 4: 1 -->
    <rect x="211" y="183" width="52" height="52" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="237" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#1a5c35">1</text>
    <!-- bit 3: 0 -->
    <rect x="268" y="183" width="52" height="52" rx="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1.2"/>
    <text x="294" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#888">0</text>
    <!-- bit 2: 0 -->
    <rect x="325" y="183" width="52" height="52" rx="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1.2"/>
    <text x="351" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#888">0</text>
    <!-- bit 1: 1 -->
    <rect x="382" y="183" width="52" height="52" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
    <text x="408" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#1a5c35">1</text>
    <!-- bit 0: 0 -->
    <rect x="439" y="183" width="52" height="52" rx="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1.2"/>
    <text x="465" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#888">0</text>
  </g>

  <!-- Parity calculation -->
  <text x="503" y="207" font-size="14" fill="#555">→</text>
  <text x="510" y="199" font-size="9" fill="#555">count of 1s</text>
  <text x="510" y="211" font-size="9" fill="#c44" font-weight="600">= 3 (odd!)</text>

  <!-- Parity bit transmitted: 0 (even, as original) — but receiver computes 3 ones = mismatch! -->
  <rect x="536" y="183" width="52" height="52" rx="4" fill="#f9d6d5" stroke="#c44" stroke-width="2.5"/>
  <text x="562" y="215" text-anchor="middle" font-size="26" font-weight="700" fill="#c44">0</text>
  <!-- X on parity -->
  <text x="562" y="243" text-anchor="middle" font-size="9" fill="#c44">stored: 0</text>
  <text x="562" y="255" text-anchor="middle" font-size="9" fill="#c44">expected: 1</text>

  <!-- Mismatch error -->
  <text x="608" y="210" font-size="18" fill="#c44" font-weight="700">✕</text>
  <text x="630" y="200" font-size="9" fill="#c44" font-weight="700">parity</text>
  <text x="630" y="212" font-size="9" fill="#c44" font-weight="700">mismatch!</text>
  <text x="630" y="224" font-size="9" fill="#c44">error</text>
  <text x="630" y="236" font-size="9" fill="#c44">detected</text>

  <!-- Flipped bit annotation -->
  <line x1="180" y1="177" x2="180" y2="162" stroke="#c44" stroke-width="1.5"/>
  <text x="180" y="158" text-anchor="middle" font-size="9" fill="#c44" font-weight="700">1→0 (flipped)</text>

  <!-- Bit labels row 2 -->
  <g font-size="8.5" fill="#aaa" text-anchor="middle">
    <text x="66" y="247">b7</text>
    <text x="123" y="247">b6</text>
    <text x="180" y="247">b5</text>
    <text x="237" y="247">b4</text>
    <text x="294" y="247">b3</text>
    <text x="351" y="247">b2</text>
    <text x="408" y="247">b1</text>
    <text x="465" y="247">b0</text>
  </g>

  <!-- Row 2 description -->
  <text x="340" y="270" text-anchor="middle" font-size="9.5" fill="#c44">Error detected: receiver counts 3 ones (odd) but stored parity bit = 0 (even) → mismatch → request retransmit</text>

  <!-- ═══ PARITY LIMITATIONS BOX ═══ -->
  <rect x="55" y="286" width="570" height="112" rx="6" fill="white" stroke="#e0e0e0" stroke-width="1"/>
  <text x="340" y="307" text-anchor="middle" font-size="11" font-weight="700" fill="#555">Parity: Capabilities and Limitations</text>

  <!-- Three columns -->
  <line x1="245" y1="315" x2="245" y2="388" stroke="#eee" stroke-width="1"/>
  <line x1="435" y1="315" x2="435" y2="388" stroke="#eee" stroke-width="1"/>

  <!-- Col 1: Detects -->
  <text x="150" y="328" text-anchor="middle" font-size="10" font-weight="700" fill="#3d9e5a">Detects</text>
  <text x="150" y="343" text-anchor="middle" font-size="9" fill="#555">Single-bit errors</text>
  <text x="150" y="356" text-anchor="middle" font-size="9" fill="#555">(1 bit flipped)</text>
  <text x="150" y="369" text-anchor="middle" font-size="9" fill="#555">Parity bit mismatch</text>
  <text x="150" y="382" text-anchor="middle" font-size="9" fill="#555">→ request retransmit</text>

  <!-- Col 2: Cannot do -->
  <text x="340" y="328" text-anchor="middle" font-size="10" font-weight="700" fill="#c87b2a">Cannot</text>
  <text x="340" y="343" text-anchor="middle" font-size="9" fill="#555">Locate the flipped bit</text>
  <text x="340" y="356" text-anchor="middle" font-size="9" fill="#555">Correct errors (detect only)</text>
  <text x="340" y="369" text-anchor="middle" font-size="9" fill="#555">Detect 2-bit flip (cancels out)</text>

  <!-- Col 3: ECC upgrade -->
  <text x="543" y="328" text-anchor="middle" font-size="10" font-weight="700" fill="#4a90c4">ECC (upgrade)</text>
  <text x="543" y="343" text-anchor="middle" font-size="9" fill="#555">Locates flipped bit</text>
  <text x="543" y="356" text-anchor="middle" font-size="9" fill="#555">Corrects single-bit errors</text>
  <text x="543" y="369" text-anchor="middle" font-size="9" fill="#555">Detects 2-bit errors</text>
  <text x="543" y="382" text-anchor="middle" font-size="9" fill="#4a90c4">Requires 7 check bits/64 data bits</text>

  <!-- Footer -->
  <text x="340" y="415" text-anchor="middle" font-size="9" fill="#888" font-style="italic">ECC DRAM adds ~12% memory overhead but is mandatory for large-scale ML training: MTBF from 21 seconds → 36 minutes for a 1024-GPU cluster</text>
  <text x="340" y="430" text-anchor="middle" font-size="9" fill="#888" font-style="italic">GPU HBM3: ECC enabled by default; provides single-bit correction + double-bit detection (SECDED) per 64-bit data word</text>
</svg>
