<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arrowBlk" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto">
      <path d="M0,0 L7,2.5 L0,5 Z" fill="#333"/>
    </marker>
    <marker id="arrowRed" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto">
      <path d="M0,0 L7,2.5 L0,5 Z" fill="#c44"/>
    </marker>
    <marker id="arrowGrn" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto">
      <path d="M0,0 L7,2.5 L0,5 Z" fill="#3d9e5a"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="680" height="460" fill="#fafafa" rx="3"/>

  <!-- ═══════════════════════════════════════ -->
  <!-- LEFT: Circuit diagram with stuck-at-0  -->
  <!-- ═══════════════════════════════════════ -->

  <!-- Section header -->
  <text x="280" y="34" text-anchor="middle" font-size="13" font-weight="700" fill="#333">Stuck-at-0 Fault on AND Gate</text>

  <!-- Input A wire -->
  <text x="58" y="134" text-anchor="end" font-size="12" fill="#333">A</text>
  <!-- A wire -->
  <line x1="62" y1="130" x2="155" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrowBlk)"/>
  <!-- A label with range -->
  <text x="108" y="120" text-anchor="middle" font-size="9" fill="#888">A = {0 or 1}</text>

  <!-- Input B wire — STUCK-AT-0 (faulty) -->
  <text x="58" y="194" text-anchor="end" font-size="12" fill="#333">B</text>
  <!-- B wire (red — stuck-at-0) -->
  <line x1="62" y1="190" x2="155" y2="190" stroke="#c44" stroke-width="2.5" marker-end="url(#arrowRed)"/>
  <!-- Stuck-at-0 annotation -->
  <text x="108" y="182" text-anchor="middle" font-size="9.5" fill="#c44" font-weight="700">Stuck-at-0</text>
  <!-- Ground symbol for stuck-at-0 -->
  <!-- Ground lines -->
  <line x1="62" y1="190" x2="62" y2="215" stroke="#c44" stroke-width="2"/>
  <line x1="47" y1="215" x2="77" y2="215" stroke="#c44" stroke-width="2"/>
  <line x1="52" y1="221" x2="72" y2="221" stroke="#c44" stroke-width="1.5"/>
  <line x1="57" y1="227" x2="67" y2="227" stroke="#c44" stroke-width="1"/>
  <text x="62" y="242" text-anchor="middle" font-size="8.5" fill="#c44">GND</text>

  <!-- AND gate body (simple D-shape) -->
  <!-- Left rect portion -->
  <rect x="155" y="110" width="50" height="100" rx="0" fill="#fdebd0" stroke="#c87b2a" stroke-width="0"/>
  <!-- D-shape arc (right side) -->
  <path d="M205,110 Q260,160 205,210 L155,210 L155,110 Z" fill="#fdebd0" stroke="#c87b2a" stroke-width="2"/>
  <rect x="155" y="110" width="2" height="100" fill="#c87b2a"/>
  <text x="195" y="158" text-anchor="middle" font-size="13" font-weight="700" fill="#8a4000">AND</text>
  <text x="195" y="172" text-anchor="middle" font-size="9" fill="#c87b2a">&amp;</text>

  <!-- Input connection lines into gate -->
  <line x1="155" y1="130" x2="157" y2="130" stroke="#333" stroke-width="1"/>
  <line x1="155" y1="190" x2="157" y2="190" stroke="#c44" stroke-width="1"/>

  <!-- Output wire -->
  <line x1="255" y1="160" x2="370" y2="160" stroke="#333" stroke-width="2" marker-end="url(#arrowBlk)"/>
  <text x="315" y="150" text-anchor="middle" font-size="10" fill="#555">Output Z</text>

  <!-- Output label: always 0 -->
  <rect x="372" y="138" width="110" height="44" rx="5" fill="#f9d6d5" stroke="#c44" stroke-width="1.8"/>
  <text x="427" y="157" text-anchor="middle" font-size="14" font-weight="700" fill="#c44">Z = 0</text>
  <text x="427" y="174" text-anchor="middle" font-size="9" fill="#900">always, regardless of A</text>

  <!-- Fault label -->
  <rect x="60" y="258" width="250" height="50" rx="5" fill="#f9d6d5" stroke="#c44" stroke-width="1"/>
  <text x="185" y="276" text-anchor="middle" font-size="10" font-weight="700" fill="#900">Stuck-at-0 (SA0) fault:</text>
  <text x="185" y="291" text-anchor="middle" font-size="9" fill="#c44">Wire B permanently driven to logic 0</text>
  <text x="185" y="303" text-anchor="middle" font-size="9" fill="#c44">Caused by: short to ground, oxide breakdown</text>

  <!-- ═══════════════════════════════════════ -->
  <!-- RIGHT: Truth table showing fault effect -->
  <!-- ═══════════════════════════════════════ -->

  <text x="555" y="34" text-anchor="middle" font-size="11" font-weight="700" fill="#333">Truth Table: SA0 Effect</text>

  <!-- Table header -->
  <rect x="455" y="45" width="200" height="32" rx="3" fill="#555"/>
  <text x="497" y="65" text-anchor="middle" font-size="10" font-weight="700" fill="white">A</text>
  <text x="542" y="65" text-anchor="middle" font-size="10" font-weight="700" fill="white">B (stuck)</text>
  <text x="617" y="65" text-anchor="middle" font-size="10" font-weight="700" fill="white">Z (out)</text>

  <!-- Row 1: A=0, B stuck at 0, expected Z=0, actual Z=0 — matches, no visible error -->
  <rect x="455" y="77" width="200" height="32" rx="0" fill="white" stroke="#ddd" stroke-width="0.8"/>
  <text x="497" y="97" text-anchor="middle" font-size="11" fill="#333">0</text>
  <text x="542" y="97" text-anchor="middle" font-size="11" fill="#c44" font-weight="700">0</text>
  <text x="600" y="97" text-anchor="middle" font-size="11" fill="#888">0</text>
  <text x="652" y="97" font-size="8" fill="#888" text-anchor="end">↔ OK</text>

  <!-- Row 2: A=0, B stuck at 0, expected Z=0, actual Z=0 — same (no difference) -->
  <!-- Row 2: A=1, B=0 (stuck), expected: 1·1=1, actual: 1·0=0 — MASKED FAULT when B should be 0 -->
  <!-- Let's do: A=0, B_real=1 masked as 0, expected Z=0*1=0, actual Z=0*0=0 — match (fault hidden) -->
  <rect x="455" y="109" width="200" height="32" rx="0" fill="#fff8f0" stroke="#ddd" stroke-width="0.8"/>
  <text x="497" y="129" text-anchor="middle" font-size="11" fill="#333">0</text>
  <text x="542" y="129" text-anchor="middle" font-size="11" fill="#c44" font-weight="700">0</text>
  <text x="600" y="129" text-anchor="middle" font-size="11" fill="#888">0</text>
  <text x="652" y="129" font-size="8" fill="#888" text-anchor="end">↔ hidden</text>

  <!-- Row 3: A=1, B_real=0, stuck: 0, Z actual: 0, expected: 0 — matches, no detection -->
  <rect x="455" y="141" width="200" height="32" rx="0" fill="white" stroke="#ddd" stroke-width="0.8"/>
  <text x="497" y="161" text-anchor="middle" font-size="11" fill="#333">1</text>
  <text x="542" y="161" text-anchor="middle" font-size="11" fill="#c44" font-weight="700">0</text>
  <text x="600" y="161" text-anchor="middle" font-size="11" fill="#888">0</text>
  <text x="652" y="161" font-size="8" fill="#888" text-anchor="end">↔ OK</text>

  <!-- Row 4: A=1, B_real=1 but stuck 0 → fault manifests -->
  <rect x="455" y="173" width="200" height="32" rx="0" fill="#f9d6d5" stroke="#c44" stroke-width="1.5"/>
  <text x="497" y="193" text-anchor="middle" font-size="11" fill="#333">1</text>
  <text x="542" y="193" text-anchor="middle" font-size="11" fill="#c44" font-weight="700">0</text>
  <text x="600" y="193" text-anchor="middle" font-size="11" fill="#c44" font-weight="700">0</text>
  <text x="652" y="193" font-size="8" fill="#c44" font-weight="700" text-anchor="end">← wrong!</text>

  <!-- Expected row footnote -->
  <text x="555" y="217" text-anchor="middle" font-size="8.5" fill="#888">Row 4: B should be 1 (from circuit),</text>
  <text x="555" y="229" text-anchor="middle" font-size="8.5" fill="#888">but SA0 forces B=0 → Z=0 instead of 1</text>

  <!-- Column sub-labels -->
  <text x="542" y="248" text-anchor="middle" font-size="7.5" fill="#c44" font-style="italic">always 0 due to fault</text>

  <!-- ═══════════ STUCK FAULT TYPES BOX ═══════════ -->
  <rect x="55" y="324" width="570" height="110" rx="6" fill="white" stroke="#e0e0e0" stroke-width="1"/>
  <text x="340" y="344" text-anchor="middle" font-size="11" font-weight="700" fill="#555">Stuck-at Fault Taxonomy</text>

  <!-- Two columns -->
  <line x1="340" y1="355" x2="340" y2="424" stroke="#eee" stroke-width="1"/>

  <!-- SA0 -->
  <text x="197" y="366" text-anchor="middle" font-size="10" font-weight="700" fill="#c44">Stuck-at-0 (SA0)</text>
  <text x="197" y="381" text-anchor="middle" font-size="9" fill="#555">Wire always reads logic 0</text>
  <text x="197" y="395" text-anchor="middle" font-size="9" fill="#555">Cause: short to power supply ground</text>
  <text x="197" y="409" text-anchor="middle" font-size="9" fill="#555">Effect: AND outputs 0, OR unchanged when SA0 input is always 0</text>

  <!-- SA1 -->
  <text x="510" y="366" text-anchor="middle" font-size="10" font-weight="700" fill="#c87b2a">Stuck-at-1 (SA1)</text>
  <text x="510" y="381" text-anchor="middle" font-size="9" fill="#555">Wire always reads logic 1</text>
  <text x="510" y="395" text-anchor="middle" font-size="9" fill="#555">Cause: short to VDD (power rail)</text>
  <text x="510" y="409" text-anchor="middle" font-size="9" fill="#555">Effect: OR outputs 1, AND unchanged when SA1 input is always 1</text>

  <text x="340" y="437" text-anchor="middle" font-size="9" fill="#888" font-style="italic">In ML accelerators, stuck-at faults in multiply-accumulate (MAC) units</text>
  <text x="340" y="449" text-anchor="middle" font-size="9" fill="#888" font-style="italic">produce incorrect gradient values — detectable via gradient norm monitoring</text>
</svg>
