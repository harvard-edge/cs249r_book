<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460"
     font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#333"/>
    </marker>
    <marker id="arrow-green" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#3d9e5a"/>
    </marker>
    <marker id="arrow-red" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#c44"/>
    </marker>
  </defs>

  <!-- ── Background ── -->
  <rect width="680" height="460" fill="white"/>

  <!-- ══════════════════════════════════════════════════════════════════════ -->
  <!-- ── ACTIVE CLUSTER (4+1 GPU example) ── -->
  <!-- ══════════════════════════════════════════════════════════════════════ -->
  <rect x="30" y="30" width="620" height="175" rx="6" fill="#f7f7f7" stroke="#bbb" stroke-width="1.2"/>
  <text x="340" y="52" text-anchor="middle" font-size="12" font-weight="700" fill="#333">Active Training Cluster (4+1 Redundancy)</text>

  <!-- ── GPU 0 (Active) ── -->
  <rect x="50" y="70" width="100" height="60" rx="5" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
  <text x="100" y="93" text-anchor="middle" font-size="11" font-weight="700" fill="#4a90c4">GPU 0</text>
  <text x="100" y="108" text-anchor="middle" font-size="9" fill="#555">Rank 0</text>
  <rect x="55" y="136" width="90" height="14" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
  <text x="100" y="147" text-anchor="middle" font-size="8" font-weight="700" fill="#3d9e5a">ACTIVE</text>

  <!-- ── GPU 1 (Active) ── -->
  <rect x="170" y="70" width="100" height="60" rx="5" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
  <text x="220" y="93" text-anchor="middle" font-size="11" font-weight="700" fill="#4a90c4">GPU 1</text>
  <text x="220" y="108" text-anchor="middle" font-size="9" fill="#555">Rank 1</text>
  <rect x="175" y="136" width="90" height="14" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
  <text x="220" y="147" text-anchor="middle" font-size="8" font-weight="700" fill="#3d9e5a">ACTIVE</text>

  <!-- ── GPU 2 (FAILED) ── -->
  <rect x="290" y="70" width="100" height="60" rx="5" fill="#f9d6d5" stroke="#c44" stroke-width="1.8"/>
  <text x="340" y="93" text-anchor="middle" font-size="11" font-weight="700" fill="#c44">GPU 2</text>
  <text x="340" y="108" text-anchor="middle" font-size="9" fill="#c44">Rank 2</text>
  <!-- X mark -->
  <line x1="310" y1="78" x2="370" y2="122" stroke="#c44" stroke-width="2.5" stroke-linecap="round"/>
  <line x1="370" y1="78" x2="310" y2="122" stroke="#c44" stroke-width="2.5" stroke-linecap="round"/>
  <rect x="295" y="136" width="90" height="14" rx="3" fill="#c44"/>
  <text x="340" y="147" text-anchor="middle" font-size="8" font-weight="700" fill="white">FAILED</text>

  <!-- ── GPU 3 (Active) ── -->
  <rect x="410" y="70" width="100" height="60" rx="5" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
  <text x="460" y="93" text-anchor="middle" font-size="11" font-weight="700" fill="#4a90c4">GPU 3</text>
  <text x="460" y="108" text-anchor="middle" font-size="9" fill="#555">Rank 3</text>
  <rect x="415" y="136" width="90" height="14" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
  <text x="460" y="147" text-anchor="middle" font-size="8" font-weight="700" fill="#3d9e5a">ACTIVE</text>

  <!-- ── Hot Spare GPU (Yellow/Orange) ── -->
  <rect x="540" y="70" width="100" height="60" rx="5" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.8"/>
  <text x="590" y="93" text-anchor="middle" font-size="11" font-weight="700" fill="#c87b2a">Spare</text>
  <text x="590" y="108" text-anchor="middle" font-size="9" fill="#555">Synchronized</text>
  <rect x="545" y="136" width="90" height="14" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="0.8"/>
  <text x="590" y="147" text-anchor="middle" font-size="8" font-weight="700" fill="#c87b2a">STANDBY</text>

  <!-- ── Failover arrow from spare to failed GPU position ── -->
  <path d="M 580,155 C 570,175 460,180 370,175 L 345,170"
        fill="none" stroke="#3d9e5a" stroke-width="2" stroke-dasharray="6,4" marker-end="url(#arrow-green)"/>
  <text x="470" y="188" text-anchor="middle" font-size="9" font-weight="700" fill="#3d9e5a">Failover (seconds)</text>

  <!-- ══════════════════════════════════════════════════════════════════════ -->
  <!-- ── COMPARISON TABLE: Hot vs Cold vs No Spare ── -->
  <!-- ══════════════════════════════════════════════════════════════════════ -->
  <text x="340" y="225" text-anchor="middle" font-size="12" font-weight="700" fill="#333">Redundancy Strategy Comparison</text>

  <!-- ── Table header ── -->
  <rect x="30" y="238" width="620" height="26" rx="0" fill="#f7f7f7" stroke="#bbb" stroke-width="1"/>
  <text x="100" y="256" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">Strategy</text>
  <text x="230" y="256" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">State</text>
  <text x="370" y="256" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">Recovery Time</text>
  <text x="530" y="256" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">Training Impact</text>

  <!-- ── Hot Spare row ── -->
  <rect x="30" y="264" width="620" height="44" rx="0" fill="white" stroke="#bbb" stroke-width="0.8"/>
  <rect x="30" y="264" width="130" height="44" fill="#d4edda" stroke="#bbb" stroke-width="0.8"/>
  <text x="100" y="282" text-anchor="middle" font-size="10" font-weight="700" fill="#3d9e5a">Hot Spare</text>
  <text x="100" y="296" text-anchor="middle" font-size="8" fill="#555">(recommended)</text>
  <text x="230" y="282" text-anchor="middle" font-size="9" fill="#555">Synchronized,</text>
  <text x="230" y="296" text-anchor="middle" font-size="9" fill="#555">receiving state updates</text>
  <text x="370" y="289" text-anchor="middle" font-size="10" font-weight="700" fill="#3d9e5a">Seconds</text>
  <text x="530" y="282" text-anchor="middle" font-size="9" fill="#555">Near-zero interruption;</text>
  <text x="530" y="296" text-anchor="middle" font-size="9" fill="#555">training continues</text>

  <!-- ── Cold Spare row ── -->
  <rect x="30" y="308" width="620" height="44" rx="0" fill="white" stroke="#bbb" stroke-width="0.8"/>
  <rect x="30" y="308" width="130" height="44" fill="#fdebd0" stroke="#bbb" stroke-width="0.8"/>
  <text x="100" y="334" text-anchor="middle" font-size="10" font-weight="700" fill="#c87b2a">Cold Spare</text>
  <text x="230" y="326" text-anchor="middle" font-size="9" fill="#555">Idle hardware;</text>
  <text x="230" y="340" text-anchor="middle" font-size="9" fill="#555">needs boot + load state</text>
  <text x="370" y="334" text-anchor="middle" font-size="10" font-weight="700" fill="#c87b2a">Minutes</text>
  <text x="530" y="326" text-anchor="middle" font-size="9" fill="#555">Moderate interruption;</text>
  <text x="530" y="340" text-anchor="middle" font-size="9" fill="#555">reload from checkpoint</text>

  <!-- ── No Spare row ── -->
  <rect x="30" y="352" width="620" height="44" rx="0" fill="white" stroke="#bbb" stroke-width="0.8"/>
  <rect x="30" y="352" width="130" height="44" fill="#f9d6d5" stroke="#bbb" stroke-width="0.8"/>
  <text x="100" y="378" text-anchor="middle" font-size="10" font-weight="700" fill="#c44">No Spare</text>
  <text x="230" y="370" text-anchor="middle" font-size="9" fill="#555">No backup;</text>
  <text x="230" y="384" text-anchor="middle" font-size="9" fill="#555">wait for replacement</text>
  <text x="370" y="378" text-anchor="middle" font-size="10" font-weight="700" fill="#c44">Hours</text>
  <text x="530" y="370" text-anchor="middle" font-size="9" fill="#555">Training stops entirely;</text>
  <text x="530" y="384" text-anchor="middle" font-size="9" fill="#555">full restart after repair</text>

  <!-- ── Legend ── -->
  <g transform="translate(45, 420)">
    <rect x="0" y="0" width="14" height="10" rx="2" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1"/>
    <text x="20" y="9" font-size="9" fill="#555">Active GPU</text>

    <rect x="100" y="0" width="14" height="10" rx="2" fill="#fdebd0" stroke="#c87b2a" stroke-width="1"/>
    <text x="120" y="9" font-size="9" fill="#555">Hot Spare</text>

    <rect x="190" y="0" width="14" height="10" rx="2" fill="#f9d6d5" stroke="#c44" stroke-width="1"/>
    <text x="210" y="9" font-size="9" fill="#555">Failed GPU</text>

    <line x1="290" y1="5" x2="310" y2="5" stroke="#3d9e5a" stroke-width="2" stroke-dasharray="6,4"/>
    <text x="316" y="9" font-size="9" fill="#555">Failover path</text>
  </g>

  <!-- ── Footnote ── -->
  <text x="340" y="450" text-anchor="middle" font-size="9" fill="#999" font-style="italic">
    N+1 redundancy: 4 active GPUs + 1 hot spare for near-zero recovery time
  </text>
</svg>
