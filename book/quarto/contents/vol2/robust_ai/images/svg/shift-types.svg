<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 680 460" xmlns="http://www.w3.org/2000/svg" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arrow" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto">
      <path d="M0,0 L7,2.5 L0,5 Z" fill="#333"/>
    </marker>
  </defs>

  <!-- Panel labels -->
  <text x="113" y="22" text-anchor="middle" font-size="11" font-weight="700" fill="#333">(a) Covariate Shift</text>
  <text x="340" y="22" text-anchor="middle" font-size="11" font-weight="700" fill="#333">(b) Label Shift</text>
  <text x="567" y="22" text-anchor="middle" font-size="11" font-weight="700" fill="#333">(c) Concept Drift</text>

  <!-- ========== Panel (a): Covariate Shift ========== -->
  <g transform="translate(20, 35)">
    <!-- Axes -->
    <line x1="30" y1="250" x2="195" y2="250" stroke="#333" stroke-width="1.2" marker-end="url(#arrow)"/>
    <line x1="30" y1="250" x2="30" y2="40" stroke="#333" stroke-width="1.2" marker-end="url(#arrow)"/>
    <!-- Axis labels -->
    <text x="115" y="275" text-anchor="middle" font-size="9.5" fill="#555">Feature X1</text>
    <text x="12" y="145" text-anchor="middle" font-size="9.5" fill="#555" transform="rotate(-90, 12, 145)">Feature X2</text>

    <!-- Decision boundary (dashed) -->
    <line x1="40" y1="60" x2="185" y2="240" stroke="#a31f34" stroke-width="1.2" stroke-dasharray="5,3"/>
    <text x="170" y="70" font-size="8" fill="#a31f34" font-style="italic">Boundary</text>

    <!-- Training data (blue circles) clustered left -->
    <circle cx="55" cy="100" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="65" cy="115" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="50" cy="130" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="70" cy="140" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="60" cy="155" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="55" cy="170" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="75" cy="125" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="45" cy="150" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="80" cy="160" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="90" cy="195" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="85" cy="210" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="100" cy="220" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="75" cy="200" r="4" fill="#4a90c4" opacity="0.7"/>

    <!-- Test data (red circles) shifted right but same relationship -->
    <circle cx="110" cy="90" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="120" cy="105" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="125" cy="120" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="115" cy="135" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="130" cy="145" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="140" cy="160" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="135" cy="175" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="145" cy="190" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="150" cy="205" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="160" cy="215" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="155" cy="230" r="4" fill="#c44" opacity="0.7"/>

    <!-- Arrow showing shift -->
    <line x1="72" y1="235" x2="132" y2="235" stroke="#555" stroke-width="1" marker-end="url(#arrow)"/>
    <text x="102" y="248" text-anchor="middle" font-size="7.5" fill="#555">P(X) shifts</text>

    <!-- Description -->
    <text x="113" y="300" text-anchor="middle" font-size="8.5" fill="#555">Same P(Y|X), different P(X)</text>
    <text x="113" y="314" text-anchor="middle" font-size="8.5" fill="#555">Input distribution changes;</text>
    <text x="113" y="328" text-anchor="middle" font-size="8.5" fill="#555">decision boundary is valid</text>
  </g>

  <!-- ========== Panel (b): Label Shift ========== -->
  <g transform="translate(247, 35)">
    <!-- Axes -->
    <line x1="30" y1="250" x2="195" y2="250" stroke="#333" stroke-width="1.2" marker-end="url(#arrow)"/>
    <line x1="30" y1="250" x2="30" y2="40" stroke="#333" stroke-width="1.2" marker-end="url(#arrow)"/>
    <!-- Axis labels -->
    <text x="115" y="275" text-anchor="middle" font-size="9.5" fill="#555">Feature X1</text>
    <text x="12" y="145" text-anchor="middle" font-size="9.5" fill="#555" transform="rotate(-90, 12, 145)">Feature X2</text>

    <!-- Decision boundary (dashed) -->
    <line x1="40" y1="60" x2="185" y2="240" stroke="#a31f34" stroke-width="1.2" stroke-dasharray="5,3"/>

    <!-- Training: balanced classes -->
    <!-- Class A (blue) left of boundary -->
    <circle cx="55" cy="100" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="65" cy="120" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="50" cy="140" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="75" cy="150" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="60" cy="170" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="70" cy="190" r="4" fill="#4a90c4" opacity="0.7"/>

    <!-- Class B (blue) right of boundary -->
    <circle cx="120" cy="85" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="140" cy="100" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="130" cy="125" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="155" cy="135" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="145" cy="155" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="160" cy="175" r="4" fill="#4a90c4" opacity="0.7"/>

    <!-- Test: class B dominates (many more red dots right of boundary) -->
    <circle cx="125" cy="75" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="135" cy="90" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="150" cy="105" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="140" cy="115" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="160" cy="125" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="170" cy="140" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="155" cy="150" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="165" cy="165" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="175" cy="180" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="170" cy="200" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="180" cy="195" r="4" fill="#c44" opacity="0.7"/>
    <!-- Few red dots left of boundary (minority test class) -->
    <circle cx="50" cy="195" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="55" cy="210" r="4" fill="#c44" opacity="0.7"/>

    <!-- Description -->
    <text x="113" y="300" text-anchor="middle" font-size="8.5" fill="#555">Same P(Y|X), different P(Y)</text>
    <text x="113" y="314" text-anchor="middle" font-size="8.5" fill="#555">Class proportions change;</text>
    <text x="113" y="328" text-anchor="middle" font-size="8.5" fill="#555">one class dominates at test</text>
  </g>

  <!-- ========== Panel (c): Concept Drift ========== -->
  <g transform="translate(474, 35)">
    <!-- Axes -->
    <line x1="30" y1="250" x2="195" y2="250" stroke="#333" stroke-width="1.2" marker-end="url(#arrow)"/>
    <line x1="30" y1="250" x2="30" y2="40" stroke="#333" stroke-width="1.2" marker-end="url(#arrow)"/>
    <!-- Axis labels -->
    <text x="115" y="275" text-anchor="middle" font-size="9.5" fill="#555">Feature X1</text>
    <text x="12" y="145" text-anchor="middle" font-size="9.5" fill="#555" transform="rotate(-90, 12, 145)">Feature X2</text>

    <!-- Old decision boundary (dashed gray) -->
    <line x1="40" y1="60" x2="185" y2="240" stroke="#bbb" stroke-width="1.2" stroke-dasharray="5,3"/>
    <text x="172" y="58" font-size="7.5" fill="#bbb" font-style="italic">Old</text>

    <!-- New decision boundary (dashed red) rotated -->
    <line x1="40" y1="180" x2="185" y2="70" stroke="#a31f34" stroke-width="1.4" stroke-dasharray="5,3"/>
    <text x="180" y="86" font-size="7.5" fill="#a31f34" font-style="italic">New</text>

    <!-- Training data (blue) correct with old boundary -->
    <circle cx="55" cy="100" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="65" cy="120" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="50" cy="140" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="75" cy="160" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="60" cy="175" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="130" cy="100" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="150" cy="120" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="160" cy="145" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="140" cy="165" r="4" fill="#4a90c4" opacity="0.7"/>
    <circle cx="170" cy="190" r="4" fill="#4a90c4" opacity="0.7"/>

    <!-- Test data (red) follow new relationship -->
    <circle cx="60" cy="200" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="80" cy="190" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="70" cy="220" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="90" cy="210" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="100" cy="230" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="110" cy="150" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="120" cy="80" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="140" cy="90" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="160" cy="100" r="4" fill="#c44" opacity="0.7"/>
    <circle cx="175" cy="115" r="4" fill="#c44" opacity="0.7"/>

    <!-- Curved arrow showing boundary rotation -->
    <path d="M155,230 Q175,210 178,180" fill="none" stroke="#a31f34" stroke-width="1" marker-end="url(#arrow)"/>
    <text x="184" y="218" font-size="7.5" fill="#a31f34" font-style="italic">P(Y|X)</text>
    <text x="184" y="230" font-size="7.5" fill="#a31f34" font-style="italic">changed</text>

    <!-- Description -->
    <text x="113" y="300" text-anchor="middle" font-size="8.5" fill="#555">Different P(Y|X)</text>
    <text x="113" y="314" text-anchor="middle" font-size="8.5" fill="#555">The true relationship</text>
    <text x="113" y="328" text-anchor="middle" font-size="8.5" fill="#555">between X and Y has changed</text>
  </g>

  <!-- Legend -->
  <g transform="translate(180, 400)">
    <circle cx="0" cy="0" r="5" fill="#4a90c4" opacity="0.8"/>
    <text x="12" y="4" font-size="9" fill="#555">Training data</text>
    <circle cx="120" cy="0" r="5" fill="#c44" opacity="0.8"/>
    <text x="132" y="4" font-size="9" fill="#555">Test data</text>
    <line x1="230" y1="0" x2="260" y2="0" stroke="#a31f34" stroke-width="1.2" stroke-dasharray="5,3"/>
    <text x="268" y="4" font-size="9" fill="#555">Decision boundary</text>
  </g>

  <!-- Separator lines between panels -->
  <line x1="227" y1="35" x2="227" y2="380" stroke="#e0e0e0" stroke-width="0.8" stroke-dasharray="3,3"/>
  <line x1="454" y1="35" x2="454" y2="380" stroke="#e0e0e0" stroke-width="0.8" stroke-dasharray="3,3"/>
</svg>
