<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 680 460" xmlns="http://www.w3.org/2000/svg" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#555"/>
    </marker>
  </defs>

  <!-- Foundation base -->
  <rect x="40" y="390" width="600" height="36" rx="4" fill="#f7f7f7" stroke="#bbb" stroke-width="1.2"/>
  <text x="340" y="413" text-anchor="middle" font-size="10" font-weight="600" fill="#666">ML System Infrastructure</text>

  <!-- Four pillars -->
  <!-- Pillar 1: Certified Defenses (Blue) -->
  <rect x="62" y="150" width="120" height="240" rx="3" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
  <text x="122" y="180" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Certified</text>
  <text x="122" y="194" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Defenses</text>
  <!-- Pillar decorative lines -->
  <line x1="78" y1="215" x2="78" y2="380" stroke="#4a90c4" stroke-width="0.6" opacity="0.3"/>
  <line x1="166" y1="215" x2="166" y2="380" stroke="#4a90c4" stroke-width="0.6" opacity="0.3"/>
  <!-- Description -->
  <text x="122" y="240" text-anchor="middle" font-size="8.5" fill="#555">Formal mathematical</text>
  <text x="122" y="254" text-anchor="middle" font-size="8.5" fill="#555">guarantees on model</text>
  <text x="122" y="268" text-anchor="middle" font-size="8.5" fill="#555">behavior within</text>
  <text x="122" y="282" text-anchor="middle" font-size="8.5" fill="#555">bounded regions</text>
  <!-- Key techniques -->
  <rect x="72" y="305" width="100" height="22" rx="3" fill="white" stroke="#4a90c4" stroke-width="0.6"/>
  <text x="122" y="320" text-anchor="middle" font-size="8" fill="#4a90c4" font-weight="600">Randomized</text>
  <rect x="72" y="332" width="100" height="22" rx="3" fill="white" stroke="#4a90c4" stroke-width="0.6"/>
  <text x="122" y="347" text-anchor="middle" font-size="8" fill="#4a90c4" font-weight="600">Smoothing</text>
  <rect x="72" y="359" width="100" height="22" rx="3" fill="white" stroke="#4a90c4" stroke-width="0.6"/>
  <text x="122" y="374" text-anchor="middle" font-size="8" fill="#4a90c4" font-weight="600">IBP Bounds</text>

  <!-- Pillar 2: Empirical Robustness (Green) -->
  <rect x="202" y="150" width="120" height="240" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
  <text x="262" y="180" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Empirical</text>
  <text x="262" y="194" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Robustness</text>
  <!-- Pillar decorative lines -->
  <line x1="218" y1="215" x2="218" y2="380" stroke="#3d9e5a" stroke-width="0.6" opacity="0.3"/>
  <line x1="306" y1="215" x2="306" y2="380" stroke="#3d9e5a" stroke-width="0.6" opacity="0.3"/>
  <!-- Description -->
  <text x="262" y="240" text-anchor="middle" font-size="8.5" fill="#555">Training with</text>
  <text x="262" y="254" text-anchor="middle" font-size="8.5" fill="#555">adversarial examples</text>
  <text x="262" y="268" text-anchor="middle" font-size="8.5" fill="#555">to harden decision</text>
  <text x="262" y="282" text-anchor="middle" font-size="8.5" fill="#555">boundaries</text>
  <!-- Key techniques -->
  <rect x="212" y="305" width="100" height="22" rx="3" fill="white" stroke="#3d9e5a" stroke-width="0.6"/>
  <text x="262" y="320" text-anchor="middle" font-size="8" fill="#3d9e5a" font-weight="600">Adversarial</text>
  <rect x="212" y="332" width="100" height="22" rx="3" fill="white" stroke="#3d9e5a" stroke-width="0.6"/>
  <text x="262" y="347" text-anchor="middle" font-size="8" fill="#3d9e5a" font-weight="600">Training (PGD-AT)</text>
  <rect x="212" y="359" width="100" height="22" rx="3" fill="white" stroke="#3d9e5a" stroke-width="0.6"/>
  <text x="262" y="374" text-anchor="middle" font-size="8" fill="#3d9e5a" font-weight="600">TRADES</text>

  <!-- Pillar 3: Input Validation (Orange) -->
  <rect x="342" y="150" width="120" height="240" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
  <text x="402" y="180" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Input</text>
  <text x="402" y="194" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Validation</text>
  <!-- Pillar decorative lines -->
  <line x1="358" y1="215" x2="358" y2="380" stroke="#c87b2a" stroke-width="0.6" opacity="0.3"/>
  <line x1="446" y1="215" x2="446" y2="380" stroke="#c87b2a" stroke-width="0.6" opacity="0.3"/>
  <!-- Description -->
  <text x="402" y="240" text-anchor="middle" font-size="8.5" fill="#555">Preprocessing filters</text>
  <text x="402" y="254" text-anchor="middle" font-size="8.5" fill="#555">and anomaly detection</text>
  <text x="402" y="268" text-anchor="middle" font-size="8.5" fill="#555">to reject malicious</text>
  <text x="402" y="282" text-anchor="middle" font-size="8.5" fill="#555">or OOD inputs</text>
  <!-- Key techniques -->
  <rect x="352" y="305" width="100" height="22" rx="3" fill="white" stroke="#c87b2a" stroke-width="0.6"/>
  <text x="402" y="320" text-anchor="middle" font-size="8" fill="#c87b2a" font-weight="600">Feature Squeezing</text>
  <rect x="352" y="332" width="100" height="22" rx="3" fill="white" stroke="#c87b2a" stroke-width="0.6"/>
  <text x="402" y="347" text-anchor="middle" font-size="8" fill="#c87b2a" font-weight="600">Input Denoising</text>
  <rect x="352" y="359" width="100" height="22" rx="3" fill="white" stroke="#c87b2a" stroke-width="0.6"/>
  <text x="402" y="374" text-anchor="middle" font-size="8" fill="#c87b2a" font-weight="600">OOD Detection</text>

  <!-- Pillar 4: Monitoring & Detection (Pink/Red) -->
  <rect x="482" y="150" width="120" height="240" rx="3" fill="#f9d6d5" stroke="#c44" stroke-width="1.2"/>
  <text x="542" y="180" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Monitoring</text>
  <text x="542" y="194" text-anchor="middle" font-size="10" font-weight="700" fill="#333">&amp; Detection</text>
  <!-- Pillar decorative lines -->
  <line x1="498" y1="215" x2="498" y2="380" stroke="#c44" stroke-width="0.6" opacity="0.3"/>
  <line x1="586" y1="215" x2="586" y2="380" stroke="#c44" stroke-width="0.6" opacity="0.3"/>
  <!-- Description -->
  <text x="542" y="240" text-anchor="middle" font-size="8.5" fill="#555">Runtime checks for</text>
  <text x="542" y="254" text-anchor="middle" font-size="8.5" fill="#555">distribution drift,</text>
  <text x="542" y="268" text-anchor="middle" font-size="8.5" fill="#555">anomalies, and model</text>
  <text x="542" y="282" text-anchor="middle" font-size="8.5" fill="#555">degradation alerts</text>
  <!-- Key techniques -->
  <rect x="492" y="305" width="100" height="22" rx="3" fill="white" stroke="#c44" stroke-width="0.6"/>
  <text x="542" y="320" text-anchor="middle" font-size="8" fill="#c44" font-weight="600">MMD / KS Tests</text>
  <rect x="492" y="332" width="100" height="22" rx="3" fill="white" stroke="#c44" stroke-width="0.6"/>
  <text x="542" y="347" text-anchor="middle" font-size="8" fill="#c44" font-weight="600">PSI Monitoring</text>
  <rect x="492" y="359" width="100" height="22" rx="3" fill="white" stroke="#c44" stroke-width="0.6"/>
  <text x="542" y="374" text-anchor="middle" font-size="8" fill="#c44" font-weight="600">Confidence Gating</text>

  <!-- Arch / entablature connecting pillars at top -->
  <path d="M62,150 L62,120 Q62,90 92,80 L300,60 Q340,55 380,60 L588,80 Q618,90 618,120 L618,150" fill="none" stroke="#a31f34" stroke-width="2"/>
  <!-- Arch fill -->
  <path d="M62,150 L62,120 Q62,90 92,80 L300,60 Q340,55 380,60 L588,80 Q618,90 618,120 L618,150 Z" fill="#a31f34" opacity="0.08"/>

  <!-- Top beam -->
  <rect x="50" y="130" width="564" height="20" rx="3" fill="#a31f34" opacity="0.15" stroke="#a31f34" stroke-width="1.2"/>

  <!-- Arch label -->
  <text x="340" y="78" text-anchor="middle" font-size="12" font-weight="700" fill="#a31f34">Reliable ML System</text>

  <!-- Small annotation at top -->
  <text x="340" y="40" text-anchor="middle" font-size="9" fill="#999" font-style="italic">All four pillars required for end-to-end robustness</text>

  <!-- Pillar base labels -->
  <text x="122" y="440" text-anchor="middle" font-size="8" fill="#999" font-style="italic">Formal guarantees</text>
  <text x="262" y="440" text-anchor="middle" font-size="8" fill="#999" font-style="italic">Adversarial training</text>
  <text x="402" y="440" text-anchor="middle" font-size="8" fill="#999" font-style="italic">Preprocessing filters</text>
  <text x="542" y="440" text-anchor="middle" font-size="8" fill="#999" font-style="italic">Runtime checks</text>
</svg>
