<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#a31f34"/>
    </marker>
    <marker id="arrow-green" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#3d9e5a"/>
    </marker>
  </defs>

  <rect width="680" height="460" fill="#fff"/>

  <!-- Central circular loop with four nodes -->
  <!-- Node 1: Biased Training Data (top) -->
  <g transform="translate(245, 28)">
    <rect x="0" y="0" width="190" height="62" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.5"/>
    <text x="95" y="24" font-size="11" font-weight="700" fill="#333" text-anchor="middle">Biased Training Data</text>
    <text x="95" y="40" font-size="9" fill="#555" text-anchor="middle">Historical loan records with</text>
    <text x="95" y="52" font-size="9" fill="#555" text-anchor="middle">underrepresented minorities</text>
  </g>

  <!-- Node 2: Biased Model (right) -->
  <g transform="translate(470, 170)">
    <rect x="0" y="0" width="190" height="62" rx="6" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.5"/>
    <text x="95" y="24" font-size="11" font-weight="700" fill="#333" text-anchor="middle">Biased Model</text>
    <text x="95" y="40" font-size="9" fill="#555" text-anchor="middle">Learns correlation:</text>
    <text x="95" y="52" font-size="9" fill="#555" text-anchor="middle">minority zip codes = high risk</text>
  </g>

  <!-- Node 3: Discriminatory Outcomes (bottom) -->
  <g transform="translate(245, 312)">
    <rect x="0" y="0" width="190" height="62" rx="6" fill="#f9d6d5" stroke="#c44" stroke-width="1.5"/>
    <text x="95" y="24" font-size="11" font-weight="700" fill="#333" text-anchor="middle">Discriminatory Outcomes</text>
    <text x="95" y="40" font-size="9" fill="#555" text-anchor="middle">Disproportionate loan denial</text>
    <text x="95" y="52" font-size="9" fill="#555" text-anchor="middle">for minority applicants</text>
  </g>

  <!-- Node 4: Reinforced Bias (left) -->
  <g transform="translate(20, 170)">
    <rect x="0" y="0" width="190" height="62" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.5"/>
    <text x="95" y="24" font-size="11" font-weight="700" fill="#333" text-anchor="middle">Reinforced Data Bias</text>
    <text x="95" y="40" font-size="9" fill="#555" text-anchor="middle">Fewer minority approvals</text>
    <text x="95" y="52" font-size="9" fill="#555" text-anchor="middle">= less positive credit history</text>
  </g>

  <!-- Curved arrows connecting the loop (clockwise) -->
  <!-- Top -> Right -->
  <path d="M 435,65 Q 510,80 500,168" fill="none" stroke="#a31f34" stroke-width="2" marker-end="url(#arrow)"/>
  <!-- Right -> Bottom -->
  <path d="M 510,232 Q 500,290 435,315" fill="none" stroke="#a31f34" stroke-width="2" marker-end="url(#arrow)"/>
  <!-- Bottom -> Left -->
  <path d="M 245,340 Q 170,330 175,234" fill="none" stroke="#a31f34" stroke-width="2" marker-end="url(#arrow)"/>
  <!-- Left -> Top -->
  <path d="M 165,170 Q 170,100 245,65" fill="none" stroke="#a31f34" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Loop direction indicator -->
  <text x="340" y="200" font-size="12" font-weight="700" fill="#a31f34" text-anchor="middle">FEEDBACK</text>
  <text x="340" y="216" font-size="12" font-weight="700" fill="#a31f34" text-anchor="middle">LOOP</text>

  <!-- Arrow labels on each segment -->
  <text x="490" y="125" font-size="9" fill="#555" text-anchor="middle" transform="rotate(20,490,125)">trains on</text>
  <text x="495" y="280" font-size="9" fill="#555" text-anchor="middle" transform="rotate(-20,495,280)">produces</text>
  <text x="190" y="290" font-size="9" fill="#555" text-anchor="middle" transform="rotate(20,190,290)">creates</text>
  <text x="183" y="125" font-size="9" fill="#555" text-anchor="middle" transform="rotate(-20,183,125)">feeds into</text>

  <!-- Intervention points (green markers) -->
  <!-- Intervention 1: Data audit -->
  <g transform="translate(246, 95)">
    <line x1="-24" y1="10" x2="-10" y2="10" stroke="#3d9e5a" stroke-width="1.5" marker-end="url(#arrow-green)"/>
    <rect x="-120" y="-5" width="96" height="30" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
    <text x="-72" y="8" font-size="9" font-weight="700" fill="#3d9e5a" text-anchor="middle">Data Audit</text>
    <text x="-72" y="20" font-size="8" fill="#555" text-anchor="middle">Detect imbalance</text>
  </g>

  <!-- Intervention 2: Fairness constraint -->
  <g transform="translate(465, 215)">
    <line x1="0" y1="20" x2="10" y2="20" stroke="#3d9e5a" stroke-width="1.5"/>
    <rect x="10" y="6" width="96" height="30" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
    <text x="58" y="19" font-size="9" font-weight="700" fill="#3d9e5a" text-anchor="middle">Fairness Metrics</text>
    <text x="58" y="31" font-size="8" fill="#555" text-anchor="middle">Constrain outputs</text>
  </g>

  <!-- Intervention 3: Impact assessment -->
  <g transform="translate(246, 380)">
    <line x1="-24" y1="-6" x2="-10" y2="-6" stroke="#3d9e5a" stroke-width="1.5" marker-end="url(#arrow-green)"/>
    <rect x="-120" y="-20" width="96" height="30" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
    <text x="-72" y="-7" font-size="9" font-weight="700" fill="#3d9e5a" text-anchor="middle">Impact Audit</text>
    <text x="-72" y="5" font-size="8" fill="#555" text-anchor="middle">Measure disparities</text>
  </g>

  <!-- Legend -->
  <g transform="translate(18, 420)">
    <line x1="0" y1="0" x2="18" y2="0" stroke="#a31f34" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="24" y="4" font-size="9" fill="#555">Bias amplification path</text>
    <line x1="160" y1="0" x2="178" y2="0" stroke="#3d9e5a" stroke-width="1.5" marker-end="url(#arrow-green)"/>
    <text x="184" y="4" font-size="9" fill="#555">Intervention point</text>
  </g>

  <!-- Annotation -->
  <text x="340" y="450" font-size="9" fill="#999" text-anchor="middle" font-style="italic">Each cycle amplifies bias; interventions at any stage can break the feedback loop.</text>
</svg>
