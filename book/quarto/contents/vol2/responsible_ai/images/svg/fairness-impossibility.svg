<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <clipPath id="clip-dp">
      <circle cx="240" cy="175" r="105"/>
    </clipPath>
    <clipPath id="clip-eo">
      <circle cx="400" cy="175" r="105"/>
    </clipPath>
    <clipPath id="clip-cal">
      <circle cx="320" cy="305" r="105"/>
    </clipPath>
  </defs>

  <!-- Background -->
  <rect width="680" height="460" fill="#fff"/>

  <!-- Venn diagram: three overlapping circles -->
  <!-- Demographic Parity circle -->
  <circle cx="240" cy="175" r="105" fill="#cfe2f3" fill-opacity="0.5" stroke="#4a90c4" stroke-width="2"/>
  <!-- Equalized Odds circle -->
  <circle cx="400" cy="175" r="105" fill="#d4edda" fill-opacity="0.5" stroke="#3d9e5a" stroke-width="2"/>
  <!-- Calibration circle -->
  <circle cx="320" cy="305" r="105" fill="#fdebd0" fill-opacity="0.5" stroke="#c87b2a" stroke-width="2"/>

  <!-- Impossibility region: center overlap with X pattern -->
  <g opacity="0.9">
    <!-- Red hatching in triple overlap -->
    <path d="M 295,195 L 305,180 L 340,200 L 345,215 L 330,235 L 310,230 Z" fill="#f9d6d5" stroke="#c44" stroke-width="1.5"/>
    <!-- X mark over center -->
    <line x1="305" y1="195" x2="335" y2="225" stroke="#a31f34" stroke-width="3" stroke-linecap="round"/>
    <line x1="335" y1="195" x2="305" y2="225" stroke="#a31f34" stroke-width="3" stroke-linecap="round"/>
  </g>

  <!-- Metric labels inside circles -->
  <!-- Demographic Parity -->
  <text x="185" y="145" font-size="12" font-weight="700" fill="#4a90c4" text-anchor="middle">Demographic</text>
  <text x="185" y="160" font-size="12" font-weight="700" fill="#4a90c4" text-anchor="middle">Parity</text>
  <text x="185" y="178" font-size="9" fill="#555" text-anchor="middle">P(Y=1 | G=a)</text>
  <text x="185" y="191" font-size="9" fill="#555" text-anchor="middle">= P(Y=1 | G=b)</text>

  <!-- Equalized Odds -->
  <text x="455" y="145" font-size="12" font-weight="700" fill="#3d9e5a" text-anchor="middle">Equalized</text>
  <text x="455" y="160" font-size="12" font-weight="700" fill="#3d9e5a" text-anchor="middle">Odds</text>
  <text x="455" y="178" font-size="9" fill="#555" text-anchor="middle">Equal TPR and FPR</text>
  <text x="455" y="191" font-size="9" fill="#555" text-anchor="middle">across groups</text>

  <!-- Calibration -->
  <text x="320" y="335" font-size="12" font-weight="700" fill="#c87b2a" text-anchor="middle">Calibration</text>
  <text x="320" y="353" font-size="9" fill="#555" text-anchor="middle">P(Y=1 | S=s, G=g) = s</text>
  <text x="320" y="366" font-size="9" fill="#555" text-anchor="middle">for all groups g</text>

  <!-- Pairwise overlap labels -->
  <!-- DP + EO overlap -->
  <text x="320" y="135" font-size="9" fill="#555" text-anchor="middle" font-style="italic">Achievable only if</text>
  <text x="320" y="147" font-size="9" fill="#555" text-anchor="middle" font-style="italic">base rates equal</text>

  <!-- DP + Cal overlap -->
  <text x="235" y="265" font-size="9" fill="#555" text-anchor="middle" font-style="italic">Violates</text>
  <text x="235" y="277" font-size="9" fill="#555" text-anchor="middle" font-style="italic">Eq. Odds</text>

  <!-- EO + Cal overlap -->
  <text x="405" y="265" font-size="9" fill="#555" text-anchor="middle" font-style="italic">Violates</text>
  <text x="405" y="277" font-size="9" fill="#555" text-anchor="middle" font-style="italic">Dem. Parity</text>

  <!-- Two-group base rate comparison -->
  <!-- Group A distribution -->
  <g transform="translate(70, 400)">
    <rect x="0" y="-20" width="110" height="46" rx="4" fill="#f7f7f7" stroke="#bbb" stroke-width="1.2"/>
    <text x="55" y="-6" font-size="9.5" font-weight="700" fill="#333" text-anchor="middle">Group A</text>
    <text x="55" y="8" font-size="9" fill="#555" text-anchor="middle">Base rate: 30%</text>
    <text x="55" y="20" font-size="9" fill="#555" text-anchor="middle">P(Y=1) = 0.30</text>
  </g>

  <!-- Not-equal sign -->
  <text x="225" y="408" font-size="16" font-weight="700" fill="#a31f34" text-anchor="middle">=</text>
  <line x1="217" y1="403" x2="233" y2="413" stroke="#a31f34" stroke-width="2.5"/>

  <!-- Group B distribution -->
  <g transform="translate(270, 400)">
    <rect x="0" y="-20" width="110" height="46" rx="4" fill="#f7f7f7" stroke="#bbb" stroke-width="1.2"/>
    <text x="55" y="-6" font-size="9.5" font-weight="700" fill="#333" text-anchor="middle">Group B</text>
    <text x="55" y="8" font-size="9" fill="#555" text-anchor="middle">Base rate: 55%</text>
    <text x="55" y="20" font-size="9" fill="#555" text-anchor="middle">P(Y=1) = 0.55</text>
  </g>

  <!-- Annotation arrow from base rates to center -->
  <line x1="410" y1="410" x2="520" y2="410" stroke="#a31f34" stroke-width="1.2"/>
  <text x="530" y="398" font-size="9.5" font-weight="600" fill="#a31f34" text-anchor="start">When base rates differ,</text>
  <text x="530" y="412" font-size="9.5" font-weight="600" fill="#a31f34" text-anchor="start">satisfying any two</text>
  <text x="530" y="426" font-size="9.5" font-weight="600" fill="#a31f34" text-anchor="start">violates the third.</text>
</svg>
