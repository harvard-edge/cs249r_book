<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="pwr-arr" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto">
      <path d="M0,0 L7,2.5 L0,5" fill="#c87b2a"/>
    </marker>
  </defs>

  <rect width="680" height="460" fill="#fafafa" rx="3"/>

  <!-- Stage 1: Utility Grid -->
  <g transform="translate(18, 60)">
    <rect x="0" y="0" width="96" height="70" rx="4" fill="#f7f7f7" stroke="#bbb" stroke-width="1.2"/>
    <text x="48" y="22" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Utility Grid</text>
    <line x1="8" y1="30" x2="88" y2="30" stroke="#ddd" stroke-width="0.6"/>
    <text x="48" y="46" text-anchor="middle" font-size="9" fill="#555">High Voltage</text>
    <text x="48" y="58" text-anchor="middle" font-size="9" fill="#555">AC (13 kV+)</text>
  </g>

  <!-- Arrow 1 -->
  <line x1="114" y1="95" x2="130" y2="95" stroke="#c87b2a" stroke-width="1.2" marker-end="url(#pwr-arr)"/>

  <!-- Stage 2: Transformer -->
  <g transform="translate(132, 60)">
    <rect x="0" y="0" width="96" height="70" rx="4" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
    <text x="48" y="22" text-anchor="middle" font-size="10" font-weight="700" fill="#5a3a10">Transformer</text>
    <line x1="8" y1="30" x2="88" y2="30" stroke="#c87b2a" stroke-width="0.4" opacity="0.4"/>
    <text x="48" y="46" text-anchor="middle" font-size="9" fill="#555">Step-down to</text>
    <text x="48" y="58" text-anchor="middle" font-size="9" fill="#555">480V AC</text>
  </g>
  <!-- Loss label -->
  <text x="180" y="148" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="600">~5% loss</text>

  <!-- Arrow 2 -->
  <line x1="228" y1="95" x2="244" y2="95" stroke="#c87b2a" stroke-width="1.2" marker-end="url(#pwr-arr)"/>

  <!-- Stage 3: UPS / Generator -->
  <g transform="translate(246, 60)">
    <rect x="0" y="0" width="96" height="70" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
    <text x="48" y="18" text-anchor="middle" font-size="10" font-weight="700" fill="#1a4a2a">UPS /</text>
    <text x="48" y="30" text-anchor="middle" font-size="10" font-weight="700" fill="#1a4a2a">Generator</text>
    <line x1="8" y1="38" x2="88" y2="38" stroke="#3d9e5a" stroke-width="0.4" opacity="0.4"/>
    <text x="48" y="54" text-anchor="middle" font-size="9" fill="#555">Battery backup</text>
    <text x="48" y="66" text-anchor="middle" font-size="9" fill="#555">480V AC</text>
  </g>
  <text x="294" y="148" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="600">~3% loss</text>

  <!-- Arrow 3 -->
  <line x1="342" y1="95" x2="358" y2="95" stroke="#c87b2a" stroke-width="1.2" marker-end="url(#pwr-arr)"/>

  <!-- Stage 4: PDU -->
  <g transform="translate(360, 60)">
    <rect x="0" y="0" width="96" height="70" rx="4" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
    <text x="48" y="22" text-anchor="middle" font-size="10" font-weight="700" fill="#1a3a5c">PDU</text>
    <line x1="8" y1="30" x2="88" y2="30" stroke="#4a90c4" stroke-width="0.4" opacity="0.4"/>
    <text x="48" y="46" text-anchor="middle" font-size="9" fill="#555">Power Distrib.</text>
    <text x="48" y="58" text-anchor="middle" font-size="9" fill="#555">to rack: 240V</text>
  </g>
  <text x="408" y="148" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="600">~3% loss</text>

  <!-- Arrow 4 -->
  <line x1="456" y1="95" x2="472" y2="95" stroke="#c87b2a" stroke-width="1.2" marker-end="url(#pwr-arr)"/>

  <!-- Stage 5: Server / PSU -->
  <g transform="translate(474, 60)">
    <rect x="0" y="0" width="96" height="70" rx="4" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
    <text x="48" y="22" text-anchor="middle" font-size="10" font-weight="700" fill="#1a3a5c">Server PSU</text>
    <line x1="8" y1="30" x2="88" y2="30" stroke="#4a90c4" stroke-width="0.4" opacity="0.4"/>
    <text x="48" y="46" text-anchor="middle" font-size="9" fill="#555">AC to 12V DC</text>
    <text x="48" y="58" text-anchor="middle" font-size="9" fill="#555">conversion</text>
  </g>
  <text x="522" y="148" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="600">~5% loss</text>

  <!-- Arrow 5 -->
  <line x1="570" y1="95" x2="586" y2="95" stroke="#c87b2a" stroke-width="1.2" marker-end="url(#pwr-arr)"/>

  <!-- Stage 6: GPU Die -->
  <g transform="translate(588, 60)">
    <rect x="0" y="0" width="76" height="70" rx="4" fill="#f9d6d5" stroke="#c44" stroke-width="1.5"/>
    <text x="38" y="22" text-anchor="middle" font-size="10" font-weight="700" fill="#8b1a1a">GPU Die</text>
    <line x1="8" y1="30" x2="68" y2="30" stroke="#c44" stroke-width="0.4" opacity="0.4"/>
    <text x="38" y="46" text-anchor="middle" font-size="9" fill="#555">VRM to</text>
    <text x="38" y="58" text-anchor="middle" font-size="9" fill="#555">&lt;1V DC</text>
  </g>
  <text x="626" y="148" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="600">~8% loss</text>

  <!-- Summary: Power delivery losses -->
  <rect x="30" y="180" width="620" height="56" rx="4" fill="white" stroke="#bbb" stroke-width="1.0"/>
  <text x="340" y="200" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Total Power Delivery Overhead</text>
  <text x="340" y="218" text-anchor="middle" font-size="9.5" fill="#555">For 1 MW of GPU compute, draw ~1.2 MW from grid (~20% delivery loss)</text>
  <text x="340" y="230" text-anchor="middle" font-size="9" fill="#888">Losses compound at each stage: transformer, UPS, PDU, PSU, VRM</text>

  <!-- PUE section -->
  <rect x="30" y="254" width="300" height="90" rx="4" fill="#f7f7f7" stroke="#bbb" stroke-width="1.0"/>
  <text x="180" y="276" text-anchor="middle" font-size="10" font-weight="700" fill="#333">PUE Formula</text>
  <text x="180" y="298" text-anchor="middle" font-size="10" fill="#555">PUE = Total Facility Power / IT Equipment Power</text>
  <text x="180" y="318" text-anchor="middle" font-size="9" fill="#555">Includes: cooling, lighting, networking overhead</text>
  <text x="180" y="334" text-anchor="middle" font-size="9" fill="#888" font-style="italic">Ideal PUE = 1.0 (all power to compute)</text>

  <!-- PUE comparison bars -->
  <g transform="translate(370, 260)">
    <rect x="0" y="0" width="280" height="84" rx="4" fill="#f7f7f7" stroke="#bbb" stroke-width="1.0"/>
    <text x="140" y="18" text-anchor="middle" font-size="10" font-weight="700" fill="#333">Typical PUE Values</text>

    <!-- Efficient -->
    <rect x="16" y="28" width="180" height="16" rx="2" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
    <text x="24" y="40" font-size="8.5" fill="#1a4a2a" font-weight="600">Efficient (Google): PUE 1.1</text>

    <!-- Average -->
    <rect x="16" y="50" width="220" height="16" rx="2" fill="#fdebd0" stroke="#c87b2a" stroke-width="0.8"/>
    <text x="24" y="62" font-size="8.5" fill="#5a3a10" font-weight="600">Industry Average: PUE 1.3</text>

    <!-- Poor -->
    <rect x="16" y="72" width="252" height="16" rx="2" fill="#f9d6d5" stroke="#c44" stroke-width="0.8"/>
    <text x="24" y="84" font-size="8.5" fill="#8b1a1a" font-weight="600">Legacy Datacenter: PUE 1.5+</text>
  </g>

  <!-- Bottom cost callout -->
  <rect x="30" y="370" width="620" height="46" rx="4" fill="white" stroke="#a31f34" stroke-width="1.2"/>
  <text x="340" y="390" text-anchor="middle" font-size="9.5" fill="#a31f34" font-weight="700">Cost implication: at $0.07/kWh, a 10,000-GPU cluster (10 MW)</text>
  <text x="340" y="406" text-anchor="middle" font-size="9.5" fill="#555">costs ~$6.1M/year in electricity alone (PUE 1.0), rising to ~$9.2M at PUE 1.5</text>
</svg>
