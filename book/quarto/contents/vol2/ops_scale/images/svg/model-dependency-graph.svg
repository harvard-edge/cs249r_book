<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <rect width="680" height="460" fill="#fafafa" rx="3"/>

  <!-- Background panel -->
  <rect x="10" y="10" width="660" height="440" fill="#fafafa" stroke="#e0e0e0" stroke-width="1" rx="4"/>

  <!-- Section label -->
  <text x="340" y="40" text-anchor="middle" font-size="12" fill="#999" font-style="italic">Model Registry — Dependency Tracking</text>

  <!-- Top upstream node: User Embedding v3.2 -->
  <rect x="240" y="60" width="200" height="54" rx="6" fill="#cfe2f3" stroke="#4a90c4" stroke-width="2.5"/>
  <text x="340" y="83" text-anchor="middle" font-size="14" font-weight="bold" fill="#1a4f7a">User Embedding v3.2</text>
  <text x="340" y="101" text-anchor="middle" font-size="11" fill="#4a90c4">Upstream Model</text>

  <!-- Alert box connected to User Embedding -->
  <rect x="460" y="55" width="195" height="62" rx="5" fill="#f9d6d5" stroke="#c44" stroke-width="1.8"/>
  <text x="557" y="75" text-anchor="middle" font-size="11" font-weight="bold" fill="#a31f34">Update triggers</text>
  <text x="557" y="91" text-anchor="middle" font-size="11" fill="#a31f34">auto-retrain of</text>
  <text x="557" y="107" text-anchor="middle" font-size="11" fill="#a31f34">3 downstream models</text>
  <!-- Alert connector -->
  <line x1="460" y1="86" x2="440" y2="86" stroke="#c44" stroke-width="1.5" stroke-dasharray="4,3"/>

  <!-- Dashed arrows downward from User Embedding to three downstream models -->
  <!-- Arrow to Retrieval Model (left) -->
  <line x1="290" y1="114" x2="170" y2="215" stroke="#4a90c4" stroke-width="1.8" stroke-dasharray="7,4"/>
  <polygon points="166,226 163,212 175,216" fill="#4a90c4"/>

  <!-- Arrow to Ranking Model (center) -->
  <line x1="340" y1="114" x2="340" y2="215" stroke="#4a90c4" stroke-width="1.8" stroke-dasharray="7,4"/>
  <polygon points="340,228 333,213 347,213" fill="#4a90c4"/>

  <!-- Arrow to Ensemble Model (right) -->
  <line x1="390" y1="114" x2="510" y2="215" stroke="#4a90c4" stroke-width="1.8" stroke-dasharray="7,4"/>
  <polygon points="514,226 505,213 517,216" fill="#4a90c4"/>

  <!-- Downstream model: Retrieval Model -->
  <rect x="75" y="228" width="190" height="54" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="2"/>
  <text x="170" y="251" text-anchor="middle" font-size="13" font-weight="bold" fill="#7a3f00">Retrieval Model</text>
  <text x="170" y="268" text-anchor="middle" font-size="11" fill="#c87b2a">Downstream — Layer 1</text>

  <!-- Downstream model: Ranking Model -->
  <rect x="245" y="228" width="190" height="54" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="2"/>
  <text x="340" y="251" text-anchor="middle" font-size="13" font-weight="bold" fill="#7a3f00">Ranking Model</text>
  <text x="340" y="268" text-anchor="middle" font-size="11" fill="#c87b2a">Downstream — Layer 1</text>

  <!-- Downstream model: Ensemble Model -->
  <rect x="415" y="228" width="190" height="54" rx="6" fill="#fdebd0" stroke="#c87b2a" stroke-width="2"/>
  <text x="510" y="251" text-anchor="middle" font-size="13" font-weight="bold" fill="#7a3f00">Ensemble Model</text>
  <text x="510" y="268" text-anchor="middle" font-size="11" fill="#c87b2a">Downstream — Layer 1</text>

  <!-- Second-level downstream arrows (Ranking → combined output) -->
  <line x1="265" y1="282" x2="310" y2="355" stroke="#c87b2a" stroke-width="1.5" stroke-dasharray="6,4"/>
  <polygon points="311,367 303,353 317,352" fill="#c87b2a"/>
  <line x1="340" y1="282" x2="340" y2="355" stroke="#c87b2a" stroke-width="1.5" stroke-dasharray="6,4"/>
  <polygon points="340,368 333,353 347,353" fill="#c87b2a"/>
  <line x1="415" y1="282" x2="370" y2="355" stroke="#c87b2a" stroke-width="1.5" stroke-dasharray="6,4"/>
  <polygon points="369,367 363,353 376,353" fill="#c87b2a"/>

  <!-- Final output node -->
  <rect x="245" y="368" width="190" height="48" rx="6" fill="#d4edda" stroke="#3d9e5a" stroke-width="2"/>
  <text x="340" y="389" text-anchor="middle" font-size="13" font-weight="bold" fill="#1e5e35">Final Ranking Output</text>
  <text x="340" y="406" text-anchor="middle" font-size="11" fill="#3d9e5a">Production Endpoint</text>

  <!-- Annotation bar at bottom -->
  <rect x="30" y="430" width="620" height="22" rx="3" fill="#e0e0e0"/>
  <text x="340" y="445" text-anchor="middle" font-size="11" fill="#555">Model Registry tracks all dependencies — version changes propagate automatically</text>
</svg>
