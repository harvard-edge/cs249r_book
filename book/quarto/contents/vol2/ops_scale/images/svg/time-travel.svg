<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 460" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <rect width="680" height="460" fill="#fafafa" rx="3"/>
  <rect x="10" y="10" width="660" height="440" fill="#fafafa" stroke="#e0e0e0" stroke-width="1" rx="4"/>

  <!-- Title annotation -->
  <text x="340" y="38" text-anchor="middle" font-size="12" fill="#999" font-style="italic">Point-in-Time Correctness — Preventing Feature Leakage</text>

  <!-- Timeline axis -->
  <line x1="60" y1="180" x2="620" y2="180" stroke="#555" stroke-width="2.5"/>
  <!-- Arrow head at right -->
  <polygon points="622,180 610,174 610,186" fill="#555"/>

  <!-- Axis label -->
  <text x="635" y="184" font-size="12" fill="#555">time</text>

  <!-- Tick marks and labels -->
  <line x1="60" y1="175" x2="60" y2="190" stroke="#555" stroke-width="1.5"/>
  <text x="60" y="206" text-anchor="middle" font-size="11" fill="#555">00:00</text>

  <line x1="193" y1="175" x2="193" y2="190" stroke="#555" stroke-width="1.5"/>
  <text x="193" y="206" text-anchor="middle" font-size="11" fill="#555">04:00</text>

  <line x1="327" y1="175" x2="327" y2="190" stroke="#555" stroke-width="1.5"/>
  <text x="327" y="206" text-anchor="middle" font-size="11" fill="#555">08:00</text>

  <line x1="460" y1="175" x2="460" y2="190" stroke="#555" stroke-width="1.5"/>
  <text x="460" y="206" text-anchor="middle" font-size="11" fill="#555">16:00</text>

  <line x1="580" y1="175" x2="580" y2="190" stroke="#555" stroke-width="1.5"/>
  <text x="580" y="206" text-anchor="middle" font-size="11" fill="#555">20:00</text>

  <!-- Point-in-time boundary at x=390 (12:00) -->
  <line x1="390" y1="60" x2="390" y2="330" stroke="#555" stroke-width="2" stroke-dasharray="8,5"/>
  <text x="390" y="52" text-anchor="middle" font-size="12" font-weight="bold" fill="#555">12:00</text>
  <text x="390" y="345" text-anchor="middle" font-size="11" font-weight="bold" fill="#555">Point-in-time boundary</text>

  <!-- Region labels -->
  <text x="225" y="88" text-anchor="middle" font-size="12" fill="#3d9e5a" font-weight="bold">Past (known at inference time)</text>
  <text x="505" y="88" text-anchor="middle" font-size="12" fill="#c44" font-weight="bold">Future (not yet observed)</text>

  <!-- Shaded future region -->
  <rect x="390" y="100" width="220" height="220" fill="#f9d6d5" opacity="0.25" rx="2"/>

  <!-- Blue dots: 4 past click events -->
  <circle cx="110" cy="180" r="8" fill="#4a90c4" stroke="#1a4f7a" stroke-width="1.5"/>
  <text x="110" y="165" text-anchor="middle" font-size="10" fill="#4a90c4">click</text>

  <circle cx="185" cy="180" r="8" fill="#4a90c4" stroke="#1a4f7a" stroke-width="1.5"/>
  <text x="185" y="165" text-anchor="middle" font-size="10" fill="#4a90c4">click</text>

  <circle cx="280" cy="180" r="8" fill="#4a90c4" stroke="#1a4f7a" stroke-width="1.5"/>
  <text x="280" y="165" text-anchor="middle" font-size="10" fill="#4a90c4">click</text>

  <circle cx="355" cy="180" r="8" fill="#4a90c4" stroke="#1a4f7a" stroke-width="1.5"/>
  <text x="355" y="165" text-anchor="middle" font-size="10" fill="#4a90c4">click</text>

  <!-- Past-events bracket -->
  <line x1="90" y1="218" x2="370" y2="218" stroke="#4a90c4" stroke-width="1.2"/>
  <line x1="90" y1="213" x2="90" y2="223" stroke="#4a90c4" stroke-width="1.2"/>
  <line x1="370" y1="213" x2="370" y2="223" stroke="#4a90c4" stroke-width="1.2"/>
  <text x="230" y="234" text-anchor="middle" font-size="11" fill="#4a90c4">4 clicks seen so far</text>

  <!-- Red dots: 6 future click events -->
  <circle cx="425" cy="180" r="8" fill="#f9d6d5" stroke="#c44" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="460" cy="180" r="8" fill="#f9d6d5" stroke="#c44" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="490" cy="180" r="8" fill="#f9d6d5" stroke="#c44" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="520" cy="180" r="8" fill="#f9d6d5" stroke="#c44" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="548" cy="180" r="8" fill="#f9d6d5" stroke="#c44" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="575" cy="180" r="8" fill="#f9d6d5" stroke="#c44" stroke-width="1.5" stroke-dasharray="3,2"/>

  <!-- Future-events bracket -->
  <line x1="415" y1="218" x2="587" y2="218" stroke="#c44" stroke-width="1.2" stroke-dasharray="4,2"/>
  <line x1="415" y1="213" x2="415" y2="223" stroke="#c44" stroke-width="1.2"/>
  <line x1="587" y1="213" x2="587" y2="223" stroke="#c44" stroke-width="1.2"/>
  <text x="501" y="234" text-anchor="middle" font-size="11" fill="#c44">6 future clicks (unknown)</text>

  <!-- Inference request marker -->
  <polygon points="390,98 384,112 396,112" fill="#555"/>
  <rect x="300" y="114" width="180" height="30" rx="4" fill="#555" opacity="0.85"/>
  <text x="390" y="134" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Inference request</text>

  <!-- Green "correct" label -->
  <rect x="105" y="255" width="260" height="36" rx="4" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.5"/>
  <text x="235" y="271" text-anchor="middle" font-size="12" font-weight="bold" fill="#1e5e35">Correct: use 4 clicks seen so far</text>
  <text x="235" y="285" text-anchor="middle" font-size="10" fill="#3d9e5a">Snapshot feature at t = 12:00</text>
  <!-- connector -->
  <line x1="235" y1="255" x2="280" y2="228" stroke="#3d9e5a" stroke-width="1.2"/>

  <!-- Red "wrong" label -->
  <rect x="315" y="360" width="310" height="40" rx="4" fill="#f9d6d5" stroke="#c44" stroke-width="1.8"/>
  <text x="470" y="376" text-anchor="middle" font-size="12" font-weight="bold" fill="#a31f34">WRONG: using 10 total clicks</text>
  <text x="470" y="392" text-anchor="middle" font-size="11" fill="#c44">Includes future data → data leakage</text>

  <!-- Red curved arrow from future events to wrong box -->
  <path d="M 500 218 Q 530 290 470 358" stroke="#c44" stroke-width="1.8" stroke-dasharray="6,3" fill="none"/>
  <polygon points="470,360 462,346 472,344" fill="#c44"/>
</svg>
