<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 420" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <marker id="arrow-axis" markerWidth="6" markerHeight="4" refX="6" refY="2" orient="auto">
      <path d="M0,0 L6,2 L0,4 Z" fill="#333"/>
    </marker>
  </defs>

  <rect width="640" height="420" fill="white"/>

  <!-- Grid lines -->
  <line x1="90" y1="60" x2="540" y2="60" stroke="#e8e8e8" stroke-width="0.8"/>
  <line x1="90" y1="110" x2="540" y2="110" stroke="#e8e8e8" stroke-width="0.8"/>
  <line x1="90" y1="160" x2="540" y2="160" stroke="#e8e8e8" stroke-width="0.8"/>
  <line x1="90" y1="210" x2="540" y2="210" stroke="#e8e8e8" stroke-width="0.8"/>
  <line x1="90" y1="260" x2="540" y2="260" stroke="#e8e8e8" stroke-width="0.8"/>
  <line x1="90" y1="310" x2="540" y2="310" stroke="#e8e8e8" stroke-width="0.8"/>

  <!-- Y axis (left): Bisection Bandwidth -->
  <line x1="90" y1="340" x2="90" y2="40" stroke="#333" stroke-width="1.2" marker-end="url(#arrow-axis)"/>
  <text x="26" y="200" text-anchor="middle" font-size="11" font-weight="600" fill="#333" transform="rotate(-90,26,200)">Bisection BW (Tb/s)</text>

  <!-- Y axis ticks left -->
  <line x1="86" y1="310" x2="90" y2="310" stroke="#333" stroke-width="1"/>
  <text x="82" y="314" text-anchor="end" font-size="9" fill="#555">0</text>
  <line x1="86" y1="260" x2="90" y2="260" stroke="#333" stroke-width="1"/>
  <text x="82" y="264" text-anchor="end" font-size="9" fill="#555">5</text>
  <line x1="86" y1="210" x2="90" y2="210" stroke="#333" stroke-width="1"/>
  <text x="82" y="214" text-anchor="end" font-size="9" fill="#555">10</text>
  <line x1="86" y1="160" x2="90" y2="160" stroke="#333" stroke-width="1"/>
  <text x="82" y="164" text-anchor="end" font-size="9" fill="#555">15</text>
  <line x1="86" y1="110" x2="90" y2="110" stroke="#333" stroke-width="1"/>
  <text x="82" y="114" text-anchor="end" font-size="9" fill="#555">20</text>
  <line x1="86" y1="60" x2="90" y2="60" stroke="#333" stroke-width="1"/>
  <text x="82" y="64" text-anchor="end" font-size="9" fill="#555">25</text>

  <!-- X axis -->
  <line x1="90" y1="340" x2="555" y2="340" stroke="#333" stroke-width="1.2"/>
  <text x="315" y="395" text-anchor="middle" font-size="11" font-weight="600" fill="#333">Network Topology (1,024-GPU cluster)</text>

  <!-- Y axis (right): Cost per Gb/s -->
  <line x1="540" y1="340" x2="540" y2="40" stroke="#a31f34" stroke-width="1.2" marker-end="url(#arrow-axis)"/>
  <text x="612" y="200" text-anchor="middle" font-size="10" font-weight="600" fill="#a31f34" transform="rotate(90,612,200)">Cost ($/Gb/s)</text>

  <!-- Y axis ticks right -->
  <line x1="540" y1="310" x2="544" y2="310" stroke="#a31f34" stroke-width="1"/>
  <text x="550" y="314" font-size="9" fill="#a31f34">0</text>
  <line x1="540" y1="260" x2="544" y2="260" stroke="#a31f34" stroke-width="1"/>
  <text x="550" y="264" font-size="9" fill="#a31f34">2</text>
  <line x1="540" y1="210" x2="544" y2="210" stroke="#a31f34" stroke-width="1"/>
  <text x="550" y="214" font-size="9" fill="#a31f34">4</text>
  <line x1="540" y1="160" x2="544" y2="160" stroke="#a31f34" stroke-width="1"/>
  <text x="550" y="164" font-size="9" fill="#a31f34">6</text>
  <line x1="540" y1="110" x2="544" y2="110" stroke="#a31f34" stroke-width="1"/>
  <text x="550" y="114" font-size="9" fill="#a31f34">8</text>
  <line x1="540" y1="60" x2="544" y2="60" stroke="#a31f34" stroke-width="1"/>
  <text x="550" y="64" font-size="9" fill="#a31f34">10</text>

  <!-- ===== BARS: Bisection Bandwidth ===== -->
  <!-- Bar positions: x centers at 150, 230, 310, 390, 470; width=60 -->

  <!-- Fat-tree: 25.6 Tb/s (full bisection) => y = 310 - (25.6/25)*250 = 310-256 = 54 -->
  <rect x="120" y="54" width="60" height="256" rx="3" fill="#d4edda" stroke="#3d9e5a" stroke-width="1.2"/>
  <text x="150" y="48" text-anchor="middle" font-size="9" font-weight="700" fill="#3d9e5a">25.6</text>
  <text x="150" y="354" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">Fat-tree</text>

  <!-- Dragonfly: 20 Tb/s => y = 310 - (20/25)*250 = 310-200 = 110 -->
  <rect x="200" y="110" width="60" height="200" rx="3" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
  <text x="230" y="104" text-anchor="middle" font-size="9" font-weight="700" fill="#4a90c4">20.0</text>
  <text x="230" y="354" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">Dragonfly</text>

  <!-- Torus 3D: 8 Tb/s => y = 310 - (8/25)*250 = 310-80 = 230 -->
  <rect x="280" y="230" width="60" height="80" rx="3" fill="#fdebd0" stroke="#c87b2a" stroke-width="1.2"/>
  <text x="310" y="224" text-anchor="middle" font-size="9" font-weight="700" fill="#c87b2a">8.0</text>
  <text x="310" y="354" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">Torus 3D</text>

  <!-- Rail-optimized: 12.8 Tb/s => y = 310 - (12.8/25)*250 = 310-128 = 182 -->
  <rect x="360" y="182" width="60" height="128" rx="3" fill="#cfe2f3" stroke="#4a90c4" stroke-width="1.2"/>
  <text x="390" y="176" text-anchor="middle" font-size="9" font-weight="700" fill="#4a90c4">12.8</text>
  <text x="390" y="354" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">Rail-opt.</text>

  <!-- Butterfly: 6.4 Tb/s => y = 310 - (6.4/25)*250 = 310-64 = 246 -->
  <rect x="440" y="246" width="60" height="64" rx="3" fill="#f9d6d5" stroke="#c44" stroke-width="1.2"/>
  <text x="470" y="240" text-anchor="middle" font-size="9" font-weight="700" fill="#c44">6.4</text>
  <text x="470" y="354" text-anchor="middle" font-size="9.5" font-weight="700" fill="#333">Butterfly</text>

  <!-- ===== LINE: Cost per Gb/s (secondary axis) ===== -->
  <!-- Fat-tree: $3/Gb/s => y = 310 - (3/10)*250 = 310-75 = 235 -->
  <!-- Dragonfly: $4/Gb/s => y = 310 - (4/10)*250 = 310-100 = 210 -->
  <!-- Torus 3D: $1.5/Gb/s => y = 310 - (1.5/10)*250 = 310-37.5 = 272.5 -->
  <!-- Rail-opt: $2/Gb/s => y = 310 - (2/10)*250 = 310-50 = 260 -->
  <!-- Butterfly: $5/Gb/s => y = 310 - (5/10)*250 = 310-125 = 185 -->

  <polyline points="150,235 230,210 310,272 390,260 470,185" fill="none" stroke="#a31f34" stroke-width="2" stroke-linejoin="round"/>
  <circle cx="150" cy="235" r="4" fill="#a31f34"/>
  <circle cx="230" cy="210" r="4" fill="#a31f34"/>
  <circle cx="310" cy="272" r="4" fill="#a31f34"/>
  <circle cx="390" cy="260" r="4" fill="#a31f34"/>
  <circle cx="470" cy="185" r="4" fill="#a31f34"/>

  <!-- Cost labels on dots -->
  <text x="150" y="228" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="700">$3.0</text>
  <text x="230" y="203" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="700">$4.0</text>
  <text x="310" y="266" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="700">$1.5</text>
  <text x="390" y="253" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="700">$2.0</text>
  <text x="470" y="178" text-anchor="middle" font-size="8" fill="#a31f34" font-weight="700">$5.0</text>

  <!-- Legend -->
  <rect x="95" y="370" width="12" height="12" rx="2" fill="#d4edda" stroke="#3d9e5a" stroke-width="0.8"/>
  <text x="113" y="381" font-size="9" fill="#555">Bisection bandwidth (Tb/s)</text>
  <line x1="270" y1="376" x2="295" y2="376" stroke="#a31f34" stroke-width="2"/>
  <circle cx="282" cy="376" r="3" fill="#a31f34"/>
  <text x="303" y="381" font-size="9" fill="#555">Cost per Gb/s ($)</text>

  <!-- Annotation -->
  <text x="315" y="410" text-anchor="middle" font-size="9" fill="#999" font-style="italic">Fat-tree provides full bisection BW but at 2x the cost of Torus 3D per Gb/s.</text>

</svg>
