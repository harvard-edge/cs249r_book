<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 380" font-family="Helvetica Neue, Helvetica, Arial, sans-serif">
  <defs>
    <style>
      .axis       { stroke: #333; stroke-width: 1.2; fill: none; }
      .grid       { stroke: #eee; stroke-width: 0.7; }
      .tick-label { font-size: 9.5px; fill: #555; text-anchor: middle; }
      .y-label    { font-size: 9.5px; fill: #555; text-anchor: end; }
      .axis-title { font-size: 11px; fill: #333; font-weight: 600; }
      .bar        { fill: rgba(0,76,151,0.55); stroke: #004c97; stroke-width: 0.5; }
      .bar-tail   { fill: rgba(163,31,52,0.45); stroke: #a31f34; stroke-width: 0.5; }
      .title      { font-size: 13px; font-weight: 700; fill: #333; text-anchor: middle; }
      .subtitle   { font-size: 10px; fill: #777; text-anchor: middle; font-style: italic; }
      .annotation { font-size: 9px; fill: #888; font-style: italic; }
      .callout    { font-size: 9px; fill: #a31f34; font-weight: 600; }
    </style>
  </defs>

  <!-- Title -->
  <text x="320" y="26" class="title">ResNet50 Layer Activation Distribution</text>
  <text x="320" y="42" class="subtitle">Right-skewed distribution with long tail challenging quantization range selection</text>

  <!-- Chart area: x=70..560, y=60..300 -->
  <!-- X-axis: activation values 0.0 to 2.5 -->
  <!-- Y-axis: frequency (arbitrary, normalized) -->

  <!-- Axes -->
  <line x1="70" y1="300" x2="560" y2="300" class="axis" />
  <line x1="70" y1="60"  x2="70"  y2="300" class="axis" />

  <!-- Horizontal grid -->
  <line x1="70" y1="240" x2="560" y2="240" class="grid" />
  <line x1="70" y1="180" x2="560" y2="180" class="grid" />
  <line x1="70" y1="120" x2="560" y2="120" class="grid" />
  <line x1="70" y1="60"  x2="560" y2="60"  class="grid" />

  <!-- Y-axis labels (normalized frequency) -->
  <text x="62" y="304" class="y-label">0</text>
  <text x="62" y="244" class="y-label">0.25</text>
  <text x="62" y="184" class="y-label">0.50</text>
  <text x="62" y="124" class="y-label">0.75</text>
  <text x="62" y="68"  class="y-label">1.0</text>

  <!-- X-axis labels -->
  <text x="70"  y="316" class="tick-label">0.0</text>
  <text x="168" y="316" class="tick-label">0.5</text>
  <text x="266" y="316" class="tick-label">1.0</text>
  <text x="364" y="316" class="tick-label">1.5</text>
  <text x="462" y="316" class="tick-label">2.0</text>
  <text x="560" y="316" class="tick-label">2.5</text>

  <!-- Axis titles -->
  <text x="315" y="340" class="axis-title" text-anchor="middle">Activation Value</text>
  <text x="20" y="180" class="axis-title" text-anchor="middle" transform="rotate(-90,20,180)">Frequency</text>

  <!-- Histogram bars (right-skewed distribution peaking near 0, long tail to 2.1+) -->
  <!-- Each bar: width ~19.6px (490px / 25 bins) -->
  <!-- Bin width = 0.1 activation units = 19.6px -->

  <!-- Peak region (0.0-0.5): high bars, blue -->
  <rect x="70"   y="62"  width="18" height="238" class="bar" />
  <rect x="89.6" y="72"  width="18" height="228" class="bar" />
  <rect x="109.2" y="82" width="18" height="218" class="bar" />
  <rect x="128.8" y="100" width="18" height="200" class="bar" />
  <rect x="148.4" y="125" width="18" height="175" class="bar" />

  <!-- Declining region (0.5-1.0): moderate bars -->
  <rect x="168"   y="155" width="18" height="145" class="bar" />
  <rect x="187.6" y="185" width="18" height="115" class="bar" />
  <rect x="207.2" y="210" width="18" height="90"  class="bar" />
  <rect x="226.8" y="230" width="18" height="70"  class="bar" />
  <rect x="246.4" y="248" width="18" height="52"  class="bar" />

  <!-- Tail region (1.0-1.5): small bars, transition to red -->
  <rect x="266"   y="260" width="18" height="40" class="bar" />
  <rect x="285.6" y="270" width="18" height="30" class="bar" />
  <rect x="305.2" y="277" width="18" height="23" class="bar-tail" />
  <rect x="324.8" y="282" width="18" height="18" class="bar-tail" />
  <rect x="344.4" y="286" width="18" height="14" class="bar-tail" />

  <!-- Long tail (1.5-2.1): very small bars, red (outliers) -->
  <rect x="364"   y="289" width="18" height="11" class="bar-tail" />
  <rect x="383.6" y="291" width="18" height="9"  class="bar-tail" />
  <rect x="403.2" y="293" width="18" height="7"  class="bar-tail" />
  <rect x="422.8" y="294" width="18" height="6"  class="bar-tail" />
  <rect x="442.4" y="296" width="18" height="4"  class="bar-tail" />
  <rect x="462"   y="297" width="18" height="3"  class="bar-tail" />

  <!-- Outlier annotation -->
  <line x1="305" y1="265" x2="420" y2="200" stroke="#a31f34" stroke-width="0.8" stroke-dasharray="3,2" />
  <text x="425" y="196" class="callout">Outlier tail</text>
  <text x="425" y="208" class="annotation">Skews quantization range</text>
  <text x="425" y="220" class="annotation">if not clipped</text>

  <!-- Percentile annotation -->
  <line x1="285" y1="60" x2="285" y2="300" stroke="#2e8b57" stroke-width="1.2" stroke-dasharray="5,3" />
  <text x="275" y="78" font-size="9" fill="#2e8b57" font-weight="600" text-anchor="end">99th percentile</text>
  <text x="275" y="90" font-size="8.5" fill="#2e8b57" font-style="italic" text-anchor="end">clip here</text>

  <!-- Bottom note -->
  <text x="315" y="368" font-size="9" fill="#999" text-anchor="middle" font-style="italic">Most values cluster near zero; long tail requires careful calibration range selection</text>

</svg>
