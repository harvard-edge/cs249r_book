# =============================================================================
# LANDING PAGE WEBSITE (root of mlsysbook.ai)
# =============================================================================
# Same navbar, theme, and footer as Vol 1 / Vol 2. Build from book/quarto:
#   quarto render landing_site/index.qmd
# Deploy _build/html-landing/ to https://mlsysbook.ai/
# =============================================================================

project:
  type: website
  output-dir: ../_build/html-landing
  resources: ..

website:
  title: "Machine Learning Systems"
  description: "Two-volume textbook on ML systems: foundations and single-machine deployment (Vol I), distributed systems and scale (Vol II). Free to read online."
  site-url: https://mlsysbook.ai/

  open-graph:
    locale: en_US
    site-name: "Machine Learning Systems"
    image: https://mlsysbook.ai/vol1/assets/images/covers/cover-hardcover-book-vol1.png
    image-width: 1200
    image-height: 630
  twitter-card:
    card-style: summary_large_image
    image: https://mlsysbook.ai/vol1/assets/images/covers/cover-hardcover-book-vol1.png

  page-navigation: false
  back-to-top-navigation: false

  navbar:
    background: light
    logo: https://mlsysbook.ai/vol1/assets/images/icons/favicon.png
    pinned: true
    collapse: true
    collapse-below: "lg"
    title: "Machine Learning Systems"
    left:
      - text: "Textbook"
        menu:
          - icon: book-half
            text: "Full Textbook"
            href: book/
          - text: "---"
          - icon: journal
            text: "Volume I: Foundations"
            href: vol1/
          - icon: journal
            text: "Volume II: At Scale"
            href: vol2/
          - text: "---"
          - icon: fire
            text: "TinyTorch"
            href: tinytorch/
          - icon: cpu
            text: "Hardware Kits"
            href: kits/
          - text: "---"
          - icon: lightbulb
            text: "Labs (Coming 2026)"
            href: labs/
    right:
      - icon: download
        text: "Downloads"
        menu:
          - icon: file-pdf
            text: "Volume I PDF"
            href: https://mlsysbook.ai/vol1/assets/downloads/Machine-Learning-Systems-Vol1.pdf
            target: _blank
          - icon: journal-text
            text: "Volume I EPUB"
            href: https://mlsysbook.ai/vol1/assets/downloads/Machine-Learning-Systems-Vol1.epub
            target: _blank
          - text: "---"
          - icon: file-pdf
            text: "Volume II PDF"
            href: https://mlsysbook.ai/vol2/assets/downloads/Machine-Learning-Systems-Vol2.pdf
            target: _blank
      - icon: star
        text: "Star"
        href: https://github.com/harvard-edge/cs249r_book#support-this-work
        target: _blank
      - icon: heart
        text: "Support"
        href: https://opencollective.com/mlsysbook
        target: _blank
      - icon: envelope
        text: "Subscribe"
        href: https://mlsysbook.ai/vol1/#subscribe
        id: "navbar-subscribe-btn"
      - icon: github
        text: "GitHub"
        menu:
          - icon: pencil
            text: "Edit this page"
            href: https://github.com/harvard-edge/cs249r_book
            target: _blank
          - icon: bug
            text: "Report an issue"
            href: https://github.com/harvard-edge/cs249r_book/issues/new
            target: _blank
          - icon: chat
            text: "Discussions"
            href: https://github.com/harvard-edge/cs249r_book/discussions
            target: _blank
          - icon: code
            text: "View source"
            href: https://github.com/harvard-edge/cs249r_book
            target: _blank

  # Favicon set in include-in-header to avoid Quarto prepending ./

  # No sidebar on landing (single-page hub)
  sidebar: []

  page-footer:
    left: |
      © 2024–2026 Harvard University. Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY-NC-SA 4.0</a>
    center: |
      <a href="vol1/">Volume I</a> · <a href="vol2/">Volume II</a>
    right:
      - icon: github
        href: https://github.com/harvard-edge/cs249r_book
        aria-label: "View source on GitHub"
      - icon: star
        href: https://github.com/harvard-edge/cs249r_book
        aria-label: "Star this repository"
    background: light
    border: true

format:
  html:
    toc: false
    theme:
      light:
        - default
        - ../assets/styles/style-vol1.scss
      dark:
        - default
        - ../assets/styles/style-vol1.scss
        - ../assets/styles/dark-mode-vol1.scss
    respect-user-color-scheme: true
    css: landing.css
    include-in-header:
      text: |
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
        <meta name="theme-color" content="#A51C30">
        <link rel="icon" href="https://mlsysbook.ai/vol1/assets/images/icons/favicon.png" type="image/png">
