# =============================================================================
# TEST: TWO-VOLUME SIDEBAR CONFIGURATION
# =============================================================================
# This is a test config to preview the collapsible Volume I / Volume II sidebar
# Run with: quarto preview --config config/_quarto-html-volumes-test.yml
# =============================================================================

project:
  type: website
  output-dir: _build/html-test

  preview:
    browser: true
    navigate: true

website:
  title: "ML Systems Textbook"
  page-navigation: true
  reader-mode: false
  back-to-top-navigation: true
  bread-crumbs: true

  search:
    keyboard-shortcut: ["/"]

  navbar:
    background: light
    logo: "assets/images/icons/favicon.png"
    search: true
    pinned: true
    collapse: true
    collapse-below: "md"
    title: "Machine Learning Systems"
    right:
      - icon: fire
        text: "TinyTorch"
        href: https://mlsysbook.ai/tinytorch
        target: _blank
      - icon: code
        text: "Hands-on"
        menu:
          - icon: code
            text: "Labs"
            href: /labs
          - icon: box
            text: "Kits"
            href: /kits
      - icon: download
        text: "Downloads"
        menu:
          - icon: file-pdf
            text: "PDF"
            href: assets/downloads/Machine-Learning-Systems.pdf
            target: _blank
          - icon: book
            text: "EPUB"
            href: assets/downloads/Machine-Learning-Systems.epub
            target: _blank
      - icon: github
        text: "GitHub"
        href: https://github.com/harvard-edge/cs249r_book
        target: _blank

  favicon: assets/images/icons/favicon.png

  sidebar:
    - id: main-content
      title: "Main Content"
      style: "floating"
      background: light
      collapse-level: 1
      contents:

      # Frontmatter
      - text: "Homepage"
        href: index.qmd
      - text: "Foreword"
        href: contents/frontmatter/foreword.qmd
      - href: contents/frontmatter/about/about.qmd

      - text: "---"

      # =================================================================
      # VOLUME I: Introduction to Machine Learning Systems
      # =================================================================
      - section: "Volume I: Introduction"
        id: volume-1
        contents:

          # Part I: Systems Foundations
          - section: "I. Systems Foundations"
            id: vol1-part1
            contents:
              - text: "1. Introduction"
                href: contents/core/introduction/introduction.qmd
              - text: "2. ML Systems Landscape"
                href: contents/core/ml_systems/ml_systems.qmd
              - text: "3. Deep Learning Foundations"
                href: contents/core/dl_primer/dl_primer.qmd
              - text: "4. Neural Architectures"
                href: contents/core/dnn_architectures/dnn_architectures.qmd

          # Part II: Building ML Systems
          - section: "II. Building ML Systems"
            id: vol1-part2
            contents:
              - text: "5. Workflow"
                href: contents/core/workflow/workflow.qmd
              - text: "6. Data Engineering"
                href: contents/core/data_engineering/data_engineering.qmd
              - text: "7. Frameworks"
                href: contents/core/frameworks/frameworks.qmd
              - text: "8. Training"
                href: contents/core/training/training.qmd

          # Part III: Optimizing Performance
          - section: "III. Optimizing Performance"
            id: vol1-part3
            contents:
              - text: "9. Efficiency"
                href: contents/core/efficient_ai/efficient_ai.qmd
              - text: "10. Optimization Techniques"
                href: contents/core/optimizations/optimizations.qmd
              - text: "11. Hardware Acceleration"
                href: contents/core/hw_acceleration/hw_acceleration.qmd
              - text: "12. Benchmarking"
                href: contents/core/benchmarking/benchmarking.qmd

          # Part IV: Closing
          - section: "IV. Closing"
            id: vol1-part4
            contents:
              - text: "13. Looking Ahead"
                href: contents/core/conclusion/conclusion.qmd

      # =================================================================
      # VOLUME II: Advanced Machine Learning Systems
      # =================================================================
      - section: "Volume II: Advanced"
        id: volume-2
        contents:

          # Part I: Foundations of Scale
          - section: "I. Foundations of Scale"
            id: vol2-part1
            contents:
              - text: "1. Introduction to Advanced ML"
                href: contents/advanced/introduction/introduction.qmd
              - text: "2. Large-Scale Infrastructure"
                href: contents/advanced/infrastructure/infrastructure.qmd
              - text: "3. Storage Systems"
                href: contents/advanced/storage/storage.qmd
              - text: "4. Communication & Collectives"
                href: contents/advanced/communication/communication.qmd

          # Part II: Distributed and Edge Systems
          - section: "II. Distributed & Edge Systems"
            id: vol2-part2
            contents:
              - text: "5. Distributed Training"
                href: contents/advanced/distributed_training/distributed_training.qmd
              - text: "6. Fault Tolerance"
                href: contents/advanced/fault_tolerance/fault_tolerance.qmd
              - text: "7. Inference at Scale"
                href: contents/advanced/inference/inference.qmd
              - text: "8. Edge Intelligence"
                href: contents/advanced/edge_intelligence/edge_intelligence.qmd
              - text: "9. On-Device Learning"
                href: contents/core/ondevice_learning/ondevice_learning.qmd

          # Part III: Reliability and Operations
          - section: "III. Reliability & Operations"
            id: vol2-part3
            contents:
              - text: "10. Privacy-Preserving ML"
                href: contents/core/privacy_security/privacy_security.qmd
              - text: "11. Robust AI"
                href: contents/core/robust_ai/robust_ai.qmd
              - text: "12. MLOps at Scale"
                href: contents/core/ops/ops.qmd

          # Part IV: Responsible Deployment
          - section: "IV. Responsible Deployment"
            id: vol2-part4
            contents:
              - text: "13. Responsible AI"
                href: contents/core/responsible_ai/responsible_ai.qmd
              - text: "14. Sustainable AI"
                href: contents/core/sustainable_ai/sustainable_ai.qmd
              - text: "15. Frontiers"
                href: contents/core/frontiers/frontiers.qmd
              - text: "16. Conclusion"
                href: contents/advanced/conclusion/conclusion.qmd

      - text: "---"

      # Backmatter
      - section: "Glossary"
        id: glossary
        contents:
          - text: "Complete Glossary"
            href: contents/backmatter/glossary/glossary.qmd

format:
  html:
    theme:
      light:
        - default
        - assets/styles/style.scss
    toc: true
    toc-depth: 3
    number-sections: false
