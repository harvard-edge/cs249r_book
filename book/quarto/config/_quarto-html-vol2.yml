# =============================================================================
# VOLUME II HTML WEBSITE CONFIGURATION
# =============================================================================
# Builds only Volume II: Machine Learning Systems at Scale
# Deploys to: mlsysbook.ai/vol2/
# =============================================================================

project:
  type: website
  output-dir: _build/html-vol2
  execute-dir: project

  post-render:
    - scripts/clean_svgs.py
    - scripts/fix_cross_references.py

  preview:
    browser: false
    navigate: false

website:
  title: "Machine Learning Systems at Scale"
  description: "Volume II: Machine Learning Systems at Scale. Scale, distribute, and govern machine learning systems in production."
  site-url: https://mlsysbook.ai/vol2/

  open-graph:
    locale: en_US
    site-name: "Machine Learning Systems"
    image: assets/images/covers/cover-hardcover-book.png
    image-width: 1200
    image-height: 630
  twitter-card:
    card-style: summary_large_image
    image: assets/images/covers/cover-hardcover-book.png

  page-navigation: true
  reader-mode: false
  back-to-top-navigation: true
  bread-crumbs: true

  search:
    keyboard-shortcut: ["/"]

  google-analytics:
    tracking-id: "G-M21L0CBCVN"
    anonymize-ip: true
    version: 4

  comments:
    hypothesis:
      theme: clean
      openSidebar: false

  navbar:
    background: light
    logo: "assets/images/icons/favicon.png"
    search: true
    pinned: true
    collapse: true
    collapse-below: "lg"
    title: "Machine Learning Systems at Scale"
    left:
      - text: "Textbook"
        menu:
          - icon: book-half
            text: "Full Textbook"
            href: ../book/
          - text: "---"
          - icon: journal
            text: "Volume I: Foundations"
            href: ../vol1/
          - icon: journal
            text: "Volume II: Advanced"
            href: ./
          - text: "---"
          - icon: fire
            text: "TinyTorch"
            href: ../tinytorch/
          - icon: cpu
            text: "Hardware Kits"
            href: ../kits/
          - text: "---"
          - icon: lightbulb
            text: "Labs (Coming 2026)"
            href: ../labs/
    right:
      - icon: download
        text: "Downloads"
        menu:
          - icon: file-pdf
            text: "Volume II PDF"
            href: assets/downloads/Machine-Learning-Systems-Vol2.pdf
            target: _blank
          - icon: journal-text
            text: "Volume II EPUB"
            href: assets/downloads/Machine-Learning-Systems-Vol2.epub
            target: _blank
          - text: "---"
          - icon: file-pdf
            text: "Volume I PDF"
            href: ../vol1/assets/downloads/Machine-Learning-Systems-Vol1.pdf
            target: _blank
      - icon: star
        text: "Star"
        href: https://github.com/harvard-edge/cs249r_book#support-this-work
        target: _blank
      - icon: heart
        text: "Support"
        href: https://opencollective.com/mlsysbook
        target: _blank
      - icon: envelope
        text: "Subscribe"
        href: "#subscribe"
        id: "navbar-subscribe-btn"
      - icon: github
        text: "GitHub"
        menu:
          - icon: pencil
            text: "Edit this page"
            href: https://github.com/harvard-edge/cs249r_book
            target: _blank
          - icon: bug
            text: "Report an issue"
            href: https://github.com/harvard-edge/cs249r_book/issues/new
            target: _blank
          - icon: chat
            text: "Discussions"
            href: https://github.com/harvard-edge/cs249r_book/discussions
            target: _blank
          - icon: code
            text: "View source"
            href: https://github.com/harvard-edge/cs249r_book
            target: _blank

  favicon: assets/images/icons/favicon.png

  sidebar:
    - id: vol2-content
      title: "Volume II"
      style: "floating"
      background: light
      collapse-level: 2
      contents:
        # Frontmatter
        - text: "Homepage"
          href: contents/vol2/index.qmd
        - href: contents/vol2/frontmatter/dedication.qmd
        - href: contents/vol2/frontmatter/foreword.qmd
        - href: contents/vol2/frontmatter/about.qmd
        - href: contents/vol2/frontmatter/acknowledgements.qmd
        - href: contents/vol2/frontmatter/notation.qmd
        - href: contents/frontmatter/socratiq/socratiq.qmd

        - text: "---"

        # Part I: The Fleet
        - section: "Part I: The Fleet"
          id: vol2-fleet
          contents:
            - text: "Introduction"
              href: contents/vol2/introduction/introduction.qmd
            - href: contents/vol2/compute_infrastructure/compute_infrastructure.qmd
            - href: contents/vol2/network_fabrics/network_fabrics.qmd
            - href: contents/vol2/data_storage/data_storage.qmd

        # Part II: Distributed ML
        - section: "Part II: Distributed ML"
          id: vol2-distributed
          contents:
            - href: contents/vol2/distributed_training/distributed_training.qmd
            - href: contents/vol2/collective_communication/collective_communication.qmd
            - href: contents/vol2/fault_tolerance/fault_tolerance.qmd
            - href: contents/vol2/fleet_orchestration/fleet_orchestration.qmd

        # Part III: Deployment at Scale
        - section: "Part III: Deployment at Scale"
          id: vol2-deployment
          contents:
            - href: contents/vol2/performance_engineering/performance_engineering.qmd
            - href: contents/vol2/inference/inference.qmd
            - href: contents/vol2/edge_intelligence/edge_intelligence.qmd
            - href: contents/vol2/ops_scale/ops_scale.qmd

        # Part IV: The Responsible Fleet
        - section: "Part IV: The Responsible Fleet"
          id: vol2-responsible
          contents:
            - href: contents/vol2/security_privacy/security_privacy.qmd
            - href: contents/vol2/robust_ai/robust_ai.qmd
            - href: contents/vol2/sustainable_ai/sustainable_ai.qmd
            - href: contents/vol2/responsible_ai/responsible_ai.qmd
            - href: contents/vol2/conclusion/conclusion.qmd

        - text: "---"

        # Appendices
        - section: "Appendices"
          id: vol2-appendices
          contents:
            - text: "Fleet Foundations"
              href: contents/vol2/backmatter/appendix_fleet.qmd
            - text: "Communication Foundations"
              href: contents/vol2/backmatter/appendix_communication.qmd
            - text: "Reliability Foundations"
              href: contents/vol2/backmatter/appendix_reliability.qmd
            - text: "The C³ Taxonomy"
              href: contents/vol2/backmatter/appendix_c3.qmd
            - text: "System Assumptions"
              href: contents/vol2/backmatter/appendix_assumptions.qmd
        - text: "Glossary"
          href: contents/vol2/backmatter/glossary/glossary.qmd

  repo-url: https://github.com/harvard-edge/cs249r_book

  page-footer:
    left: |
      © 2024-2025 Harvard University. Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY-NC-SA 4.0</a>
    center: |
      <a href="../vol1/">← Back to Volume I</a>
    right:
      - icon: github
        href: https://github.com/harvard-edge/cs249r_book
        aria-label: "View source on GitHub"
      - icon: star
        href: https://github.com/harvard-edge/cs249r_book
        aria-label: "Star this repository"
    background: light
    border: true

bibliography:
  - contents/vol2/backmatter/references.bib

format:
  html:
    lightbox: true
    mermaid:
      theme: default
    theme:
      light:
        - default
        - assets/styles/style-vol2.scss
      dark:
        - default
        - assets/styles/style-vol2.scss
        - assets/styles/dark-mode-vol2.scss
    respect-user-color-scheme: true
    title-prefix: ""
    pagetitle: "Machine Learning Systems at Scale"
    code-block-bg: true
    code-copy: true
    code-overflow: wrap
    language:
      title-block-author-single: "Author, Editor & Curator"
      title-block-published: "Last Updated"
    reference-location: margin
    citation-location: margin
    sidenote: true
    highlight-style: assets/styles/custom-code.theme
    code-link: true
    link-external-icon: false
    link-external-newwindow: true
    anchor-sections: true
    smooth-scroll: false
    citations-hover: false
    footnotes-hover: false
    fig-width: 7
    fig-height: 5
    toc: true
    toc-depth: 4
    toc-expand: true
    toc-title: "On this page"
    number-sections: false
    number-depth: 3
    include-in-header:
      text: |
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="apple-touch-icon" href="/assets/images/icons/favicon.png">
        <meta name="theme-color" content="#1F407A">
        <script type="module" src="/tools/scripts/socratiQ/bundle.js" defer></script>
        <script src="/assets/scripts/sidebar-auto-collapse.js" defer></script>
        <script src="/assets/scripts/version-link.js" defer></script>
        <script src="/assets/scripts/subscribe-modal.js" defer></script>
    citeproc: true

metadata-files:
  - config/shared/base/crossref-video.yml
  - config/shared/base/custom-numbered-blocks.yml
  - config/shared/base/execute-env.yml
  - config/shared/base/diagram.yml
  - config/shared/html/filters.yml
  - config/shared/html/filter-metadata.yml
  - config/shared/vol2/filter-metadata-paths.yml
  - config/shared/html/announcement.yml
