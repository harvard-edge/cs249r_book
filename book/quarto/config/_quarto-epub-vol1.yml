# =============================================================================
# VOLUME I EPUB CONFIGURATION
# =============================================================================
# Builds only Volume I: Introduction as EPUB
#
# Usage:
#   cp config/_quarto-epub-vol1.yml _quarto.yml
#   quarto render --to epub
# =============================================================================

project:
  type: book
  output-dir: _build/epub-vol1
  execute-dir: project
  post-render:
    - scripts/clean_svgs.py
    - scripts/epub_postprocess.py

  preview:
    browser: false
    navigate: false

execute:
  env:
    PYTHONPATH: "."

book:
  favicon: assets/images/icons/favicon.png
  cover-image: assets/images/covers/cover-hardcover-book-vol1.png
  cover-image-alt: "Cover image."

  title: "Introduction to Machine Learning Systems"

  date: today
  date-format: long

  author:
    name: "Prof. Vijay Janapa Reddi"
    email: vj@eecs.harvard.edu
    url: https://www.google.com/search?q=Vijay+Janapa+Reddi
    affiliations:
      - name: "Harvard University"
        department: "School of Engineering and Applied Sciences"
        city: "Cambridge"
        state: "MA"
        country: "USA"
    corresponding: true
    roles: "Author, editor and curator."
    orcid: "0000-0002-5259-7721"

  abstract: |
    Volume I of Machine Learning Systems presents a comprehensive introduction to understanding and engineering machine learning systems, with a focus on mastering the machine learning node. This volume establishes the foundations through four progressive stages: building conceptual models, engineering complete workflows, optimizing for real-world constraints, and deploying with confidence.

  repo-url: https://github.com/harvard-edge/cs249r_book

  page-footer:
    left: |
      Written, edited and curated by Prof. Vijay Janapa Reddi (Harvard University)
    right: |
      This book was built with <a href="https://quarto.org/">Quarto</a>.

  chapters:
    - index.qmd

    # Volume I Frontmatter
    - contents/vol1/frontmatter/about.qmd
    - contents/vol1/frontmatter/acknowledgements.qmd

    # Part I: Foundations
    - part: "Foundations"
    - contents/vol1/parts/foundations_principles.qmd
    - contents/vol1/introduction/introduction.qmd
    - contents/vol1/ml_systems/ml_systems.qmd
    - contents/vol1/ml_workflow/ml_workflow.qmd
    - contents/vol1/data_engineering/data_engineering.qmd

    # Part II: Build
    - part: "Build"
    - contents/vol1/parts/build_principles.qmd
    - contents/vol1/nn_computation/nn_computation.qmd
    - contents/vol1/nn_architectures/nn_architectures.qmd
    - contents/vol1/frameworks/frameworks.qmd
    - contents/vol1/training/training.qmd

    # Part III: Optimize
    - part: "Optimize"
    - contents/vol1/parts/optimize_principles.qmd
    - contents/vol1/data_selection/data_selection.qmd
    - contents/vol1/optimizations/model_compression.qmd
    - contents/vol1/hw_acceleration/hw_acceleration.qmd
    - contents/vol1/benchmarking/benchmarking.qmd

    # Part IV: Deploy
    - part: "Deploy"
    - contents/vol1/parts/deploy_principles.qmd
    - contents/vol1/model_serving/model_serving.qmd
    - contents/vol1/ml_ops/ml_ops.qmd
    - contents/vol1/responsible_engr/responsible_engr.qmd
    - contents/vol1/conclusion/conclusion.qmd
    - contents/vol1/backmatter/references.qmd

    - part: "Appendices"
      chapters:
        - contents/vol1/backmatter/appendix_dam.qmd
        - contents/vol1/backmatter/appendix_machine.qmd
        - contents/vol1/backmatter/appendix_algorithm.qmd
        - contents/vol1/backmatter/appendix_data.qmd
    - contents/vol1/backmatter/glossary/glossary.qmd

bibliography:
  - contents/vol1/backmatter/references.bib

editor:
  render-on-save: true

format:
  epub:
    language: "en-US"
    identifier: "https://mlsysbook.ai/epub/vol1"
    contributor: "Harvard University, School of Engineering and Applied Sciences"
    subject: "Machine Learning, Computer Science, Engineering, Artificial Intelligence, Systems Design"
    description: "Volume I of Machine Learning Systems, covering foundations, development, optimization, and deployment."
    type: "Text"
    format: "application/epub+zip"
    source: "https://mlsysbook.ai"
    toc: true
    toc-depth: 3
    toc-title: "Table of Contents"
    epub-chapter-level: 1
    epub-cover-image: "assets/images/covers/cover_image_title-vol1.png"
    epub-title-page: true
    css: "assets/styles/epub-vol1.css"
    code-overflow: wrap
    code-copy: true
    code-line-numbers: true
    number-sections: false
    number-depth: 3
    fig-align: center
    fig-caption: true
    footnotes-hover: true
    link-citations: true
    citations-hover: true

metadata-files:
  - config/shared/base/custom-numbered-blocks.yml
  - config/shared/base/diagram.yml
  - config/shared/epub/filters.yml
  - config/shared/epub/filter-metadata.yml
  - config/shared/vol1/filter-metadata-paths.yml

