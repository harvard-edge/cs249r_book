# TinyðŸ”¥Torch: Don't import it. Build it.
# PDF-Specific Configuration

title: "TinyðŸ”¥Torch"
subtitle: "Don't import it. Build it."
author: "Prof. Vijay Janapa Reddi (Harvard University)"
copyright: "2025"
logo: _static/logos/logo-tinytorch-white.png

# Book description
description: >-
  An interactive course for building machine learning systems from the ground up.
  Learn by implementing your own PyTorch-style framework with hands-on coding,
  real datasets, and production-ready practices.

# Execution settings - disable for PDF
execute:
  execute_notebooks: "off"
  allow_errors: false
  timeout: 300

# Exclude patterns
exclude_patterns:
  - _build
  - .venv
  - appendices
  - "**/.venv/**"
  - "**/__pycache__/**"
  - "**/.DS_Store"

# GitHub repository (for reference in PDF)
repository:
  url: https://github.com/mlsysbook/TinyTorch
  path_to_book: docs
  branch: main

# LaTeX/PDF output configuration
latex:
  latex_engine: lualatex
  use_jupyterbook_latex: true
  latex_documents:
    targetname: tinytorch-course.tex

# Bibliography support
bibtex_bibfiles:
  - references.bib

# Sphinx extensions
sphinx:
  extra_extensions:
    - sphinxcontrib.mermaid
  config:
    mermaid_version: "10.6.1"
    # PDF-specific settings
    latex_toplevel_sectioning: 'chapter'
    latex_theme: 'manual'
    latex_elements:
      papersize: 'letterpaper'
      pointsize: '10pt'
      preamble: |
        % Graphics for title page
        \usepackage{graphicx}

        % Custom title page with branding
        \makeatletter
        \renewcommand{\maketitle}{%
          \begin{titlepage}
            \centering
            \vspace*{2cm}
            {\Huge\bfseries Tiny\includegraphics[height=1.2em]{fire-emoji.png}Torch\par}
            \vspace{1cm}
            {\Large\itshape Don't import it. Build it.\par}
            \vspace{2cm}
            {\Large \@author\par}
            \vfill
            {\large \@date\par}
          \end{titlepage}
        }
        \makeatother

        % Headers and footers
        \usepackage{fancyhdr}
        \pagestyle{fancy}
        \fancyhead[LE,RO]{\thepage}
        \fancyhead[LO]{\nouppercase{\rightmark}}
        \fancyhead[RE]{\nouppercase{\leftmark}}
      latex_additional_files:
        - _static/logos/fire-emoji.png

# Parse configuration
parse:
  myst_enable_extensions:
    - "colon_fence"
    - "deflist"
    - "html_admonition"
    - "html_image"
    - "linkify"
    - "replacements"
    - "smartquotes"
    - "substitution"
    - "tasklist"

# Build only TOC files
only_build_toc_files: true
