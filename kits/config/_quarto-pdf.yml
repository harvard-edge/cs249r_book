# =============================================================================
# HARDWARE KITS PDF CONFIGURATION
# =============================================================================
# Standalone PDF book configuration with custom cover page.
# Usage: ln -sf config/_quarto-pdf.yml _quarto.yml && quarto render --to titlepage-pdf
# Or:    make pdf
# =============================================================================

project:
  type: book
  output-dir: _build/pdf

book:
  title: "Hardware Kits"
  subtitle: "Hands-On Embedded ML Labs"
  author:
    - "Marcelo Rovai"
    - "Vijay Janapa Reddi"
  date: today

  chapters:
    # Frontmatter
    - index.qmd
    - contents/getting-started.qmd
    - contents/platforms.qmd
    - contents/ide-setup.qmd

    # Arduino Labs
    - part: "Arduino Nicla Vision"
      chapters:
        - contents/arduino/nicla_vision/nicla_vision.qmd
        - contents/arduino/nicla_vision/setup/setup.qmd
        - contents/arduino/nicla_vision/image_classification/image_classification.qmd
        - contents/arduino/nicla_vision/object_detection/object_detection.qmd
        - contents/arduino/nicla_vision/kws/kws.qmd
        - contents/arduino/nicla_vision/motion_classification/motion_classification.qmd

    # Seeed XIAO Labs
    - part: "Seeed XIAO ESP32S3"
      chapters:
        - contents/seeed/xiao_esp32s3/xiao_esp32s3.qmd
        - contents/seeed/xiao_esp32s3/setup/setup.qmd
        - contents/seeed/xiao_esp32s3/image_classification/image_classification.qmd
        - contents/seeed/xiao_esp32s3/object_detection/object_detection.qmd
        - contents/seeed/xiao_esp32s3/kws/kws.qmd
        - contents/seeed/xiao_esp32s3/motion_classification/motion_classification.qmd

    # Grove Vision Labs
    - part: "Grove Vision AI V2"
      chapters:
        - contents/seeed/grove_vision_ai_v2/grove_vision_ai_v2.qmd
        - contents/seeed/grove_vision_ai_v2/setup_and_no_code_apps/setup_and_no_code_apps.qmd
        - contents/seeed/grove_vision_ai_v2/image_classification/image_classification.qmd
        - contents/seeed/grove_vision_ai_v2/object_detection/object_detection.qmd

    # Raspberry Pi Labs
    - part: "Raspberry Pi"
      chapters:
        - contents/raspi/raspi.qmd
        - contents/raspi/setup/setup.qmd
        - contents/raspi/image_classification/image_classification.qmd
        - contents/raspi/object_detection/object_detection.qmd
        - contents/raspi/llm/llm.qmd
        - contents/raspi/vlm/vlm.qmd

    # Shared Resources
    - part: "Shared Resources"
      chapters:
        - contents/shared/shared.qmd
        - contents/shared/kws_feature_eng/kws_feature_eng.qmd
        - contents/shared/dsp_spectral_features_block/dsp_spectral_features_block.qmd

format:
  titlepage-pdf:
    pdf-engine: lualatex
    use-rsvg-convert: true
    documentclass: scrbook
    classoption: [abstract, titlepage]
    papersize: letter
    fontsize: 10pt
    header-includes: |
      \usepackage{needspace}
      \let\Needspace\needspace

    # Title page configuration
    # Using custom LaTeX cover page defined in before-body-includes.tex
    # Matches the division/labdivision style from header-includes.tex
    coverpage: false
    titlepage: false

    # LaTeX includes
    include-in-header: tex/header-includes.tex
    include-before-body: tex/before-body-includes.tex
    include-after-body: tex/after-body-includes.tex

    # Output settings
    keep-tex: false
    toc: true
    toc-depth: 2
    number-sections: true

    # Code formatting
    code-copy: false
    code-overflow: wrap
    highlight-style: github

# Lua filters
filters:
  - filters/inject_parts.lua

# Filter configurations and metadata
filter-metadata:
  part-summaries:
    file: "contents/parts/summaries.yml"
    enabled: true
